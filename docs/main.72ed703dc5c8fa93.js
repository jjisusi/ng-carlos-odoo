(self.webpackChunkng_carlos_odoo=self.webpackChunkng_carlos_odoo||[]).push([[792],{7:(we,tt,W)=>{"use strict";var ae=W(293).default;const Re=ie=>new Promise((X,O)=>{const Ve=new FileReader;Ve.onload=()=>{X(Ve.result)},Ve.onerror=({target:{error:{code:ut}}})=>{O(Error(`File could not be read! Code=${ut}`))},Ve.readAsArrayBuffer(ie)}),ke=function(){var ie=ae(function*(X){let O=X;if(typeof X>"u")return"undefined";if("string"==typeof X)O=/data:image\/([a-zA-Z]*);base64,([^"]*)/.test(X)?atob(X.split(",")[1]).split("").map(Ve=>Ve.charCodeAt(0)):yield(yield fetch(X)).arrayBuffer();else if(typeof HTMLElement<"u"&&X instanceof HTMLElement)"IMG"===X.tagName&&(O=yield ke(X.src)),"VIDEO"===X.tagName&&(O=yield ke(X.poster)),"CANVAS"===X.tagName&&(yield new Promise(Ve=>{X.toBlob(function(){var ut=ae(function*(At){O=yield Re(At),Ve()});return function(At){return ut.apply(this,arguments)}}())}));else if(typeof OffscreenCanvas<"u"&&X instanceof OffscreenCanvas){const Ve=yield X.convertToBlob();O=yield Re(Ve)}else(X instanceof File||X instanceof Blob)&&(O=yield Re(X));return new Uint8Array(O)});return function(O){return ie.apply(this,arguments)}}();we.exports=ke},23:(we,tt,W)=>{"use strict";var ae=W(293).default;we.exports=function(){var Re=ae(function*(ke,ie){ke.postMessage(ie)});return function(ke,ie){return Re.apply(this,arguments)}}()},29:we=>{"use strict";we.exports={OSD_ONLY:"0",AUTO_OSD:"1",AUTO_ONLY:"2",AUTO:"3",SINGLE_COLUMN:"4",SINGLE_BLOCK_VERT_TEXT:"5",SINGLE_BLOCK:"6",SINGLE_LINE:"7",SINGLE_WORD:"8",CIRCLE_WORD:"9",SINGLE_CHAR:"10",SPARSE_TEXT:"11",SPARSE_TEXT_OSD:"12",RAW_LINE:"13"}},91:we=>{var tt=function(W){"use strict";var ie,ae=Object.prototype,Re=ae.hasOwnProperty,ke=Object.defineProperty||function(N,T,F){N[T]=F.value},X="function"==typeof Symbol?Symbol:{},O=X.iterator||"@@iterator",Ve=X.asyncIterator||"@@asyncIterator",ut=X.toStringTag||"@@toStringTag";function At(N,T,F){return Object.defineProperty(N,T,{value:F,enumerable:!0,configurable:!0,writable:!0}),N[T]}try{At({},"")}catch{At=function(T,F,U){return T[F]=U}}function ue(N,T,F,U){var ee=Object.create((T&&T.prototype instanceof er?T:er).prototype),ye=new Ne(U||[]);return ke(ee,"_invoke",{value:S(N,F,ye)}),ee}function ln(N,T,F){try{return{type:"normal",arg:N.call(T,F)}}catch(U){return{type:"throw",arg:U}}}W.wrap=ue;var Ir="suspendedStart",Kn="suspendedYield",Xn="executing",lr="completed",Zn={};function er(){}function dt(){}function Xt(){}var vn={};At(vn,O,function(){return this});var On=Object.getPrototypeOf,yn=On&&On(On(wt([])));yn&&yn!==ae&&Re.call(yn,O)&&(vn=yn);var tn=Xt.prototype=er.prototype=Object.create(vn);function Ye(N){["next","throw","return"].forEach(function(T){At(N,T,function(F){return this._invoke(T,F)})})}function E(N,T){function F(ee,ye,Y,rt){var Je=ln(N[ee],N,ye);if("throw"!==Je.type){var cn=Je.arg,nn=cn.value;return nn&&"object"==typeof nn&&Re.call(nn,"__await")?T.resolve(nn.__await).then(function(Ie){F("next",Ie,Y,rt)},function(Ie){F("throw",Ie,Y,rt)}):T.resolve(nn).then(function(Ie){cn.value=Ie,Y(cn)},function(Ie){return F("throw",Ie,Y,rt)})}rt(Je.arg)}var U;ke(this,"_invoke",{value:function re(ee,ye){function Y(){return new T(function(rt,Je){F(ee,ye,rt,Je)})}return U=U?U.then(Y,Y):Y()}})}function S(N,T,F){var U=Ir;return function(ee,ye){if(U===Xn)throw new Error("Generator is already running");if(U===lr){if("throw"===ee)throw ye;return Et()}for(F.method=ee,F.arg=ye;;){var Y=F.delegate;if(Y){var rt=M(Y,F);if(rt){if(rt===Zn)continue;return rt}}if("next"===F.method)F.sent=F._sent=F.arg;else if("throw"===F.method){if(U===Ir)throw U=lr,F.arg;F.dispatchException(F.arg)}else"return"===F.method&&F.abrupt("return",F.arg);U=Xn;var Je=ln(N,T,F);if("normal"===Je.type){if(U=F.done?lr:Kn,Je.arg===Zn)continue;return{value:Je.arg,done:F.done}}"throw"===Je.type&&(U=lr,F.method="throw",F.arg=Je.arg)}}}function M(N,T){var F=T.method,U=N.iterator[F];if(U===ie)return T.delegate=null,"throw"===F&&N.iterator.return&&(T.method="return",T.arg=ie,M(N,T),"throw"===T.method)||"return"!==F&&(T.method="throw",T.arg=new TypeError("The iterator does not provide a '"+F+"' method")),Zn;var re=ln(U,N.iterator,T.arg);if("throw"===re.type)return T.method="throw",T.arg=re.arg,T.delegate=null,Zn;var ee=re.arg;return ee?ee.done?(T[N.resultName]=ee.value,T.next=N.nextLoc,"return"!==T.method&&(T.method="next",T.arg=ie),T.delegate=null,Zn):ee:(T.method="throw",T.arg=new TypeError("iterator result is not an object"),T.delegate=null,Zn)}function le(N){var T={tryLoc:N[0]};1 in N&&(T.catchLoc=N[1]),2 in N&&(T.finallyLoc=N[2],T.afterLoc=N[3]),this.tryEntries.push(T)}function oe(N){var T=N.completion||{};T.type="normal",delete T.arg,N.completion=T}function Ne(N){this.tryEntries=[{tryLoc:"root"}],N.forEach(le,this),this.reset(!0)}function wt(N){if(N){var T=N[O];if(T)return T.call(N);if("function"==typeof N.next)return N;if(!isNaN(N.length)){var F=-1,U=function re(){for(;++F<N.length;)if(Re.call(N,F))return re.value=N[F],re.done=!1,re;return re.value=ie,re.done=!0,re};return U.next=U}}return{next:Et}}function Et(){return{value:ie,done:!0}}return dt.prototype=Xt,ke(tn,"constructor",{value:Xt,configurable:!0}),ke(Xt,"constructor",{value:dt,configurable:!0}),dt.displayName=At(Xt,ut,"GeneratorFunction"),W.isGeneratorFunction=function(N){var T="function"==typeof N&&N.constructor;return!!T&&(T===dt||"GeneratorFunction"===(T.displayName||T.name))},W.mark=function(N){return Object.setPrototypeOf?Object.setPrototypeOf(N,Xt):(N.__proto__=Xt,At(N,ut,"GeneratorFunction")),N.prototype=Object.create(tn),N},W.awrap=function(N){return{__await:N}},Ye(E.prototype),At(E.prototype,Ve,function(){return this}),W.AsyncIterator=E,W.async=function(N,T,F,U,re){void 0===re&&(re=Promise);var ee=new E(ue(N,T,F,U),re);return W.isGeneratorFunction(T)?ee:ee.next().then(function(ye){return ye.done?ye.value:ee.next()})},Ye(tn),At(tn,ut,"Generator"),At(tn,O,function(){return this}),At(tn,"toString",function(){return"[object Generator]"}),W.keys=function(N){var T=Object(N),F=[];for(var U in T)F.push(U);return F.reverse(),function re(){for(;F.length;){var ee=F.pop();if(ee in T)return re.value=ee,re.done=!1,re}return re.done=!0,re}},W.values=wt,Ne.prototype={constructor:Ne,reset:function(N){if(this.prev=0,this.next=0,this.sent=this._sent=ie,this.done=!1,this.delegate=null,this.method="next",this.arg=ie,this.tryEntries.forEach(oe),!N)for(var T in this)"t"===T.charAt(0)&&Re.call(this,T)&&!isNaN(+T.slice(1))&&(this[T]=ie)},stop:function(){this.done=!0;var T=this.tryEntries[0].completion;if("throw"===T.type)throw T.arg;return this.rval},dispatchException:function(N){if(this.done)throw N;var T=this;function F(rt,Je){return ee.type="throw",ee.arg=N,T.next=rt,Je&&(T.method="next",T.arg=ie),!!Je}for(var U=this.tryEntries.length-1;U>=0;--U){var re=this.tryEntries[U],ee=re.completion;if("root"===re.tryLoc)return F("end");if(re.tryLoc<=this.prev){var ye=Re.call(re,"catchLoc"),Y=Re.call(re,"finallyLoc");if(ye&&Y){if(this.prev<re.catchLoc)return F(re.catchLoc,!0);if(this.prev<re.finallyLoc)return F(re.finallyLoc)}else if(ye){if(this.prev<re.catchLoc)return F(re.catchLoc,!0)}else{if(!Y)throw new Error("try statement without catch or finally");if(this.prev<re.finallyLoc)return F(re.finallyLoc)}}}},abrupt:function(N,T){for(var F=this.tryEntries.length-1;F>=0;--F){var U=this.tryEntries[F];if(U.tryLoc<=this.prev&&Re.call(U,"finallyLoc")&&this.prev<U.finallyLoc){var re=U;break}}re&&("break"===N||"continue"===N)&&re.tryLoc<=T&&T<=re.finallyLoc&&(re=null);var ee=re?re.completion:{};return ee.type=N,ee.arg=T,re?(this.method="next",this.next=re.finallyLoc,Zn):this.complete(ee)},complete:function(N,T){if("throw"===N.type)throw N.arg;return"break"===N.type||"continue"===N.type?this.next=N.arg:"return"===N.type?(this.rval=this.arg=N.arg,this.method="return",this.next="end"):"normal"===N.type&&T&&(this.next=T),Zn},finish:function(N){for(var T=this.tryEntries.length-1;T>=0;--T){var F=this.tryEntries[T];if(F.finallyLoc===N)return this.complete(F.completion,F.afterLoc),oe(F),Zn}},catch:function(N){for(var T=this.tryEntries.length-1;T>=0;--T){var F=this.tryEntries[T];if(F.tryLoc===N){var U=F.completion;if("throw"===U.type){var re=U.arg;oe(F)}return re}}throw new Error("illegal catch attempt")},delegateYield:function(N,T,F){return this.delegate={iterator:wt(N),resultName:T,nextLoc:F},"next"===this.method&&(this.arg=ie),Zn}},W}(we.exports);try{regeneratorRuntime=tt}catch{"object"==typeof globalThis?globalThis.regeneratorRuntime=tt:Function("r","regeneratorRuntime = r")(tt)}},125:we=>{"use strict";we.exports={rE:"6.0.1"}},154:(we,tt,W)=>{"use strict";let ae=null,Re=!1,ke=1;const X=Symbol("SIGNAL");function O(n){const t=ae;return ae=n,t}const ue={version:0,lastCleanEpoch:0,dirty:!1,producers:void 0,producersTail:void 0,consumers:void 0,consumersTail:void 0,recomputing:!1,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,kind:"unknown",producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function ln(n){if(Re)throw new Error("");if(null===ae)return;ae.consumerOnSignalRead(n);const t=ae.producersTail;if(void 0!==t&&t.producer===n)return;let e;const r=ae.recomputing;if(r&&(e=void 0!==t?t.nextProducer:ae.producers,void 0!==e&&e.producer===n))return ae.producersTail=e,void(e.lastReadVersion=n.version);const o=n.consumersTail;if(void 0!==o&&o.consumer===ae&&(!r||function oe(n,t){const e=t.producersTail;if(void 0!==e){let r=t.producers;do{if(r===n)return!0;if(r===e)break;r=r.nextProducer}while(void 0!==r)}return!1}(o,ae)))return;const i=S(ae),s={producer:n,consumer:ae,nextProducer:e,prevConsumer:o,lastReadVersion:n.version,nextConsumer:void 0};ae.producersTail=s,void 0!==t?t.nextProducer=s:ae.producers=s,i&&Ye(n,s)}function Kn(n){if((!S(n)||n.dirty)&&(n.dirty||n.lastCleanEpoch!==ke)){if(!n.producerMustRecompute(n)&&!yn(n))return void er(n);n.producerRecomputeValue(n),er(n)}}function Xn(n){if(void 0===n.consumers)return;const t=Re;Re=!0;try{for(let e=n.consumers;void 0!==e;e=e.nextConsumer){const r=e.consumer;r.dirty||Zn(r)}}finally{Re=t}}function lr(){return!1!==ae?.consumerAllowSignalWrites}function Zn(n){n.dirty=!0,Xn(n),n.consumerMarkedDirty?.(n)}function er(n){n.dirty=!1,n.lastCleanEpoch=ke}function dt(n){return n&&function Xt(n){n.producersTail=void 0,n.recomputing=!0}(n),O(n)}function vn(n,t){O(t),n&&function On(n){n.recomputing=!1;const t=n.producersTail;let e=void 0!==t?t.nextProducer:n.producers;if(void 0!==e){if(S(n))do{e=E(e)}while(void 0!==e);void 0!==t?t.nextProducer=void 0:n.producers=void 0}}(n)}function yn(n){for(let t=n.producers;void 0!==t;t=t.nextProducer){const e=t.producer,r=t.lastReadVersion;if(r!==e.version||(Kn(e),r!==e.version))return!0}return!1}function tn(n){if(S(n)){let t=n.producers;for(;void 0!==t;)t=E(t)}n.producers=void 0,n.producersTail=void 0,n.consumers=void 0,n.consumersTail=void 0}function Ye(n,t){const e=n.consumersTail,r=S(n);if(void 0!==e?(t.nextConsumer=e.nextConsumer,e.nextConsumer=t):(t.nextConsumer=void 0,n.consumers=t),t.prevConsumer=e,n.consumersTail=t,!r)for(let o=n.producers;void 0!==o;o=o.nextProducer)Ye(o.producer,o)}function E(n){const t=n.producer,e=n.nextProducer,r=n.nextConsumer,o=n.prevConsumer;if(n.nextConsumer=void 0,n.prevConsumer=void 0,void 0!==r?r.prevConsumer=o:t.consumersTail=o,void 0!==o)o.nextConsumer=r;else if(t.consumers=r,!S(t)){let i=t.producers;for(;void 0!==i;)i=E(i)}return e}function S(n){return n.consumerIsAlwaysLive||void 0!==n.consumers}function Ne(n,t){return Object.is(n,t)}function wt(n,t){const e=Object.create(F);e.computation=n,void 0!==t&&(e.equal=t);const r=()=>{if(Kn(e),ln(e),e.value===T)throw e.error;return e.value};return r[X]=e,r}const Et=Symbol("UNSET"),N=Symbol("COMPUTING"),T=Symbol("ERRORED"),F={...ue,value:Et,dirty:!0,error:null,equal:Ne,kind:"computed",producerMustRecompute:n=>n.value===Et||n.value===N,producerRecomputeValue(n){if(n.value===N)throw new Error("");const t=n.value;n.value=N;const e=dt(n);let r,o=!1;try{r=n.computation(),O(null),o=t!==Et&&t!==T&&r!==T&&n.equal(t,r)}catch(i){r=T,n.error=i}finally{vn(n,e)}o?n.value=t:(n.value=r,n.version++)}};let re=function U(){throw new Error};function ee(n){re(n)}function rt(n,t){const e=Object.create(fe);e.value=n,void 0!==t&&(e.equal=t);const r=()=>function cn(n){return ln(n),n.value}(e);return r[X]=e,[r,s=>nn(e,s),s=>function Ie(n,t){lr()||ee(n),nn(n,t(n.value))}(e,s)]}function nn(n,t){lr()||ee(n),n.equal(n.value,t)||(n.value=t,function te(n){n.version++,function Ir(){ke++}(),Xn(n)}(n))}const fe={...ue,equal:Ne,value:void 0,kind:"signal"},St={...ue,consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!0,dirty:!0,kind:"effect"};function de(n){return"function"==typeof n}function Ge(n){const e=n(r=>{Error.call(r),r.stack=(new Error).stack});return e.prototype=Object.create(Error.prototype),e.prototype.constructor=e,e}const pn=Ge(n=>function(e){n(this),this.message=e?`${e.length} errors occurred during unsubscription:\n${e.map((r,o)=>`${o+1}) ${r.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=e});function ot(n,t){if(n){const e=n.indexOf(t);0<=e&&n.splice(e,1)}}class et{constructor(t){this.initialTeardown=t,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let t;if(!this.closed){this.closed=!0;const{_parentage:e}=this;if(e)if(this._parentage=null,Array.isArray(e))for(const i of e)i.remove(this);else e.remove(this);const{initialTeardown:r}=this;if(de(r))try{r()}catch(i){t=i instanceof pn?i.errors:[i]}const{_finalizers:o}=this;if(o){this._finalizers=null;for(const i of o)try{so(i)}catch(s){t=t??[],s instanceof pn?t=[...t,...s.errors]:t.push(s)}}if(t)throw new pn(t)}}add(t){var e;if(t&&t!==this)if(this.closed)so(t);else{if(t instanceof et){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=null!==(e=this._finalizers)&&void 0!==e?e:[]).push(t)}}_hasParent(t){const{_parentage:e}=this;return e===t||Array.isArray(e)&&e.includes(t)}_addParent(t){const{_parentage:e}=this;this._parentage=Array.isArray(e)?(e.push(t),e):e?[e,t]:t}_removeParent(t){const{_parentage:e}=this;e===t?this._parentage=null:Array.isArray(e)&&ot(e,t)}remove(t){const{_finalizers:e}=this;e&&ot(e,t),t instanceof et&&t._removeParent(this)}}et.EMPTY=(()=>{const n=new et;return n.closed=!0,n})();const Sn=et.EMPTY;function Ii(n){return n instanceof et||n&&"closed"in n&&de(n.remove)&&de(n.add)&&de(n.unsubscribe)}function so(n){de(n)?n():n.unsubscribe()}const ao={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},Ln={setTimeout(n,t,...e){const{delegate:r}=Ln;return r?.setTimeout?r.setTimeout(n,t,...e):setTimeout(n,t,...e)},clearTimeout(n){const{delegate:t}=Ln;return(t?.clearTimeout||clearTimeout)(n)},delegate:void 0};function lo(n){Ln.setTimeout(()=>{const{onUnhandledError:t}=ao;if(!t)throw n;t(n)})}function kn(){}const Cr=Oa("C",void 0,void 0);function Oa(n,t,e){return{kind:n,value:t,error:e}}let qr=null;function xr(n){if(ao.useDeprecatedSynchronousErrorHandling){const t=!qr;if(t&&(qr={errorThrown:!1,error:null}),n(),t){const{errorThrown:e,error:r}=qr;if(qr=null,e)throw r}}else n()}class La extends et{constructor(t){super(),this.isStopped=!1,t?(this.destination=t,Ii(t)&&t.add(this)):this.destination=MN}static create(t,e,r){return new lg(t,e,r)}next(t){this.isStopped?cg(function mc(n){return Oa("N",n,void 0)}(t),this):this._next(t)}error(t){this.isStopped?cg(function Wo(n){return Oa("E",void 0,n)}(t),this):(this.isStopped=!0,this._error(t))}complete(){this.isStopped?cg(Cr,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(t){this.destination.next(t)}_error(t){try{this.destination.error(t)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const AN=Function.prototype.bind;function ag(n,t){return AN.call(n,t)}class IN{constructor(t){this.partialObserver=t}next(t){const{partialObserver:e}=this;if(e.next)try{e.next(t)}catch(r){Sd(r)}}error(t){const{partialObserver:e}=this;if(e.error)try{e.error(t)}catch(r){Sd(r)}else Sd(t)}complete(){const{partialObserver:t}=this;if(t.complete)try{t.complete()}catch(e){Sd(e)}}}class lg extends La{constructor(t,e,r){let o;if(super(),de(t)||!t)o={next:t??void 0,error:e??void 0,complete:r??void 0};else{let i;this&&ao.useDeprecatedNextContext?(i=Object.create(t),i.unsubscribe=()=>this.unsubscribe(),o={next:t.next&&ag(t.next,i),error:t.error&&ag(t.error,i),complete:t.complete&&ag(t.complete,i)}):o=t}this.destination=new IN(o)}}function Sd(n){ao.useDeprecatedSynchronousErrorHandling?function Is(n){ao.useDeprecatedSynchronousErrorHandling&&qr&&(qr.errorThrown=!0,qr.error=n)}(n):lo(n)}function cg(n,t){const{onStoppedNotification:e}=ao;e&&Ln.setTimeout(()=>e(n,t))}const MN={closed:!0,next:kn,error:function xN(n){throw n},complete:kn},ug="function"==typeof Symbol&&Symbol.observable||"@@observable";function Pa(n){return n}function v0(n){return 0===n.length?Pa:1===n.length?n[0]:function(e){return n.reduce((r,o)=>o(r),e)}}let tr=(()=>{class n{constructor(e){e&&(this._subscribe=e)}lift(e){const r=new n;return r.source=this,r.operator=e,r}subscribe(e,r,o){const i=function ON(n){return n&&n instanceof La||function NN(n){return n&&de(n.next)&&de(n.error)&&de(n.complete)}(n)&&Ii(n)}(e)?e:new lg(e,r,o);return xr(()=>{const{operator:s,source:a}=this;i.add(s?s.call(i,a):a?this._subscribe(i):this._trySubscribe(i))}),i}_trySubscribe(e){try{return this._subscribe(e)}catch(r){e.error(r)}}forEach(e,r){return new(r=y0(r))((o,i)=>{const s=new lg({next:a=>{try{e(a)}catch(l){i(l),s.unsubscribe()}},error:i,complete:o});this.subscribe(s)})}_subscribe(e){var r;return null===(r=this.source)||void 0===r?void 0:r.subscribe(e)}[ug](){return this}pipe(...e){return v0(e)(this)}toPromise(e){return new(e=y0(e))((r,o)=>{let i;this.subscribe(s=>i=s,s=>o(s),()=>r(i))})}}return n.create=t=>new n(t),n})();function y0(n){var t;return null!==(t=n??ao.Promise)&&void 0!==t?t:Promise}const LN=Ge(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let dg,Yr=(()=>{class n extends tr{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(e){const r=new _0(this,this);return r.operator=e,r}_throwIfClosed(){if(this.closed)throw new LN}next(e){xr(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const r of this.currentObservers)r.next(e)}})}error(e){xr(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=e;const{observers:r}=this;for(;r.length;)r.shift().error(e)}})}complete(){xr(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:e}=this;for(;e.length;)e.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var e;return(null===(e=this.observers)||void 0===e?void 0:e.length)>0}_trySubscribe(e){return this._throwIfClosed(),super._trySubscribe(e)}_subscribe(e){return this._throwIfClosed(),this._checkFinalizedStatuses(e),this._innerSubscribe(e)}_innerSubscribe(e){const{hasError:r,isStopped:o,observers:i}=this;return r||o?Sn:(this.currentObservers=null,i.push(e),new et(()=>{this.currentObservers=null,ot(i,e)}))}_checkFinalizedStatuses(e){const{hasError:r,thrownError:o,isStopped:i}=this;r?e.error(o):i&&e.complete()}asObservable(){const e=new tr;return e.source=this,e}}return n.create=(t,e)=>new _0(t,e),n})();class _0 extends Yr{constructor(t,e){super(),this.destination=t,this.source=e}next(t){var e,r;null===(r=null===(e=this.destination)||void 0===e?void 0:e.next)||void 0===r||r.call(e,t)}error(t){var e,r;null===(r=null===(e=this.destination)||void 0===e?void 0:e.error)||void 0===r||r.call(e,t)}complete(){var t,e;null===(e=null===(t=this.destination)||void 0===t?void 0:t.complete)||void 0===e||e.call(t)}_subscribe(t){var e,r;return null!==(r=null===(e=this.source)||void 0===e?void 0:e.subscribe(t))&&void 0!==r?r:Sn}}class Eo extends Yr{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const e=super._subscribe(t);return!e.closed&&t.next(this._value),e}getValue(){const{hasError:t,thrownError:e,_value:r}=this;if(t)throw e;return this._throwIfClosed(),r}next(t){super.next(this._value=t)}}function hg(){return dg}function es(n){const t=dg;return dg=n,t}const PN=Symbol("NotFound");function fg(n){return n===PN||"\u0275NotFound"===n?.name}Error;const w0="https://angular.dev/best-practices/security#preventing-cross-site-scripting-xss";class R extends Error{code;constructor(t,e){super(Do(t,e)),this.code=t}}function Do(n,t){return`${function FN(n){return`NG0${Math.abs(n)}`}(n)}${t?": "+t:""}`}function Ae(n){for(let t in n)if(n[t]===Ae)return t;throw Error("")}function BN(n,t){for(const e in t)t.hasOwnProperty(e)&&!n.hasOwnProperty(e)&&(n[e]=t[e])}function Kr(n){if("string"==typeof n)return n;if(Array.isArray(n))return`[${n.map(Kr).join(", ")}]`;if(null==n)return""+n;const t=n.overriddenName||n.name;if(t)return`${t}`;const e=n.toString();if(null==e)return""+e;const r=e.indexOf("\n");return r>=0?e.slice(0,r):e}function gg(n,t){return n?t?`${n} ${t}`:n:t||""}globalThis;const HN=Ae({__forward_ref__:Ae});function xs(n){return n.__forward_ref__=xs,n.toString=function(){return Kr(this())},n}function ze(n){return kd(n)?n():n}function kd(n){return"function"==typeof n&&n.hasOwnProperty(HN)&&n.__forward_ref__===xs}function Z(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function Go(n){return{providers:n.providers||[],imports:n.imports||[]}}function Td(n){return function GN(n,t){return n.hasOwnProperty(t)&&n[t]||null}(n,Id)}function Ad(n){return n&&n.hasOwnProperty(mg)?n[mg]:null}const Id=Ae({\u0275prov:Ae}),mg=Ae({\u0275inj:Ae});class j{_desc;ngMetadataName="InjectionToken";\u0275prov;constructor(t,e){this._desc=t,this.\u0275prov=void 0,"number"==typeof e?this.__NG_ELEMENT_ID__=e:void 0!==e&&(this.\u0275prov=Z({token:this,providedIn:e.providedIn||"root",factory:e.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function vg(n){return n&&!!n.\u0275providers}const yg=Ae({\u0275cmp:Ae}),QN=Ae({\u0275dir:Ae}),JN=Ae({\u0275pipe:Ae}),E0=Ae({\u0275mod:Ae}),Ns=Ae({\u0275fac:Ae}),bc=Ae({__NG_ELEMENT_ID__:Ae}),D0=Ae({__NG_ENV_ID__:Ae});function He(n){return"string"==typeof n?n:null==n?"":String(n)}const _g=Ae({ngErrorCode:Ae}),S0=Ae({ngErrorMessage:Ae}),vc=Ae({ngTokenPath:Ae});function Cg(n,t){return k0("",-200,t)}function wg(n,t){throw new R(-201,!1)}function k0(n,t,e){const r=new R(t,n);return r[_g]=t,r[S0]=n,e&&(r[vc]=e),r}let Eg;function T0(){return Eg}function Xr(n){const t=Eg;return Eg=n,t}function A0(n,t,e){const r=Td(n);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:8&e?null:void 0!==t?t:void wg()}const Os={};class i2{injector;constructor(t){this.injector=t}retrieve(t,e){const r=yc(e)||0;try{return this.injector.get(t,8&r?null:Os,r)}catch(o){if(fg(o))return o;throw o}}}function s2(n,t=0){const e=hg();if(void 0===e)throw new R(-203,!1);if(null===e)return A0(n,void 0,t);{const r=function a2(n){return{optional:!!(8&n),host:!!(1&n),self:!!(2&n),skipSelf:!!(4&n)}}(t),o=e.retrieve(n,r);if(fg(o)){if(r.optional)return null;throw o}return o}}function Xe(n,t=0){return(T0()||s2)(ze(n),t)}function D(n,t){return Xe(n,yc(t))}function yc(n){return typeof n>"u"||"number"==typeof n?n:0|(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function Sg(n){const t=[];for(let e=0;e<n.length;e++){const r=ze(n[e]);if(Array.isArray(r)){if(0===r.length)throw new R(900,!1);let o,i=0;for(let s=0;s<r.length;s++){const a=r[s],l=l2(a);"number"==typeof l?-1===l?o=a.token:i|=l:o=a}t.push(Xe(o,i))}else t.push(Xe(r))}return t}function l2(n){return n.__NG_DI_FLAG__}function Ls(n,t){return n.hasOwnProperty(Ns)?n[Ns]:null}function Ha(n,t){n.forEach(e=>Array.isArray(e)?Ha(e,t):t(e))}function x0(n,t,e){t>=n.length?n.push(e):n.splice(t,0,e)}function Md(n,t){return t>=n.length-1?n.pop():n.splice(t,1)[0]}function Nd(n,t,e){let r=Cc(n,t);return r>=0?n[1|r]=e:(r=~r,function R0(n,t,e,r){let o=n.length;if(o==t)n.push(e,r);else if(1===o)n.push(r,n[0]),n[0]=e;else{for(o--,n.push(n[o-1],n[o]);o>t;)n[o]=n[o-2],o--;n[t]=e,n[t+1]=r}}(n,r,t,e)),r}function kg(n,t){const e=Cc(n,t);if(e>=0)return n[1|e]}function Cc(n,t){return function u2(n,t,e){let r=0,o=n.length>>e;for(;o!==r;){const i=r+(o-r>>1),s=n[i<<e];if(t===s)return i<<e;s>t?o=i:r=i+1}return~(o<<e)}(n,t,1)}const ci={},Zt=[],xi=new j(""),N0=new j("",-1),Tg=new j("");class Od{get(t,e=Os){if(e===Os){const o=k0("",-201);throw o.name="\u0275NotFound",o}return e}}function ui(n){return n[E0]||null}function Ft(n){return n[yg]||null}function Mr(n){return n[QN]||null}function qo(n){return n[JN]||null}function $a(n){return{\u0275providers:n}}function h2(...n){return{\u0275providers:Ig(0,n),\u0275fromNgModule:!0}}function Ig(n,...t){const e=[],r=new Set;let o;const i=s=>{e.push(s)};return Ha(t,s=>{const a=s;Ld(a,i,[],r)&&(o||=[],o.push(a))}),void 0!==o&&O0(o,i),e}function O0(n,t){for(let e=0;e<n.length;e++){const{ngModule:r,providers:o}=n[e];xg(o,i=>{t(i,r)})}}function Ld(n,t,e,r){if(!(n=ze(n)))return!1;let o=null,i=Ad(n);const s=!i&&Ft(n);if(i||s){if(s&&!s.standalone)return!1;o=n}else{const l=n.ngModule;if(i=Ad(l),!i)return!1;o=l}const a=r.has(o);if(s){if(a)return!1;if(r.add(o),s.dependencies){const l="function"==typeof s.dependencies?s.dependencies():s.dependencies;for(const c of l)Ld(c,t,e,r)}}else{if(!i)return!1;{if(null!=i.imports&&!a){let c;r.add(o);try{Ha(i.imports,u=>{Ld(u,t,e,r)&&(c||=[],c.push(u))})}finally{}void 0!==c&&O0(c,t)}if(!a){const c=Ls(o)||(()=>new o);t({provide:o,useFactory:c,deps:Zt},o),t({provide:Tg,useValue:o,multi:!0},o),t({provide:xi,useValue:()=>Xe(o),multi:!0},o)}const l=i.providers;if(null!=l&&!a){const c=n;xg(l,u=>{t(u,c)})}}}return o!==n&&void 0!==n.providers}function xg(n,t){for(let e of n)vg(e)&&(e=e.\u0275providers),Array.isArray(e)?xg(e,t):t(e)}const f2=Ae({provide:String,useValue:Ae});function Mg(n){return null!==n&&"object"==typeof n&&f2 in n}function Mi(n){return"function"==typeof n}const Rg=new j(""),Pd={},B0={};let Ng;function Og(){return void 0===Ng&&(Ng=new Od),Ng}class Rr{}class Ps extends Rr{parent;source;scopes;records=new Map;_ngOnDestroyHooks=new Set;_onDestroyHooks=[];get destroyed(){return this._destroyed}_destroyed=!1;injectorDefTypes;constructor(t,e,r,o){super(),this.parent=e,this.source=r,this.scopes=o,Pg(t,s=>this.processProvider(s)),this.records.set(N0,Ua(void 0,this)),o.has("environment")&&this.records.set(Rr,Ua(void 0,this));const i=this.records.get(Rg);null!=i&&"string"==typeof i.value&&this.scopes.add(i.value),this.injectorDefTypes=new Set(this.get(Tg,Zt,{self:!0}))}retrieve(t,e){const r=yc(e)||0;try{return this.get(t,Os,r)}catch(o){if(fg(o))return o;throw o}}destroy(){wc(this),this._destroyed=!0;const t=O(null);try{for(const r of this._ngOnDestroyHooks)r.ngOnDestroy();const e=this._onDestroyHooks;this._onDestroyHooks=[];for(const r of e)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),O(t)}}onDestroy(t){return wc(this),this._onDestroyHooks.push(t),()=>this.removeOnDestroy(t)}runInContext(t){wc(this);const e=es(this),r=Xr(void 0);try{return t()}finally{es(e),Xr(r)}}get(t,e=Os,r){if(wc(this),t.hasOwnProperty(D0))return t[D0](this);const o=yc(r),s=es(this),a=Xr(void 0);try{if(!(4&o)){let c=this.records.get(t);if(void 0===c){const u=function v2(n){return"function"==typeof n||"object"==typeof n&&"InjectionToken"===n.ngMetadataName}(t)&&Td(t);c=u&&this.injectableDefInScope(u)?Ua(Lg(t),Pd):null,this.records.set(t,c)}if(null!=c)return this.hydrate(t,c,o)}return(2&o?Og():this.parent).get(t,e=8&o&&e===Os?null:e)}catch(l){const c=function r2(n){return n[_g]}(l);throw-200===c||-201===c?new R(c,null):l}finally{Xr(a),es(s)}}resolveInjectorInitializers(){const t=O(null),e=es(this),r=Xr(void 0);try{const i=this.get(xi,Zt,{self:!0});for(const s of i)s()}finally{es(e),Xr(r),O(t)}}toString(){const t=[],e=this.records;for(const r of e.keys())t.push(Kr(r));return`R3Injector[${t.join(", ")}]`}processProvider(t){let e=Mi(t=ze(t))?t:ze(t&&t.provide);const r=function g2(n){return Mg(n)?Ua(void 0,n.useValue):Ua(H0(n),Pd)}(t);if(!Mi(t)&&!0===t.multi){let o=this.records.get(e);o||(o=Ua(void 0,Pd,!0),o.factory=()=>Sg(o.multi),this.records.set(e,o)),e=t,o.multi.push(t)}this.records.set(e,r)}hydrate(t,e,r){const o=O(null);try{if(e.value===B0)throw Cg(Kr(t));return e.value===Pd&&(e.value=B0,e.value=e.factory(void 0,r)),"object"==typeof e.value&&e.value&&function b2(n){return null!==n&&"object"==typeof n&&"function"==typeof n.ngOnDestroy}(e.value)&&this._ngOnDestroyHooks.add(e.value),e.value}finally{O(o)}}injectableDefInScope(t){if(!t.providedIn)return!1;const e=ze(t.providedIn);return"string"==typeof e?"any"===e||this.scopes.has(e):this.injectorDefTypes.has(e)}removeOnDestroy(t){const e=this._onDestroyHooks.indexOf(t);-1!==e&&this._onDestroyHooks.splice(e,1)}}function Lg(n){const t=Td(n),e=null!==t?t.factory:Ls(n);if(null!==e)return e;if(n instanceof j)throw new R(204,!1);if(n instanceof Function)return function p2(n){if(n.length>0)throw new R(204,!1);const e=function qN(n){return(n?.[Id]??null)||null}(n);return null!==e?()=>e.factory(n):()=>new n}(n);throw new R(204,!1)}function H0(n,t,e){let r;if(Mi(n)){const o=ze(n);return Ls(o)||Lg(o)}if(Mg(n))r=()=>ze(n.useValue);else if(function P0(n){return!(!n||!n.useFactory)}(n))r=()=>n.useFactory(...Sg(n.deps||[]));else if(function L0(n){return!(!n||!n.useExisting)}(n))r=(o,i)=>Xe(ze(n.useExisting),void 0!==i&&8&i?8:void 0);else{const o=ze(n&&(n.useClass||n.provide));if(!function m2(n){return!!n.deps}(n))return Ls(o)||Lg(o);r=()=>new o(...Sg(n.deps))}return r}function wc(n){if(n.destroyed)throw new R(205,!1)}function Ua(n,t,e=!1){return{factory:n,value:t,multi:e?[]:void 0}}function Pg(n,t){for(const e of n)Array.isArray(e)?Pg(e,t):e&&vg(e)?Pg(e.\u0275providers,t):t(e)}function ko(n,t){let e;n instanceof Ps?(wc(n),e=n):e=new i2(n);const o=es(e),i=Xr(void 0);try{return t()}finally{es(o),Xr(i)}}function _n(n){return Array.isArray(n)&&"object"==typeof n[1]}function Nr(n){return Array.isArray(n)&&!0===n[1]}function $0(n){return!!(4&n.flags)}function di(n){return n.componentOffset>-1}function qa(n){return!(1&~n.flags)}function Yo(n){return!!n.template}function is(n){return!!(512&n[2])}function Oi(n){return!(256&~n[2])}function rr(n){for(;Array.isArray(n);)n=n[0];return n}function Ya(n,t){return rr(t[n])}function Cn(n,t){return rr(t[n.index])}function Ka(n,t){return n.data[t]}function Or(n,t){const e=t[n];return _n(e)?e:e[0]}function $g(n){return!(128&~n[2])}function Dr(n,t){return null==t?null:n[t]}function q0(n){n[17]=0}function Y0(n){1024&n[2]||(n[2]|=1024,$g(n)&&Xa(n))}function jd(n){return!!(9216&n[2]||n[24]?.dirty)}function Ug(n){n[10].changeDetectionScheduler?.notify(8),64&n[2]&&(n[2]|=1024),jd(n)&&Xa(n)}function Xa(n){n[10].changeDetectionScheduler?.notify(0);let t=Li(n);for(;null!==t&&!(8192&t[2])&&(t[2]|=8192,$g(t));)t=Li(t)}function $d(n,t){if(Oi(n))throw new R(911,!1);null===n[21]&&(n[21]=[]),n[21].push(t)}function Li(n){const t=n[3];return Nr(t)?t[3]:t}function X0(n){return n[7]??=[]}function Z0(n){return n.cleanup??=[]}const Oe={lFrame:fC(null),bindingsEnabled:!0,skipHydrationRootTNode:null};let Wg=!1;function J0(){Oe.lFrame.elementDepthCount--}function Gg(){return Oe.bindingsEnabled}function eC(){return null!==Oe.skipHydrationRootTNode}function tC(n){return Oe.skipHydrationRootTNode===n}function nC(){Oe.skipHydrationRootTNode=null}function I(){return Oe.lFrame.lView}function Me(){return Oe.lFrame.tView}function gn(n){return Oe.lFrame.contextLView=n,n[8]}function mn(n){return Oe.lFrame.contextLView=null,n}function Fe(){let n=rC();for(;null!==n&&64===n.type;)n=n.parent;return n}function rC(){return Oe.lFrame.currentTNode}function Pi(n,t){const e=Oe.lFrame;e.currentTNode=n,e.isParent=t}function oC(){return Oe.lFrame.isParent}function iC(){Oe.lFrame.isParent=!1}function lC(){return Wg}function Ud(n){const t=Wg;return Wg=n,t}function Lr(){const n=Oe.lFrame;let t=n.bindingRootIndex;return-1===t&&(t=n.bindingRootIndex=n.tView.bindingStartIndex),t}function Sr(){return Oe.lFrame.bindingIndex++}function Fi(n){const t=Oe.lFrame,e=t.bindingIndex;return t.bindingIndex=t.bindingIndex+n,e}function x2(n,t){const e=Oe.lFrame;e.bindingIndex=e.bindingRootIndex=n,qg(t)}function qg(n){Oe.lFrame.currentDirectiveIndex=n}function Kg(){return Oe.lFrame.currentQueryIndex}function Vd(n){Oe.lFrame.currentQueryIndex=n}function R2(n){const t=n[1];return 2===t.type?t.declTNode:1===t.type?n[5]:null}function dC(n,t,e){if(4&e){let o=t,i=n;for(;!(o=o.parent,null!==o||1&e||(o=R2(i),null===o||(i=i[14],10&o.type))););if(null===o)return!1;t=o,n=i}const r=Oe.lFrame=hC();return r.currentTNode=t,r.lView=n,!0}function Xg(n){const t=hC(),e=n[1];Oe.lFrame=t,t.currentTNode=e.firstChild,t.lView=n,t.tView=e,t.contextLView=n,t.bindingIndex=e.bindingStartIndex,t.inI18n=!1}function hC(){const n=Oe.lFrame,t=null===n?null:n.child;return null===t?fC(n):t}function fC(n){const t={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return null!==n&&(n.child=t),t}function pC(){const n=Oe.lFrame;return Oe.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}const gC=pC;function Zg(){const n=pC();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function cr(){return Oe.lFrame.selectedIndex}function $s(n){Oe.lFrame.selectedIndex=n}function Ko(){const n=Oe.lFrame;return Ka(n.tView,n.selectedIndex)}function wn(){Oe.lFrame.currentNamespace="svg"}let mC=!0;function zd(){return mC}function kc(n){mC=n}function bC(n,t=null,e=null,r){const o=vC(n,t,e,r);return o.resolveInjectorInitializers(),o}function vC(n,t=null,e=null,r,o=new Set){const i=[e||Zt,h2(n)];return r=r||("object"==typeof n?void 0:Kr(n)),new Ps(i,t||Og(),r||null,o)}class Zr{static THROW_IF_NOT_FOUND=Os;static NULL=new Od;static create(t,e){if(Array.isArray(t))return bC({name:""},e,t,"");{const r=t.name??"";return bC({name:r},t.parent,t.providers,r)}}static \u0275prov=Z({token:Zr,providedIn:"any",factory:()=>Xe(N0)});static __NG_ELEMENT_ID__=-1}const ur=new j("");let fi=(()=>class n{static __NG_ELEMENT_ID__=B2;static __NG_ENV_ID__=e=>e})();class yC extends fi{_lView;constructor(t){super(),this._lView=t}get destroyed(){return Oi(this._lView)}onDestroy(t){const e=this._lView;return $d(e,t),()=>function Vg(n,t){if(null===n[21])return;const e=n[21].indexOf(t);-1!==e&&n[21].splice(e,1)}(e,t)}}function B2(){return new yC(I())}const _C=!1;let ss=(()=>{class n{taskId=0;pendingTasks=new Set;destroyed=!1;pendingTask=new Eo(!1);get hasPendingTasks(){return!this.destroyed&&this.pendingTask.value}get hasPendingTasksObservable(){return this.destroyed?new tr(e=>{e.next(!1),e.complete()}):this.pendingTask}add(){!this.hasPendingTasks&&!this.destroyed&&this.pendingTask.next(!0);const e=this.taskId++;return this.pendingTasks.add(e),e}has(e){return this.pendingTasks.has(e)}remove(e){this.pendingTasks.delete(e),0===this.pendingTasks.size&&this.hasPendingTasks&&this.pendingTask.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks&&this.pendingTask.next(!1),this.destroyed=!0,this.pendingTask.unsubscribe()}static \u0275prov=Z({token:n,providedIn:"root",factory:()=>new n})}return n})();const un=class H2 extends Yr{__isAsync;destroyRef=void 0;pendingTasks=void 0;constructor(t=!1){super(),this.__isAsync=t,function Fg(){return void 0!==T0()||null!=hg()}()&&(this.destroyRef=D(fi,{optional:!0})??void 0,this.pendingTasks=D(ss,{optional:!0})??void 0)}emit(t){const e=O(null);try{super.next(t)}finally{O(e)}}subscribe(t,e,r){let o=t,i=e||(()=>null),s=r;if(t&&"object"==typeof t){const l=t;o=l.next?.bind(l),i=l.error?.bind(l),s=l.complete?.bind(l)}this.__isAsync&&(i=this.wrapInTimeout(i),o&&(o=this.wrapInTimeout(o)),s&&(s=this.wrapInTimeout(s)));const a=super.subscribe({next:o,error:i,complete:s});return t instanceof et&&t.add(a),a}wrapInTimeout(t){return e=>{const r=this.pendingTasks?.add();setTimeout(()=>{try{t(e)}finally{void 0!==r&&this.pendingTasks?.remove(r)}})}}};function Wd(...n){}function CC(n){let t,e;function r(){n=Wd;try{void 0!==e&&"function"==typeof cancelAnimationFrame&&cancelAnimationFrame(e),void 0!==t&&clearTimeout(t)}catch{}}return t=setTimeout(()=>{n(),r()}),"function"==typeof requestAnimationFrame&&(e=requestAnimationFrame(()=>{n(),r()})),()=>r()}function wC(n){return queueMicrotask(()=>n()),()=>{n=Wd}}const Qg="isAngularZone",Gd=Qg+"_ID";let j2=0;class Ot{hasPendingMacrotasks=!1;hasPendingMicrotasks=!1;isStable=!0;onUnstable=new un(!1);onMicrotaskEmpty=new un(!1);onStable=new un(!1);onError=new un(!1);constructor(t){const{enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:o=!1,scheduleInRootZone:i=_C}=t;if(typeof Zone>"u")throw new R(908,!1);Zone.assertZonePatched();const s=this;s._nesting=0,s._outer=s._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(s._inner=s._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(s._inner=s._inner.fork(Zone.longStackTraceZoneSpec)),s.shouldCoalesceEventChangeDetection=!o&&r,s.shouldCoalesceRunChangeDetection=o,s.callbackScheduled=!1,s.scheduleInRootZone=i,function V2(n){const t=()=>{!function U2(n){function t(){CC(()=>{n.callbackScheduled=!1,em(n),n.isCheckStableRunning=!0,Jg(n),n.isCheckStableRunning=!1})}n.isCheckStableRunning||n.callbackScheduled||(n.callbackScheduled=!0,n.scheduleInRootZone?Zone.root.run(()=>{t()}):n._outer.run(()=>{t()}),em(n))}(n)},e=j2++;n._inner=n._inner.fork({name:"angular",properties:{[Qg]:!0,[Gd]:e,[Gd+e]:!0},onInvokeTask:(r,o,i,s,a,l)=>{if(function W2(n){return SC(n,"__ignore_ng_zone__")}(l))return r.invokeTask(i,s,a,l);try{return EC(n),r.invokeTask(i,s,a,l)}finally{(n.shouldCoalesceEventChangeDetection&&"eventTask"===s.type||n.shouldCoalesceRunChangeDetection)&&t(),DC(n)}},onInvoke:(r,o,i,s,a,l,c)=>{try{return EC(n),r.invoke(i,s,a,l,c)}finally{n.shouldCoalesceRunChangeDetection&&!n.callbackScheduled&&!function G2(n){return SC(n,"__scheduler_tick__")}(l)&&t(),DC(n)}},onHasTask:(r,o,i,s)=>{r.hasTask(i,s),o===i&&("microTask"==s.change?(n._hasPendingMicrotasks=s.microTask,em(n),Jg(n)):"macroTask"==s.change&&(n.hasPendingMacrotasks=s.macroTask))},onHandleError:(r,o,i,s)=>(r.handleError(i,s),n.runOutsideAngular(()=>n.onError.emit(s)),!1)})}(s)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get(Qg)}static assertInAngularZone(){if(!Ot.isInAngularZone())throw new R(909,!1)}static assertNotInAngularZone(){if(Ot.isInAngularZone())throw new R(909,!1)}run(t,e,r){return this._inner.run(t,e,r)}runTask(t,e,r,o){const i=this._inner,s=i.scheduleEventTask("NgZoneEvent: "+o,t,$2,Wd,Wd);try{return i.runTask(s,e,r)}finally{i.cancelTask(s)}}runGuarded(t,e,r){return this._inner.runGuarded(t,e,r)}runOutsideAngular(t){return this._outer.run(t)}}const $2={};function Jg(n){if(0==n._nesting&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function em(n){n.hasPendingMicrotasks=!!(n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&!0===n.callbackScheduled)}function EC(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function DC(n){n._nesting--,Jg(n)}class z2{hasPendingMicrotasks=!1;hasPendingMacrotasks=!1;isStable=!0;onUnstable=new un;onMicrotaskEmpty=new un;onStable=new un;onError=new un;run(t,e,r){return t.apply(e,r)}runGuarded(t,e,r){return t.apply(e,r)}runOutsideAngular(t){return t()}runTask(t,e,r,o){return t.apply(e,r)}}function SC(n,t){return!(!Array.isArray(n)||1!==n.length)&&!0===n[0]?.data?.[t]}class Qa{_console=console;handleError(t){this._console.error("ERROR",t)}}const pi=new j("",{factory:()=>{const n=D(Ot),t=D(Rr);let e;return r=>{n.runOutsideAngular(()=>{t.destroyed&&!e?setTimeout(()=>{throw r}):(e??=t.get(Qa),e.handleError(r))})}}}),kC={provide:xi,useValue:()=>{D(Qa,{optional:!0})},multi:!0};function Wt(n,t){const[e,r,o]=rt(n,t?.equal),i=e;return i.set=r,i.update=o,i.asReadonly=qd.bind(i),i}function qd(){const n=this[X];if(void 0===n.readonlyFn){const t=()=>this();t[X]=n,n.readonlyFn=t}return n.readonlyFn}let Yd=(()=>class n{view;node;constructor(e,r){this.view=e,this.node=r}static __NG_ELEMENT_ID__=Y2})();function Y2(){return new Yd(I(),Fe())}class Us{}const Kd=new j("",{factory:()=>!0}),TC=new j("");let IC=(()=>{class n{static \u0275prov=Z({token:n,providedIn:"root",factory:()=>new K2})}return n})();class K2{dirtyEffectCount=0;queues=new Map;add(t){this.enqueue(t),this.schedule(t)}schedule(t){t.dirty&&this.dirtyEffectCount++}remove(t){const r=this.queues.get(t.zone);r.has(t)&&(r.delete(t),t.dirty&&this.dirtyEffectCount--)}enqueue(t){const e=t.zone;this.queues.has(e)||this.queues.set(e,new Set);const r=this.queues.get(e);r.has(t)||r.add(t)}flush(){for(;this.dirtyEffectCount>0;){let t=!1;for(const[e,r]of this.queues)t||=null===e?this.flushQueue(r):e.run(()=>this.flushQueue(r));t||(this.dirtyEffectCount=0)}}flushQueue(t){let e=!1;for(const r of t)r.dirty&&(this.dirtyEffectCount--,e=!0,r.run());return e}}class tm{[X];constructor(t){this[X]=t}destroy(){this[X].destroy()}}function Ao(n,t){const e=t?.injector??D(Zr);let o,r=!0!==t?.manualCleanup?e.get(fi):null;const i=e.get(Yd,null,{optional:!0}),s=e.get(Us);return null!==i?(o=function Q2(n,t,e){const r=Object.create(Z2);return r.view=n,r.zone=typeof Zone<"u"?Zone.current:null,r.notifier=t,r.fn=MC(r,e),n[23]??=new Set,n[23].add(r),r.consumerMarkedDirty(r),r}(i.view,s,n),r instanceof yC&&r._lView===i.view&&(r=null)):o=function J2(n,t,e){const r=Object.create(X2);return r.fn=MC(r,n),r.scheduler=t,r.notifier=e,r.zone=typeof Zone<"u"?Zone.current:null,r.scheduler.add(r),r.notifier.notify(12),r}(n,e.get(IC),s),o.injector=e,null!==r&&(o.onDestroyFns=[r.onDestroy(()=>o.destroy())]),new tm(o)}const xC={...St,cleanupFns:void 0,zone:null,onDestroyFns:null,run(){const n=Ud(!1);try{!function Ke(n){if(n.dirty=!1,n.version>0&&!yn(n))return;n.version++;const t=dt(n);try{n.cleanup(),n.fn()}finally{vn(n,t)}}(this)}finally{Ud(n)}},cleanup(){if(!this.cleanupFns?.length)return;const n=O(null);try{for(;this.cleanupFns.length;)this.cleanupFns.pop()()}finally{this.cleanupFns=[],O(n)}}},X2={...xC,consumerMarkedDirty(){this.scheduler.schedule(this),this.notifier.notify(12)},destroy(){if(tn(this),null!==this.onDestroyFns)for(const n of this.onDestroyFns)n();this.cleanup(),this.scheduler.remove(this)}},Z2={...xC,consumerMarkedDirty(){this.view[2]|=8192,Xa(this.view),this.notifier.notify(13)},destroy(){if(tn(this),null!==this.onDestroyFns)for(const n of this.onDestroyFns)n();this.cleanup(),this.view[23]?.delete(this)}};function MC(n,t){return()=>{t(e=>(n.cleanupFns??=[]).push(e))}}function Fn(n){return function Le(n){const t=O(null);try{return n()}finally{O(t)}}(n)}let RC=null;function Ja(){return RC}class tO{}let NC=(()=>{class n{historyGo(e){throw new Error("")}static \u0275fac=function(r){return new(r||n)};static \u0275prov=Z({token:n,factory:()=>D(nO),providedIn:"platform"})}return n})(),nO=(()=>{class n extends NC{_location;_history;_doc=D(ur);constructor(){super(),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Ja().getBaseHref(this._doc)}onPopState(e){const r=Ja().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",e,!1),()=>r.removeEventListener("popstate",e)}onHashChange(e){const r=Ja().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",e,!1),()=>r.removeEventListener("hashchange",e)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(e){this._location.pathname=e}pushState(e,r,o){this._history.pushState(e,r,o)}replaceState(e,r,o){this._history.replaceState(e,r,o)}forward(){this._history.forward()}back(){this._history.back()}historyGo(e=0){this._history.go(e)}getState(){return this._history.state}static \u0275fac=function(r){return new(r||n)};static \u0275prov=Z({token:n,factory:()=>new n,providedIn:"platform"})}return n})();const OC="browser";function as(n){return n===OC}function LC(n){return"server"===n}function GC(n,t,e,r,o,i,s){try{var a=n[i](s),l=a.value}catch(c){return void e(c)}a.done?t(l):Promise.resolve(l).then(r,o)}function B(n){return function(){var t=this,e=arguments;return new Promise(function(r,o){var i=n.apply(t,e);function s(l){GC(i,r,o,s,a,"next",l)}function a(l){GC(i,r,o,s,a,"throw",l)}s(void 0)})}}function Pr(n){return t=>{if(function OO(n){return de(n?.lift)}(t))return t.lift(function(e){try{return n(e,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function Fr(n,t,e,r,o){return new LO(n,t,e,r,o)}class LO extends La{constructor(t,e,r,o,i,s){super(t),this.onFinalize=i,this.shouldUnsubscribe=s,this._next=e?function(a){try{e(a)}catch(l){t.error(l)}}:super._next,this._error=o?function(a){try{o(a)}catch(l){t.error(l)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){t.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var t;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:e}=this;super.unsubscribe(),!e&&(null===(t=this.onFinalize)||void 0===t||t.call(this))}}}function Qn(n,t){return Pr((e,r)=>{let o=0;e.subscribe(Fr(r,i=>{r.next(n.call(t,i,o++))}))})}function Bi(n){return{toString:n}.toString()}function KC(n,t,e,r){null!==t?t.applyValueToInputSignal(t,r):n[e]=r}class YO{previousValue;currentValue;firstChange;constructor(t,e,r){this.previousValue=t,this.currentValue=e,this.firstChange=r}isFirstChange(){return this.firstChange}}const Vs=(()=>{const n=()=>XC;return n.ngInherit=!0,n})();function XC(n){return n.type.prototype.ngOnChanges&&(n.setInput=XO),KO}function KO(){const n=QC(this),t=n?.current;if(t){const e=n.previous;if(e===ci)n.previous=t;else for(let r in t)e[r]=t[r];n.current=null,this.ngOnChanges(t)}}function XO(n,t,e,r,o){const i=this.declaredInputs[r],s=QC(n)||function ZO(n,t){return n[ZC]=t}(n,{previous:ci,current:null}),a=s.current||(s.current={}),l=s.previous,c=l[i];a[i]=new YO(c&&c.currentValue,e,l===ci),KC(n,t,o,e)}const ZC="__ngSimpleChanges__";function QC(n){return n[ZC]||null}const zs=[],Lt=function(n,t=null,e){for(let r=0;r<zs.length;r++)(0,zs[r])(n,t,e)};var ne=function(n){return n[n.TemplateCreateStart=0]="TemplateCreateStart",n[n.TemplateCreateEnd=1]="TemplateCreateEnd",n[n.TemplateUpdateStart=2]="TemplateUpdateStart",n[n.TemplateUpdateEnd=3]="TemplateUpdateEnd",n[n.LifecycleHookStart=4]="LifecycleHookStart",n[n.LifecycleHookEnd=5]="LifecycleHookEnd",n[n.OutputStart=6]="OutputStart",n[n.OutputEnd=7]="OutputEnd",n[n.BootstrapApplicationStart=8]="BootstrapApplicationStart",n[n.BootstrapApplicationEnd=9]="BootstrapApplicationEnd",n[n.BootstrapComponentStart=10]="BootstrapComponentStart",n[n.BootstrapComponentEnd=11]="BootstrapComponentEnd",n[n.ChangeDetectionStart=12]="ChangeDetectionStart",n[n.ChangeDetectionEnd=13]="ChangeDetectionEnd",n[n.ChangeDetectionSyncStart=14]="ChangeDetectionSyncStart",n[n.ChangeDetectionSyncEnd=15]="ChangeDetectionSyncEnd",n[n.AfterRenderHooksStart=16]="AfterRenderHooksStart",n[n.AfterRenderHooksEnd=17]="AfterRenderHooksEnd",n[n.ComponentStart=18]="ComponentStart",n[n.ComponentEnd=19]="ComponentEnd",n[n.DeferBlockStateStart=20]="DeferBlockStateStart",n[n.DeferBlockStateEnd=21]="DeferBlockStateEnd",n[n.DynamicComponentStart=22]="DynamicComponentStart",n[n.DynamicComponentEnd=23]="DynamicComponentEnd",n[n.HostBindingsUpdateStart=24]="HostBindingsUpdateStart",n[n.HostBindingsUpdateEnd=25]="HostBindingsUpdateEnd",n}(ne||{});function JC(n,t){for(let e=t.directiveStart,r=t.directiveEnd;e<r;e++){const i=n.data[e].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:l,ngAfterViewChecked:c,ngOnDestroy:u}=i;s&&(n.contentHooks??=[]).push(-e,s),a&&((n.contentHooks??=[]).push(e,a),(n.contentCheckHooks??=[]).push(e,a)),l&&(n.viewHooks??=[]).push(-e,l),c&&((n.viewHooks??=[]).push(e,c),(n.viewCheckHooks??=[]).push(e,c)),null!=u&&(n.destroyHooks??=[]).push(e,u)}}function eh(n,t,e){ew(n,t,3,e)}function th(n,t,e,r){(3&n[2])===e&&ew(n,t,e,r)}function am(n,t){let e=n[2];(3&e)===t&&(e&=16383,e+=1,n[2]=e)}function ew(n,t,e,r){const i=r??-1,s=t.length-1;let a=0;for(let l=void 0!==r?65535&n[17]:0;l<s;l++)if("number"==typeof t[l+1]){if(a=t[l],null!=r&&a>=r)break}else t[l]<0&&(n[17]+=65536),(a<i||-1==i)&&(nL(n,e,t,l),n[17]=(4294901760&n[17])+l+2),l++}function tw(n,t){Lt(ne.LifecycleHookStart,n,t);const e=O(null);try{t.call(n)}finally{O(e),Lt(ne.LifecycleHookEnd,n,t)}}function nL(n,t,e,r){const o=e[r]<0,i=e[r+1],a=n[o?-e[r]:e[r]];o?n[2]>>14<n[17]>>16&&(3&n[2])===t&&(n[2]+=16384,tw(a,i)):tw(a,i)}class Mc{factory;name;injectImpl;resolving=!1;canSeeViewProviders;multi;componentProviders;index;providerFactory;constructor(t,e,r,o){this.factory=t,this.name=o,this.canSeeViewProviders=e,this.injectImpl=r}}function cm(n){return 3===n||4===n||6===n}function rw(n){return 64===n.charCodeAt(0)}function il(n,t){if(null!==t&&0!==t.length)if(null===n||0===n.length)n=t.slice();else{let e=-1;for(let r=0;r<t.length;r++){const o=t[r];"number"==typeof o?e=o:0===e||ow(n,e,o,0,-1===e||2===e?t[++r]:null)}}return n}function ow(n,t,e,r,o){let i=0,s=n.length;if(-1===t)s=-1;else for(;i<n.length;){const a=n[i++];if("number"==typeof a){if(a===t){s=-1;break}if(a>t){s=i-1;break}}}for(;i<n.length;){const a=n[i];if("number"==typeof a)break;if(a===e)return void(null!==o&&(n[i+1]=o));i++,null!==o&&i++}-1!==s&&(n.splice(s,0,t),i=s+1),n.splice(i++,0,e),null!==o&&n.splice(i++,0,o)}function um(n){return-1!==n}function Rc(n){return 32767&n}function Nc(n,t){let e=function sL(n){return n>>16}(n),r=t;for(;e>0;)r=r[14],e--;return r}let dm=!0;function nh(n){const t=dm;return dm=n,t}let aL=0;const gi={};function rh(n,t){const e=aw(n,t);if(-1!==e)return e;const r=t[1];r.firstCreatePass&&(n.injectorIndex=t.length,hm(r.data,n),hm(t,null),hm(r.blueprint,null));const o=oh(n,t),i=n.injectorIndex;if(um(o)){const s=Rc(o),a=Nc(o,t),l=a[1].data;for(let c=0;c<8;c++)t[i+c]=a[s+c]|l[s+c]}return t[i+8]=o,i}function hm(n,t){n.push(0,0,0,0,0,0,0,0,t)}function aw(n,t){return-1===n.injectorIndex||n.parent&&n.parent.injectorIndex===n.injectorIndex||null===t[n.injectorIndex+8]?-1:n.injectorIndex}function oh(n,t){if(n.parent&&-1!==n.parent.injectorIndex)return n.parent.injectorIndex;let e=0,r=null,o=t;for(;null!==o;){if(r=pw(o),null===r)return-1;if(e++,o=o[14],-1!==r.injectorIndex)return r.injectorIndex|e<<16}return-1}function fm(n,t,e){!function lL(n,t,e){let r;"string"==typeof e?r=e.charCodeAt(0)||0:e.hasOwnProperty(bc)&&(r=e[bc]),null==r&&(r=e[bc]=aL++);const o=255&r;t.data[n+(o>>5)]|=1<<o}(n,t,e)}function lw(n,t,e){if(8&e||void 0!==n)return n;wg()}function cw(n,t,e,r){if(8&e&&void 0===r&&(r=null),!(3&e)){const o=n[9],i=Xr(void 0);try{return o?o.get(t,r,8&e):A0(t,r,8&e)}finally{Xr(i)}}return lw(r,0,e)}function uw(n,t,e,r=0,o){if(null!==n){if(2048&t[2]&&!(2&r)){const s=function fL(n,t,e,r,o){let i=n,s=t;for(;null!==i&&null!==s&&2048&s[2]&&!is(s);){const a=dw(i,s,e,2|r,gi);if(a!==gi)return a;let l=i.parent;if(!l){const c=s[20];if(c){const u=c.get(e,gi,r);if(u!==gi)return u}l=pw(s),s=s[14]}i=l}return o}(n,t,e,r,gi);if(s!==gi)return s}const i=dw(n,t,e,r,gi);if(i!==gi)return i}return cw(t,e,r,o)}function dw(n,t,e,r,o){const i=function dL(n){if("string"==typeof n)return n.charCodeAt(0)||0;const t=n.hasOwnProperty(bc)?n[bc]:void 0;return"number"==typeof t?t>=0?255&t:hL:t}(e);if("function"==typeof i){if(!dC(t,n,r))return 1&r?lw(o,0,r):cw(t,e,r,o);try{let s;if(s=i(r),null!=s||8&r)return s;wg()}finally{gC()}}else if("number"==typeof i){let s=null,a=aw(n,t),l=-1,c=1&r?t[15][5]:null;for((-1===a||4&r)&&(l=-1===a?oh(n,t):t[a+8],-1!==l&&fw(r,!1)?(s=t[1],a=Rc(l),t=Nc(l,t)):a=-1);-1!==a;){const u=t[1];if(hw(i,a,u.data)){const d=uL(a,t,e,s,r,c);if(d!==gi)return d}l=t[a+8],-1!==l&&fw(r,t[1].data[a+8]===c)&&hw(i,a,t)?(s=u,a=Rc(l),t=Nc(l,t)):a=-1}}return o}function uL(n,t,e,r,o,i){const s=t[1],a=s.data[n+8],u=ih(a,s,e,null==r?di(a)&&dm:r!=s&&!!(3&a.type),1&o&&i===a);return null!==u?Oc(t,s,u,a,o):gi}function ih(n,t,e,r,o){const i=n.providerIndexes,s=t.data,a=1048575&i,l=n.directiveStart,u=i>>20,h=o?a+u:n.directiveEnd;for(let f=r?a:a+u;f<h;f++){const p=s[f];if(f<l&&e===p||f>=l&&p.type===e)return f}if(o){const f=s[l];if(f&&Yo(f)&&f.type===e)return l}return null}function Oc(n,t,e,r,o){let i=n[e];const s=t.data;if(i instanceof Mc){const a=i;if(a.resolving)throw function ht(n){return"function"==typeof n?n.name||n.toString():"object"==typeof n&&null!=n&&"function"==typeof n.type?n.type.name||n.type.toString():He(n)}(s[e]),Cg();const l=nh(a.canSeeViewProviders);a.resolving=!0;const d=a.injectImpl?Xr(a.injectImpl):null;dC(n,r,0);try{i=n[e]=a.factory(void 0,o,s,n,r),t.firstCreatePass&&e>=r.directiveStart&&function tL(n,t,e){const{ngOnChanges:r,ngOnInit:o,ngDoCheck:i}=t.type.prototype;if(r){const s=XC(t);(e.preOrderHooks??=[]).push(n,s),(e.preOrderCheckHooks??=[]).push(n,s)}o&&(e.preOrderHooks??=[]).push(0-n,o),i&&((e.preOrderHooks??=[]).push(n,i),(e.preOrderCheckHooks??=[]).push(n,i))}(e,s[e],t)}finally{null!==d&&Xr(d),nh(l),a.resolving=!1,gC()}}return i}function hw(n,t,e){return!!(e[t+(n>>5)]&1<<n)}function fw(n,t){return!(2&n||1&n&&t)}class In{_tNode;_lView;constructor(t,e){this._tNode=t,this._lView=e}get(t,e,r){return uw(this._tNode,this._lView,t,yc(r),e)}}function hL(){return new In(Fe(),I())}function Ze(n){return Bi(()=>{const t=n.prototype.constructor,e=t[Ns]||pm(t),r=Object.prototype;let o=Object.getPrototypeOf(n.prototype).constructor;for(;o&&o!==r;){const i=o[Ns]||pm(o);if(i&&i!==e)return i;o=Object.getPrototypeOf(o)}return i=>new i})}function pm(n){return kd(n)?()=>{const t=pm(ze(n));return t&&t()}:Ls(n)}function pw(n){const t=n[1],e=t.type;return 2===e?t.declTNode:1===e?n[5]:null}function CL(){return sl(Fe(),I())}function sl(n,t){return new xo(Cn(n,t))}let xo=(()=>class n{nativeElement;constructor(e){this.nativeElement=e}static __NG_ELEMENT_ID__=CL})();function yw(n){return n instanceof xo?n.nativeElement:n}function wL(){return this._results[Symbol.iterator]()}class EL{_emitDistinctChangesOnly;dirty=!0;_onDirty=void 0;_results=[];_changesDetected=!1;_changes=void 0;length=0;first=void 0;last=void 0;get changes(){return this._changes??=new Yr}constructor(t=!1){this._emitDistinctChangesOnly=t}get(t){return this._results[t]}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,e){return this._results.reduce(t,e)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t,e){this.dirty=!1;const r=function So(n){return n.flat(Number.POSITIVE_INFINITY)}(t);(this._changesDetected=!function c2(n,t,e){if(n.length!==t.length)return!1;for(let r=0;r<n.length;r++){let o=n[r],i=t[r];if(e&&(o=e(o),i=e(i)),i!==o)return!1}return!0}(this._results,r,e))&&(this._results=r,this.length=r.length,this.last=r[this.length-1],this.first=r[0])}notifyOnChanges(){void 0!==this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.next(this)}onDirty(t){this._onDirty=t}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){void 0!==this._changes&&(this._changes.complete(),this._changes.unsubscribe())}[Symbol.iterator]=wL}function Pc(n){return!(128&~n.flags)}var ah=function(n){return n[n.OnPush=0]="OnPush",n[n.Default=1]="Default",n}(ah||{});const lh=new Map;let kL=0;function bm(n){lh.delete(n[19])}const ym="__ngContext__";function Jr(n,t){_n(t)?(n[ym]=t[19],function AL(n){lh.set(n[19],n)}(t)):n[ym]=t}function xw(n){return Rw(n[12])}function Mw(n){return Rw(n[4])}function Rw(n){for(;null!==n&&!Nr(n);)n=n[4];return n}let _m;const al=new j("",{factory:()=>KL}),KL="ng",Hw=new j(""),ll=new j("",{providedIn:"platform",factory:()=>"unknown"}),jw=new j("",{factory:()=>D(ur).body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null}),nP=new j("",{factory:()=>!1});function ph(n){return!(32&~n.flags)}function g1(n,t){const e=n.contentQueries;if(null!==e){const r=O(null);try{for(let o=0;o<e.length;o+=2){const s=e[o+1];if(-1!==s){const a=n.data[s];Vd(e[o]),a.contentQueries(2,t[s],s)}}}finally{O(r)}}}function Lm(n,t,e){Vd(0);const r=O(null);try{t(n,e)}finally{O(r)}}function Pm(n,t,e){if($0(t)){const r=O(null);try{const i=t.directiveEnd;for(let s=t.directiveStart;s<i;s++){const a=n.data[s];a.contentQueries&&a.contentQueries(1,e[s],s)}}finally{O(r)}}}var Mo=function(n){return n[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",n[n.ExperimentalIsolatedShadowDom=4]="ExperimentalIsolatedShadowDom",n}(Mo||{});class E1{changingThisBreaksApplicationSecurity;constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${w0})`}}function ds(n){return n instanceof E1?n.changingThisBreaksApplicationSecurity:n}const zP=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;const eF=/^>|^->|<!--|-->|--!>|<!-$/g,tF=/(<|>)/g;function Wm(n,t){return n.createComment(function R1(n){return n.replace(eF,t=>t.replace(tF,"\u200b$1\u200b"))}(t))}function Dh(n,t,e){return n.createElement(t,e)}function Gs(n,t,e,r,o){n.insertBefore(t,e,r,o)}function O1(n,t,e){n.appendChild(t,e)}function L1(n,t,e,r,o){null!==r?Gs(n,t,e,r,o):O1(n,t,e)}function zc(n,t,e,r){n.removeChild(null,t,e,r)}function F1(n,t,e){const{mergedAttrs:r,classes:o,styles:i}=e;null!==r&&function iL(n,t,e){let r=0;for(;r<e.length;){const o=e[r];if("number"==typeof o){if(0!==o)break;r++;const i=e[r++],s=e[r++],a=e[r++];n.setAttribute(t,s,a,i)}else{const i=o,s=e[++r];rw(i)?n.setProperty(t,i,s):n.setAttribute(t,i,s),r++}}}(n,t,r),null!==o&&function oF(n,t,e){""===e?n.removeAttribute(t,"class"):n.setAttribute(t,"class",e)}(n,t,o),null!==i&&function rF(n,t,e){n.setAttribute(t,"style",e)}(n,t,i)}var dl=function(n){return n[n.NONE=0]="NONE",n[n.HTML=1]="HTML",n[n.STYLE=2]="STYLE",n[n.SCRIPT=3]="SCRIPT",n[n.URL=4]="URL",n[n.RESOURCE_URL=5]="RESOURCE_URL",n}(dl||{});function Wc(n){const t=function Gc(){const n=I();return n&&n[10].sanitizer}();return t?t.sanitize(dl.URL,n)||"":function Uc(n,t){const e=function jP(n){return n instanceof E1&&n.getTypeName()||null}(n);if(null!=e&&e!==t){if("ResourceURL"===e&&"URL"===t)return!0;throw new Error(`Required a safe ${t}, got a ${e} (see ${w0})`)}return e===t}(n,"URL")?ds(n):function jm(n){return(n=String(n)).match(zP)?n:"unsafe:"+n}(He(n))}function mi(n){return n instanceof Function?n():n}function wF(n,t,e){let r=n.length;for(;;){const o=n.indexOf(t,e);if(-1===o)return o;if(0===o||n.charCodeAt(o-1)<=32){const i=t.length;if(o+i===r||n.charCodeAt(o+i)<=32)return o}e=o+1}}const z1="ng-template";function EF(n,t,e,r){let o=0;if(r){for(;o<t.length&&"string"==typeof t[o];o+=2)if("class"===t[o]&&-1!==wF(t[o+1].toLowerCase(),e,0))return!0}else if(Gm(n))return!1;if(o=t.indexOf(1,o),o>-1){let i;for(;++o<t.length&&"string"==typeof(i=t[o]);)if(i.toLowerCase()===e)return!0}return!1}function Gm(n){return 4===n.type&&n.value!==z1}function DF(n,t,e){return t===(4!==n.type||e?n.value:z1)}function SF(n,t,e){let r=4;const o=n.attrs,i=null!==o?function AF(n){for(let t=0;t<n.length;t++)if(cm(n[t]))return t;return n.length}(o):0;let s=!1;for(let a=0;a<t.length;a++){const l=t[a];if("number"!=typeof l){if(!s)if(4&r){if(r=2|1&r,""!==l&&!DF(n,l,e)||""===l&&1===t.length){if(Xo(r))return!1;s=!0}}else if(8&r){if(null===o||!EF(n,o,l,e)){if(Xo(r))return!1;s=!0}}else{const c=t[++a],u=kF(l,o,Gm(n),e);if(-1===u){if(Xo(r))return!1;s=!0;continue}if(""!==c){let d;if(d=u>i?"":o[u+1].toLowerCase(),2&r&&c!==d){if(Xo(r))return!1;s=!0}}}}else{if(!s&&!Xo(r)&&!Xo(l))return!1;if(s&&Xo(l))continue;s=!1,r=l|1&r}}return Xo(r)||s}function Xo(n){return!(1&n)}function kF(n,t,e,r){if(null===t)return-1;let o=0;if(r||!e){let i=!1;for(;o<t.length;){const s=t[o];if(s===n)return o;if(3===s||6===s)i=!0;else{if(1===s||2===s){let a=t[++o];for(;"string"==typeof a;)a=t[++o];continue}if(4===s)break;if(0===s){o+=4;continue}}o+=i?1:2}return-1}return function IF(n,t){let e=n.indexOf(4);if(e>-1)for(e++;e<n.length;){const r=n[e];if("number"==typeof r)return-1;if(r===t)return e;e++}return-1}(t,n)}function W1(n,t,e=!1){for(let r=0;r<t.length;r++)if(SF(n,t[r],e))return!0;return!1}function xF(n,t){e:for(let e=0;e<t.length;e++){const r=t[e];if(n.length===r.length){for(let o=0;o<n.length;o++)if(n[o]!==r[o])continue e;return!0}}return!1}function G1(n,t){return n?":not("+t.trim()+")":t}function MF(n){let t=n[0],e=1,r=2,o="",i=!1;for(;e<n.length;){let s=n[e];if("string"==typeof s)if(2&r){const a=n[++e];o+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else 8&r?o+="."+s:4&r&&(o+=" "+s);else""!==o&&!Xo(s)&&(t+=G1(i,o),o=""),r=s,i=i||!Xo(r);e++}return""!==o&&(t+=G1(i,o)),t}const Bt={};function qm(n,t,e,r,o,i,s,a,l,c,u){const d=27+r,h=d+o,f=function OF(n,t){const e=[];for(let r=0;r<t;r++)e.push(r<n?null:Bt);return e}(d,h),p="function"==typeof c?c():c;return f[1]={type:n,blueprint:f,template:e,queries:null,viewQuery:a,declTNode:t,data:f.slice().fill(null,d),bindingStartIndex:d,expandoStartIndex:h,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof i?i():i,pipeRegistry:"function"==typeof s?s():s,firstChild:null,schemas:l,consts:p,incompleteFirstPass:!1,ssrId:u}}function kh(n,t,e,r,o,i,s,a,l,c,u){const d=t.blueprint.slice();return d[0]=o,d[2]=1228|r,(null!==c||n&&2048&n[2])&&(d[2]|=2048),q0(d),d[3]=d[14]=n,d[8]=e,d[10]=s||n&&n[10],d[11]=a||n&&n[11],d[9]=l||n&&n[9]||null,d[5]=i,d[19]=function TL(){return kL++}(),d[6]=u,d[20]=c,d[15]=2==t.type?n[15]:d,d}function Ym(n){let t=16;return n.signals?t=4096:n.onPush&&(t=64),t}function qc(n,t,e,r){if(0===e)return-1;const o=t.length;for(let i=0;i<e;i++)t.push(r),n.blueprint.push(r),n.data.push(null);return o}function Km(n,t){return n[12]?n[13][4]=t:n[12]=t,n[13]=t,t}function x(n=1){Y1(Me(),I(),cr()+n,!1)}function Y1(n,t,e,r){if(!r)if(3&~t[2]){const i=n.preOrderHooks;null!==i&&th(t,i,0,e)}else{const i=n.preOrderCheckHooks;null!==i&&eh(t,i,e)}$s(e)}var Yc=function(n){return n[n.None=0]="None",n[n.SignalBased=1]="SignalBased",n[n.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",n}(Yc||{});function fl(n,t,e,r){const o=O(null);try{const[i,s,a]=n.inputs[e];let l=null;0!==(s&Yc.SignalBased)&&(l=t[i][X]),null!==l&&void 0!==l.transformFn?r=l.transformFn(r):null!==a&&(r=a.call(t,r)),null!==n.setInput?n.setInput(t,l,r,e,i):KC(t,l,i,r)}finally{O(o)}}var hs=function(n){return n[n.Important=1]="Important",n[n.DashCase=2]="DashCase",n}(hs||{});function Zm(n,t){return undefined(n,t)}const qs=new Set;var Qm=function(n){return n[n.CHANGE_DETECTION=0]="CHANGE_DETECTION",n[n.AFTER_NEXT_RENDER=1]="AFTER_NEXT_RENDER",n}(Qm||{});const gl=new j(""),Q1=new Set;function dr(n){Q1.has(n)||(Q1.add(n),performance?.mark?.("mark_feature_usage",{detail:{feature:n}}))}let Jm=(()=>{class n{impl=null;execute(){this.impl?.execute()}static \u0275prov=Z({token:n,providedIn:"root",factory:()=>new n})}return n})();const J1=[0,1,2,3];let eE=(()=>{class n{ngZone=D(Ot);scheduler=D(Us);errorHandler=D(Qa,{optional:!0});sequences=new Set;deferredRegistrations=new Set;executing=!1;constructor(){D(gl,{optional:!0})}execute(){const e=this.sequences.size>0;e&&Lt(ne.AfterRenderHooksStart),this.executing=!0;for(const r of J1)for(const o of this.sequences)if(!o.erroredOrDestroyed&&o.hooks[r])try{o.pipelinedValue=this.ngZone.runOutsideAngular(()=>this.maybeTrace(()=>(0,o.hooks[r])(o.pipelinedValue),o.snapshot))}catch(i){o.erroredOrDestroyed=!0,this.errorHandler?.handleError(i)}this.executing=!1;for(const r of this.sequences)r.afterRun(),r.once&&(this.sequences.delete(r),r.destroy());for(const r of this.deferredRegistrations)this.sequences.add(r);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear(),e&&Lt(ne.AfterRenderHooksEnd)}register(e){const{view:r}=e;void 0!==r?((r[25]??=[]).push(e),Xa(r),r[2]|=8192):this.executing?this.deferredRegistrations.add(e):this.addSequence(e)}addSequence(e){this.sequences.add(e),this.scheduler.notify(7)}unregister(e){this.executing&&this.sequences.has(e)?(e.erroredOrDestroyed=!0,e.pipelinedValue=void 0,e.once=!0):(this.sequences.delete(e),this.deferredRegistrations.delete(e))}maybeTrace(e,r){return r?r.run(Qm.AFTER_NEXT_RENDER,e):e()}static \u0275prov=Z({token:n,providedIn:"root",factory:()=>new n})}return n})();class tE{impl;hooks;view;once;snapshot;erroredOrDestroyed=!1;pipelinedValue=void 0;unregisterOnDestroy;constructor(t,e,r,o,i,s=null){this.impl=t,this.hooks=e,this.view=r,this.once=o,this.snapshot=s,this.unregisterOnDestroy=i?.onDestroy(()=>this.destroy())}afterRun(){this.erroredOrDestroyed=!1,this.pipelinedValue=void 0,this.snapshot?.dispose(),this.snapshot=null}destroy(){this.impl.unregister(this),this.unregisterOnDestroy?.();const t=this.view?.[25];t&&(this.view[25]=t.filter(e=>e!==this))}}const Ah=new j("",{factory:()=>({queue:new Set,isScheduled:!1,scheduler:null,injector:D(Rr)})});function oE(n,t,e){const r=n.get(Ah);if(Array.isArray(t))for(const o of t)r.queue.add(o),e?.detachedLeaveAnimationFns?.push(o);else r.queue.add(t),e?.detachedLeaveAnimationFns?.push(t);r.scheduler&&r.scheduler(n)}function iE(n,t,e,r){const o=n?.[26]?.enter;null!==t&&o&&o.has(e.index)&&function eb(n,t){for(const[e,r]of t)oE(n,r.animateFns)}(r,o)}function ml(n,t,e,r,o,i,s,a){if(null!=o){let l,c=!1;Nr(o)?l=o:_n(o)&&(c=!0,o=o[0]);const u=rr(o);0===n&&null!==r?(iE(a,r,i,e),null==s?O1(t,r,u):Gs(t,r,u,s||null,!0)):1===n&&null!==r?(iE(a,r,i,e),Gs(t,r,u,s||null,!0)):2===n?lE(a,i,e,d=>{zc(t,u,c,d)}):3===n&&lE(a,i,e,()=>{t.destroyNode(u)}),null!=l&&function ZF(n,t,e,r,o,i,s){const a=r[7];a!==rr(r)&&ml(t,n,e,i,a,o,s);for(let c=10;c<r.length;c++){const u=r[c];Mh(u[1],u,n,t,i,a)}}(t,n,e,l,i,r,s)}}function aE(n,t){t[10].changeDetectionScheduler?.notify(9),Mh(n,t,t[11],2,null,null)}function tb(n,t){const e=n[9],r=e.indexOf(t);e.splice(r,1)}function Kc(n,t){if(Oi(t))return;const e=t[11];e.destroyNode&&Mh(n,t,e,3,null,null),function GF(n){let t=n[12];if(!t)return nb(n[1],n);for(;t;){let e=null;if(_n(t))e=t[12];else{const r=t[10];r&&(e=r)}if(!e){for(;t&&!t[4]&&t!==n;)_n(t)&&nb(t[1],t),t=t[3];null===t&&(t=n),_n(t)&&nb(t[1],t),e=t&&t[4]}t=e}}(t)}function nb(n,t){if(Oi(t))return;const e=O(null);try{t[2]&=-129,t[2]|=256,t[24]&&tn(t[24]),function KF(n,t){let e;if(null!=n&&null!=(e=n.destroyHooks))for(let r=0;r<e.length;r+=2){const o=t[e[r]];if(!(o instanceof Mc)){const i=e[r+1];if(Array.isArray(i))for(let s=0;s<i.length;s+=2){const a=o[i[s]],l=i[s+1];Lt(ne.LifecycleHookStart,a,l);try{l.call(a)}finally{Lt(ne.LifecycleHookEnd,a,l)}}else{Lt(ne.LifecycleHookStart,o,i);try{i.call(o)}finally{Lt(ne.LifecycleHookEnd,o,i)}}}}}(n,t),function YF(n,t){const e=n.cleanup,r=t[7];if(null!==e)for(let s=0;s<e.length-1;s+=2)if("string"==typeof e[s]){const a=e[s+3];a>=0?r[a]():r[-a].unsubscribe(),s+=2}else e[s].call(r[e[s+1]]);null!==r&&(t[7]=null);const o=t[21];if(null!==o){t[21]=null;for(let s=0;s<o.length;s++)(0,o[s])()}const i=t[23];if(null!==i){t[23]=null;for(const s of i)s.destroy()}}(n,t),1===t[1].type&&t[11].destroy();const r=t[16];if(null!==r&&Nr(t[3])){r!==t[3]&&tb(r,t);const o=t[18];null!==o&&o.detachView(n)}bm(t)}finally{O(e)}}function lE(n,t,e,r){const o=n?.[26];if(null==o||null==o.leave||!o.leave.has(t.index))return r(!1);n&&qs.add(n),oE(e,()=>{if(o.leave&&o.leave.has(t.index)){const s=o.leave.get(t.index),a=[];if(s){for(let l=0;l<s.animateFns.length;l++){const c=s.animateFns[l],{promise:u}=c();a.push(u)}o.detachedLeaveAnimationFns=void 0}o.running=Promise.allSettled(a),function qF(n,t){const e=n[26]?.running;e?e.then(()=>{n[26].running=void 0,qs.delete(n),t(!0)}):t(!1)}(n,r)}else n&&qs.delete(n),r(!1)},o)}function rb(n,t,e){return function cE(n,t,e){let r=t;for(;null!==r&&168&r.type;)r=(t=r).parent;if(null===r)return e[0];if(di(r)){const{encapsulation:o}=n.data[r.directiveStart+r.componentOffset];if(o===Mo.None||o===Mo.Emulated)return null}return Cn(r,e)}(n,t.parent,e)}function uE(n,t,e){return hE(n,t,e)}let hE=function dE(n,t,e){return 40&n.type?Cn(n,e):null};function ib(n,t,e,r){const o=rb(n,r,t),i=t[11],a=uE(r.parent||t[5],r,t);if(null!=o)if(Array.isArray(e))for(let l=0;l<e.length;l++)L1(i,o,e[l],a,!1);else L1(i,o,e,a,!1)}function Ys(n,t){if(null!==t){const e=t.type;if(3&e)return Cn(t,n);if(4&e)return xh(-1,n[t.index]);if(8&e){const r=t.child;if(null!==r)return Ys(n,r);{const o=n[t.index];return Nr(o)?xh(-1,o):rr(o)}}if(128&e)return Ys(n,t.next);if(32&e)return Zm(t,n)()||rr(n[t.index]);{const r=pE(n,t);return null!==r?Array.isArray(r)?r[0]:Ys(Li(n[15]),r):Ys(n,t.next)}}return null}function pE(n,t){return null!==t?n[15][5].projection[t.projection]:null}function xh(n,t){const e=10+n+1;if(e<t.length){const r=t[e],o=r[1].firstChild;if(null!==o)return Ys(r,o)}return t[7]}function sb(n,t,e,r,o,i,s){for(;null!=e;){const a=r[9];if(128===e.type){e=e.next;continue}const l=r[e.index],c=e.type;if(s&&0===t&&(l&&Jr(rr(l),r),e.flags|=2),!ph(e))if(8&c)sb(n,t,e.child,r,o,i,!1),ml(t,n,a,o,l,e,i,r);else if(32&c){const u=Zm(e,r);let d;for(;d=u();)ml(t,n,a,o,d,e,i,r);ml(t,n,a,o,l,e,i,r)}else 16&c?gE(n,t,r,e,o,i):ml(t,n,a,o,l,e,i,r);e=s?e.projectionNext:e.next}}function Mh(n,t,e,r,o,i){sb(e,r,n.firstChild,t,o,i,!1)}function gE(n,t,e,r,o,i){const s=e[15],l=s[5].projection[r.projection];if(Array.isArray(l))for(let c=0;c<l.length;c++)ml(t,n,e[9],o,l[c],r,i,e);else{let c=l;const u=s[3];Pc(r)&&(c.flags|=128),sb(n,t,c,u,o,i,!0)}}function mE(n,t,e,r,o){const i=cr(),s=2&r;try{$s(-1),s&&t.length>27&&Y1(n,t,27,!1),Lt(s?ne.TemplateUpdateStart:ne.TemplateCreateStart,o,e),e(r,o)}finally{$s(i),Lt(s?ne.TemplateUpdateEnd:ne.TemplateCreateEnd,o,e)}}function Rh(n,t,e){(function rB(n,t,e){const r=e.directiveStart,o=e.directiveEnd;di(e)&&function LF(n,t,e){const r=Cn(t,n),o=function q1(n){const t=n.tView;return null===t||t.incompleteFirstPass?n.tView=qm(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts,n.id):t}(e),i=n[10].rendererFactory,s=Km(n,kh(n,o,null,Ym(e),r,t,null,i.createRenderer(r,e),null,null,null));n[t.index]=s}(t,e,n.data[r+e.componentOffset]),n.firstCreatePass||rh(e,t);const i=e.initialInputs;for(let s=r;s<o;s++){const a=n.data[s],l=Oc(t,n,s,e);Jr(l,t),null!==i&&aB(0,s-r,l,a,0,i),Yo(a)&&(Or(e.index,t)[8]=Oc(t,n,s,e))}})(n,t,e),!(64&~e.flags)&&function oB(n,t,e){const r=e.directiveStart,o=e.directiveEnd,i=e.index,s=function M2(){return Oe.lFrame.currentDirectiveIndex}();try{$s(i);for(let a=r;a<o;a++){const l=n.data[a],c=t[a];qg(a),(null!==l.hostBindings||0!==l.hostVars||null!==l.hostAttrs)&&iB(l,c)}}finally{$s(-1),qg(s)}}(n,t,e)}function bl(n,t,e=Cn){const r=t.localNames;if(null!==r){let o=t.index+1;for(let i=0;i<r.length;i+=2){const s=r[i+1],a=-1===s?e(t,n):n[s];n[o++]=a}}}let bE=()=>null;function Nh(n,t,e,r,o,i){Fh(n,t[1],t,e,r)?di(n)&&function vE(n,t){const e=Or(t,n);16&e[2]||(e[2]|=64)}(t,n.index):(3&n.type&&(e=function nB(n){return"class"===n?"className":"for"===n?"htmlFor":"formaction"===n?"formAction":"innerHtml"===n?"innerHTML":"readonly"===n?"readOnly":"tabindex"===n?"tabIndex":n}(e)),ab(n,t,e,r,o,i))}function ab(n,t,e,r,o,i){if(3&n.type){const s=Cn(n,t);r=null!=i?i(r,n.value||"",e):r,o.setProperty(s,e,r)}}function iB(n,t){null!==n.hostBindings&&n.hostBindings(1,t)}function lb(n,t){const e=n.directiveRegistry;let r=null;if(e)for(let o=0;o<e.length;o++){const i=e[o];W1(t,i.selectors,!1)&&(r??=[],Yo(i)?r.unshift(i):r.push(i))}return r}function aB(n,t,e,r,o,i){const s=i[t];if(null!==s)for(let a=0;a<s.length;a+=2)fl(r,e,s[a],s[a+1])}function Lh(n,t,e,r,o){const i=27+e,s=t[1],a=o(s,t,n,r,e);t[i]=a,Pi(n,!0);const l=2===n.type;return l?(F1(t[11],a,n),(0===function S2(){return Oe.lFrame.elementDepthCount}()||qa(n))&&Jr(a,t),function k2(){Oe.lFrame.elementDepthCount++}()):Jr(a,t),zd()&&(!l||!ph(n))&&ib(s,t,a,n),n}function Ph(n){let t=n;return oC()?iC():(t=t.parent,Pi(t,!1)),t}function Fh(n,t,e,r,o){const i=n.inputs?.[r],s=n.hostDirectiveInputs?.[r];let a=!1;if(s)for(let l=0;l<s.length;l+=2){const c=s[l];fl(t.data[c],e[c],s[l+1],o),a=!0}if(i)for(const l of i)fl(t.data[l],e[l],r,o),a=!0;return a}function cB(n,t){const e=Or(t,n),r=e[1];!function uB(n,t){for(let e=t.length;e<n.blueprint.length;e++)t.push(n.blueprint[e])}(r,e);const o=e[0];null!==o&&null===e[6]&&(e[6]=null),Lt(ne.ComponentStart);try{Bh(r,e,e[8])}finally{Lt(ne.ComponentEnd,e[8])}}function Bh(n,t,e){Xg(t);try{const r=n.viewQuery;null!==r&&Lm(1,r,e);const o=n.template;null!==o&&mE(n,t,o,1,e),n.firstCreatePass&&(n.firstCreatePass=!1),t[18]?.finishViewCreation(n),n.staticContentQueries&&g1(n,t),n.staticViewQueries&&Lm(2,n.viewQuery,e);const i=n.components;null!==i&&function dB(n,t){for(let e=0;e<t.length;e++)cB(n,t[e])}(t,i)}catch(r){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),r}finally{t[2]&=-5,Zg()}}function vl(n,t,e,r){const o=O(null);try{const i=t.tView,l=kh(n,i,e,4096&n[2]?4096:16,null,t,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null);l[16]=n[t.index];const u=n[18];return null!==u&&(l[18]=u.createEmbeddedView(i)),Bh(i,l,e),l}finally{O(o)}}function Ks(n,t){return!t||null===t.firstChild||Pc(n)}function Xc(n,t,e,r,o=!1){for(;null!==e;){if(128===e.type){e=o?e.projectionNext:e.next;continue}const i=t[e.index];null!==i&&r.push(rr(i)),Nr(i)&&hB(i,r);const s=e.type;if(8&s)Xc(n,t,e.child,r);else if(32&s){const a=Zm(e,t);let l;for(;l=a();)r.push(l)}else if(16&s){const a=pE(t,e);if(Array.isArray(a))r.push(...a);else{const l=Li(t[15]);Xc(l[1],l,a,r,!0)}}e=o?e.projectionNext:e.next}return r}function hB(n,t){for(let e=10;e<n.length;e++){const r=n[e],o=r[1].firstChild;null!==o&&Xc(r[1],r,o,t)}n[7]!==n[0]&&t.push(n[7])}function CE(n){if(null!==n[25]){for(const t of n[25])t.impl.addSequence(t);n[25].length=0}}let wE=[];const mB={...ue,consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:n=>{Xa(n.lView)},consumerOnSignalRead(){this.lView[24]=this}},vB={...ue,consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:n=>{let t=Li(n.lView);for(;t&&!EE(t[1]);)t=Li(t);t&&Y0(t)},consumerOnSignalRead(){this.lView[24]=this}};function EE(n){return 2!==n.type}function DE(n){if(null===n[23])return;let t=!0;for(;t;){let e=!1;for(const r of n[23])r.dirty&&(e=!0,null===r.zone||Zone.current===r.zone?r.run():r.zone.run(()=>r.run()));t=e&&!!(8192&n[2])}}function Hh(n,t=0){const r=n[10].rendererFactory;r.begin?.();try{!function _B(n,t){const e=lC();try{Ud(!0),ub(n,t);let r=0;for(;jd(n);){if(100===r)throw new R(103,!1);r++,ub(n,1)}}finally{Ud(e)}}(n,t)}finally{r.end?.()}}function SE(n,t,e,r){if(Oi(t))return;const o=t[2];Xg(t);let a=!0,l=null,c=null;EE(n)?(c=function fB(n){return n[24]??function pB(n){const t=wE.pop()??Object.create(mB);return t.lView=n,t}(n)}(t),l=dt(c)):null===function Ve(){return ae}()?(a=!1,c=function bB(n){const t=n[24]??Object.create(vB);return t.lView=n,t}(t),l=dt(c)):t[24]&&(tn(t[24]),t[24]=null);try{q0(t),function cC(n){return Oe.lFrame.bindingIndex=n}(n.bindingStartIndex),null!==e&&mE(n,t,e,2,r);const u=!(3&~o);if(u){const f=n.preOrderCheckHooks;null!==f&&eh(t,f,null)}else{const f=n.preOrderHooks;null!==f&&th(t,f,0,null),am(t,0)}if(function CB(n){for(let t=xw(n);null!==t;t=Mw(t)){if(!(2&t[2]))continue;const e=t[9];for(let r=0;r<e.length;r++)Y0(e[r])}}(t),DE(t),kE(t,0),null!==n.contentQueries&&g1(n,t),u){const f=n.contentCheckHooks;null!==f&&eh(t,f)}else{const f=n.contentHooks;null!==f&&th(t,f,1),am(t,1)}!function EB(n,t){const e=n.hostBindingOpCodes;if(null!==e)try{for(let r=0;r<e.length;r++){const o=e[r];if(o<0)$s(~o);else{const i=o,s=e[++r],a=e[++r];x2(s,i);const l=t[i];Lt(ne.HostBindingsUpdateStart,l);try{a(2,l)}finally{Lt(ne.HostBindingsUpdateEnd,l)}}}}finally{$s(-1)}}(n,t);const d=n.components;null!==d&&AE(t,d,0);const h=n.viewQuery;if(null!==h&&Lm(2,h,r),u){const f=n.viewCheckHooks;null!==f&&eh(t,f)}else{const f=n.viewHooks;null!==f&&th(t,f,2),am(t,2)}if(!0===n.firstUpdatePass&&(n.firstUpdatePass=!1),t[22]){for(const f of t[22])f();t[22]=null}CE(t),t[2]&=-73}catch(u){throw Xa(t),u}finally{null!==c&&(vn(c,l),a&&function gB(n){n.lView[24]!==n&&(n.lView=null,wE.push(n))}(c)),Zg()}}function kE(n,t){for(let e=xw(n);null!==e;e=Mw(e))for(let r=10;r<e.length;r++)TE(e[r],t)}function wB(n,t,e){Lt(ne.ComponentStart);const r=Or(t,n);try{TE(r,e)}finally{Lt(ne.ComponentEnd,r[8])}}function TE(n,t){$g(n)&&ub(n,t)}function ub(n,t){const r=n[1],o=n[2],i=n[24];let s=!!(0===t&&16&o);if(s||=!!(64&o&&0===t),s||=!!(1024&o),s||=!(!i?.dirty||!yn(i)),s||=!1,i&&(i.dirty=!1),n[2]&=-9217,s)SE(r,n,r.template,n[8]);else if(8192&o){const a=O(null);try{DE(n),kE(n,1);const l=r.components;null!==l&&AE(n,l,1),CE(n)}finally{O(a)}}}function AE(n,t,e){for(let r=0;r<t.length;r++)wB(n,t[r],e)}function yl(n,t){const e=lC()?64:1088;for(n[10].changeDetectionScheduler?.notify(t);n;){n[2]|=e;const r=Li(n);if(is(n)&&!r)return n;n=r}return null}function IE(n,t,e,r){return[n,!0,0,t,null,r,null,e,null,null]}function xE(n,t){const e=10+t;if(e<n.length)return n[e]}function _l(n,t,e,r=!0){const o=t[1];if(function DB(n,t,e,r){const o=10+r,i=e.length;r>0&&(e[o-1][4]=t),r<i-10?(t[4]=e[o],x0(e,10+r,t)):(e.push(t),t[4]=null),t[3]=e;const s=t[16];null!==s&&e!==s&&ME(s,t);const a=t[18];null!==a&&a.insertView(n),Ug(t),t[2]|=128}(o,t,n,e),r){const s=xh(e,n),a=t[11],l=a.parentNode(n[7]);null!==l&&function WF(n,t,e,r,o,i){r[0]=o,r[5]=t,Mh(n,r,e,1,o,i)}(o,n[5],a,t,l,s)}const i=t[6];null!==i&&null!==i.firstChild&&(i.firstChild=null)}function db(n,t){const e=Zc(n,t);return void 0!==e&&Kc(e[1],e),e}function Zc(n,t){if(n.length<=10)return;const e=10+t,r=n[e];if(r){const o=r[16];null!==o&&o!==n&&tb(o,r),t>0&&(n[e-1][4]=r[4]);const i=Md(n,10+t);!function sE(n,t){aE(n,t),t[0]=null,t[5]=null}(r[1],r);const s=i[18];null!==s&&s.detachView(i[1]),r[3]=null,r[4]=null,r[2]&=-129}return r}function ME(n,t){const e=n[9],r=t[3];(_n(r)||t[15]!==r[3][15])&&(n[2]|=2),null===e?n[9]=[t]:e.push(t)}class Qc{_lView;_cdRefInjectingView;_appRef=null;_attachedToViewContainer=!1;exhaustive;get rootNodes(){const t=this._lView,e=t[1];return Xc(e,t,e.firstChild,[])}constructor(t,e){this._lView=t,this._cdRefInjectingView=e}get context(){return this._lView[8]}set context(t){this._lView[8]=t}get destroyed(){return Oi(this._lView)}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const t=this._lView[3];if(Nr(t)){const e=t[8],r=e?e.indexOf(this):-1;r>-1&&(Zc(t,r),Md(e,r))}this._attachedToViewContainer=!1}Kc(this._lView[1],this._lView)}onDestroy(t){$d(this._lView,t)}markForCheck(){yl(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[2]&=-129}reattach(){Ug(this._lView),this._lView[2]|=128}detectChanges(){this._lView[2]|=1024,Hh(this._lView)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new R(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;const t=is(this._lView),e=this._lView[16];null!==e&&!t&&tb(e,this._lView),aE(this._lView[1],this._lView)}attachToAppRef(t){if(this._attachedToViewContainer)throw new R(902,!1);this._appRef=t;const e=is(this._lView),r=this._lView[16];null!==r&&!e&&ME(r,this._lView),Ug(this._lView)}}let bi=(()=>class n{_declarationLView;_declarationTContainer;elementRef;static __NG_ELEMENT_ID__=SB;constructor(e,r,o){this._declarationLView=e,this._declarationTContainer=r,this.elementRef=o}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,r){return this.createEmbeddedViewImpl(e,r)}createEmbeddedViewImpl(e,r,o){const i=vl(this._declarationLView,this._declarationTContainer,e,{embeddedViewInjector:r,dehydratedView:o});return new Qc(i)}})();function SB(){return jh(Fe(),I())}function jh(n,t){return 4&n.type?new bi(t,n,sl(n,t)):null}function Xs(n,t,e,r,o){let i=n.data[t];if(null===i)i=function gb(n,t,e,r,o){const i=rC(),s=oC(),l=n.data[t]=function OB(n,t,e,r,o,i){let s=t?t.injectorIndex:-1,a=0;return eC()&&(a|=128),{type:e,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,fieldIndex:-1,customControlIndex:-1,propertyBindings:null,flags:a,providerIndexes:0,value:o,attrs:i,mergedAttrs:null,localNames:null,initialInputs:null,inputs:null,hostDirectiveInputs:null,outputs:null,hostDirectiveOutputs:null,directiveToIndex:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,s?i:i&&i.parent,e,t,r,o);return function NB(n,t,e,r){null===n.firstChild&&(n.firstChild=t),null!==e&&(r?null==e.child&&null!==t.parent&&(e.child=t):null===e.next&&(e.next=t,t.prev=e))}(n,l,i,s),l}(n,t,e,r,o),function I2(){return Oe.lFrame.inI18n}()&&(i.flags|=32);else if(64&i.type){i.type=e,i.value=r,i.attrs=o;const s=function Sc(){const n=Oe.lFrame,t=n.currentTNode;return n.isParent?t:t.parent}();i.injectorIndex=null===s?-1:s.injectorIndex}return Pi(i,!0),i}function XE(n,t){let e=0,r=n.firstChild;if(r){const o=n.data.r;for(;e<o;){const i=r.nextSibling;zc(t,r,!1),r=i,e++}}}let m5=class{},nD=class{};class b5{resolveComponentFactory(t){throw new R(917,!1)}}let Yh=class{static NULL=new b5};class wb{}let wl=(()=>class n{destroyNode=null;static __NG_ELEMENT_ID__=()=>function v5(){const n=I(),e=Or(Fe().index,n);return(_n(e)?e:n)[11]}()})(),y5=(()=>{class n{static \u0275prov=Z({token:n,providedIn:"root",factory:()=>null})}return n})();const Db={};class El{injector;parentInjector;constructor(t,e){this.injector=t,this.parentInjector=e}get(t,e,r){const o=this.injector.get(t,Db,r);return o!==Db||e===Db?o:this.parentInjector.get(t,e,r)}}function Xh(n,t,e){let r=e?n.styles:null,o=e?n.classes:null,i=0;if(null!==t)for(let s=0;s<t.length;s++){const a=t[s];"number"==typeof a?i=a:1==i?o=gg(o,a):2==i&&(r=gg(r,a+": "+t[++s]+";"))}e?n.styles=r:n.stylesWithoutHost=r,e?n.classes=o:n.classesWithoutHost=o}function Ce(n,t=0){const e=I();return null===e?Xe(n,t):uw(Fe(),e,ze(n),t)}function oD(n,t,e,r,o){const i=null===r?null:{"":-1},s=o(n,e);if(null!==s){let a=s,l=null,c=null;for(const u of s)if(null!==u.resolveHostDirectives){[a,l,c]=u.resolveHostDirectives(s);break}!function k5(n,t,e,r,o,i,s){const a=r.length;let l=null;for(let h=0;h<a;h++){const f=r[h];null===l&&Yo(f)&&(l=f,S5(n,e,h)),fm(rh(e,t),n,f.type)}(function R5(n,t,e){n.flags|=1,n.directiveStart=t,n.directiveEnd=t+e,n.providerIndexes=t})(e,n.data.length,a),l?.viewProvidersResolver&&l.viewProvidersResolver(l);for(let h=0;h<a;h++){const f=r[h];f.providersResolver&&f.providersResolver(f)}let c=!1,u=!1,d=qc(n,t,a,null);a>0&&(e.directiveToIndex=new Map);for(let h=0;h<a;h++){const f=r[h];if(e.mergedAttrs=il(e.mergedAttrs,f.hostAttrs),A5(n,e,t,d,f),M5(d,f,o),null!==s&&s.has(f)){const[g,m]=s.get(f);e.directiveToIndex.set(f.type,[d,g+e.directiveStart,m+e.directiveStart])}else(null===i||!i.has(f))&&e.directiveToIndex.set(f.type,d);null!==f.contentQueries&&(e.flags|=4),(null!==f.hostBindings||null!==f.hostAttrs||0!==f.hostVars)&&(e.flags|=64);const p=f.type.prototype;!c&&(p.ngOnChanges||p.ngOnInit||p.ngDoCheck)&&((n.preOrderHooks??=[]).push(e.index),c=!0),!u&&(p.ngOnChanges||p.ngDoCheck)&&((n.preOrderCheckHooks??=[]).push(e.index),u=!0),d++}!function T5(n,t,e){for(let r=t.directiveStart;r<t.directiveEnd;r++){const o=n.data[r];if(null!==e&&e.has(o)){const i=e.get(o);sD(0,t,i,r),sD(1,t,i,r),lD(t,r,!0)}else iD(0,t,o,r),iD(1,t,o,r),lD(t,r,!1)}}(n,e,i)}(n,t,e,a,i,l,c)}null!==i&&null!==r&&function D5(n,t,e){const r=n.localNames=[];for(let o=0;o<t.length;o+=2){const i=e[t[o+1]];if(null==i)throw new R(-301,!1);r.push(t[o],i)}}(e,r,i)}function S5(n,t,e){t.componentOffset=e,(n.components??=[]).push(t.index)}function iD(n,t,e,r){const o=0===n?e.inputs:e.outputs;for(const i in o)if(o.hasOwnProperty(i)){let s;s=0===n?t.inputs??={}:t.outputs??={},s[i]??=[],s[i].push(r),aD(t,i)}}function sD(n,t,e,r){const o=0===n?e.inputs:e.outputs;for(const i in o)if(o.hasOwnProperty(i)){const s=o[i];let a;a=0===n?t.hostDirectiveInputs??={}:t.hostDirectiveOutputs??={},a[s]??=[],a[s].push(r,i),aD(t,s)}}function aD(n,t){"class"===t?n.flags|=8:"style"===t&&(n.flags|=16)}function lD(n,t,e){const{attrs:r,inputs:o,hostDirectiveInputs:i}=n;if(null===r||!e&&null===o||e&&null===i||Gm(n))return n.initialInputs??=[],void n.initialInputs.push(null);let s=null,a=0;for(;a<r.length;){const l=r[a];if(0!==l)if(5!==l){if("number"==typeof l)break;if(!e&&o.hasOwnProperty(l)){const c=o[l];for(const u of c)if(u===t){s??=[],s.push(l,r[a+1]);break}}else if(e&&i.hasOwnProperty(l)){const c=i[l];for(let u=0;u<c.length;u+=2)if(c[u]===t){s??=[],s.push(c[u+1],r[a+1]);break}}a+=2}else a+=2;else a+=4}n.initialInputs??=[],n.initialInputs.push(s)}function A5(n,t,e,r,o){n.data[r]=o;const i=o.factory||(o.factory=Ls(o.type)),s=new Mc(i,Yo(o),Ce,null);n.blueprint[r]=s,e[r]=s,function I5(n,t,e,r,o){const i=o.hostBindings;if(i){let s=n.hostBindingOpCodes;null===s&&(s=n.hostBindingOpCodes=[]);const a=~t.index;(function x5(n){let t=n.length;for(;t>0;){const e=n[--t];if("number"==typeof e&&e<0)return e}return 0})(s)!=a&&s.push(a),s.push(e,r,i)}}(n,t,r,qc(n,e,o.hostVars,Bt),o)}function M5(n,t,e){if(e){if(t.exportAs)for(let r=0;r<t.exportAs.length;r++)e[t.exportAs[r]]=n;Yo(t)&&(e[""]=n)}}function Sb(n,t,e,r,o,i,s,a){const l=t[1],c=l.consts,d=Xs(l,n,e,r,Dr(c,s));return i&&oD(l,t,d,Dr(c,a),o),d.mergedAttrs=il(d.mergedAttrs,d.attrs),null!==d.attrs&&Xh(d,d.attrs,!1),null!==d.mergedAttrs&&Xh(d,d.mergedAttrs,!0),null!==l.queries&&l.queries.elementStart(l,d),d}function kb(n,t){JC(n,t),$0(t)&&n.queries.elementEnd(t)}function Zh(n){return!!Tb(n)&&(Array.isArray(n)||!(n instanceof Map)&&Symbol.iterator in n)}function Tb(n){return null!==n&&("function"==typeof n||"object"==typeof n)}function vi(n,t,e){return n[t]=e}function rn(n,t,e){return e!==Bt&&(!Object.is(n[t],e)&&(n[t]=e,!0))}function ji(n,t,e){return function r(o){yl(di(n)?Or(n.index,t):t,5);const s=t[8];let a=dD(t,s,e,o),l=r.__ngNextListenerFn__;for(;l;)a=dD(t,s,l,o)&&a,l=l.__ngNextListenerFn__;return a}}function dD(n,t,e,r){const o=O(null);try{return Lt(ne.OutputStart,t,e),!1!==e(r)}catch(i){return function cb(n,t){const e=n[9];if(!e)return;let r;try{r=e.get(pi,null)}catch{r=null}r?.(t)}(n,i),!1}finally{Lt(ne.OutputEnd,t,e),O(o)}}function Jh(n,t,e,r,o,i,s,a){const l=qa(n);let c=!1,u=null;if(!r&&l&&(u=function F5(n,t,e,r){const o=n.cleanup;if(null!=o)for(let i=0;i<o.length-1;i+=2){const s=o[i];if(s===e&&o[i+1]===r){const a=t[7],l=o[i+2];return a&&a.length>l?a[l]:null}"string"==typeof s&&(i+=2)}return null}(t,e,i,n.index)),null!==u)(u.__ngLastListenerFn__||u).__ngNextListenerFn__=s,u.__ngLastListenerFn__=s,c=!0;else{const d=Cn(n,e),h=r?r(d):d,f=o.listen(h,i,a);(function P5(n){return n.startsWith("animation")||n.startsWith("transition")})(i)||hD(r?g=>r(rr(g[n.index])):n.index,t,e,i,a,f,!1)}return c}function hD(n,t,e,r,o,i,s){const a=t.firstCreatePass?Z0(t):null,l=X0(e),c=l.length;l.push(o,i),a&&a.push(r,n,c,(c+1)*(s?-1:1))}function Dl(n,t,e,r,o,i){const a=t[1],d=t[e][a.data[e].outputs[r]].subscribe(i);hD(n.index,a,t,o,i,d,!0)}const $i=Symbol("BINDING");class gD extends Yh{ngModule;constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){const e=Ft(t);return new Ab(e,this.ngModule)}}class Ab extends nD{componentDef;ngModule;selector;componentType;ngContentSelectors;isBoundToModule;cachedInputs=null;cachedOutputs=null;get inputs(){return this.cachedInputs??=function W5(n){return Object.keys(n).map(t=>{const[e,r,o]=n[t],i={propName:e,templateName:t,isSignal:0!==(r&Yc.SignalBased)};return o&&(i.transform=o),i})}(this.componentDef.inputs),this.cachedInputs}get outputs(){return this.cachedOutputs??=function G5(n){return Object.keys(n).map(t=>({propName:n[t],templateName:t}))}(this.componentDef.outputs),this.cachedOutputs}constructor(t,e){super(),this.componentDef=t,this.ngModule=e,this.componentType=t.type,this.selector=function RF(n){return n.map(MF).join(",")}(t.selectors),this.ngContentSelectors=t.ngContentSelectors??[],this.isBoundToModule=!!e}create(t,e,r,o,i,s){Lt(ne.DynamicComponentStart);const a=O(null);try{const l=this.componentDef,c=function Z5(n,t,e,r){const o=n?["ng-version","21.0.3"]:function NF(n){const t=[],e=[];let r=1,o=2;for(;r<n.length;){let i=n[r];if("string"==typeof i)2===o?""!==i&&t.push(i,n[++r]):8===o&&e.push(i);else{if(!Xo(o))break;o=i}r++}return e.length&&t.push(1,...e),t}(t.selectors[0]);let i=null,s=null,a=0;if(e)for(const u of e)a+=u[$i].requiredVars,u.create&&(u.targetIdx=0,(i??=[]).push(u)),u.update&&(u.targetIdx=0,(s??=[]).push(u));if(r)for(let u=0;u<r.length;u++){const d=r[u];if("function"!=typeof d)for(const h of d.bindings){a+=h[$i].requiredVars;const f=u+1;h.create&&(h.targetIdx=f,(i??=[]).push(h)),h.update&&(h.targetIdx=f,(s??=[]).push(h))}}const l=[t];if(r)for(const u of r){const h=Mr("function"==typeof u?u:u.type);l.push(h)}return qm(0,null,function Q5(n,t){return n||t?e=>{if(1&e&&n)for(const r of n)r.create();if(2&e&&t)for(const r of t)r.update()}:null}(i,s),1,a,l,null,null,null,[o],null)}(r,l,s,i),u=function q5(n,t,e){let r=t instanceof Rr?t:t?.injector;return r&&null!==n.getStandaloneInjector&&(r=n.getStandaloneInjector(r)||r),r?new El(e,r):e}(l,o||this.ngModule,t),d=function Y5(n){const t=n.get(wb,null);if(null===t)throw new R(407,!1);return{rendererFactory:t,sanitizer:n.get(y5,null),changeDetectionScheduler:n.get(Us,null),ngReflect:!1}}(u),h=d.rendererFactory.createRenderer(null,l),f=r?function JF(n,t,e,r){const i=r.get(nP,!1)||e===Mo.ShadowDom||e===Mo.ExperimentalIsolatedShadowDom,s=n.selectRootElement(t,i);return function eB(n){bE(n)}(s),s}(h,r,l.encapsulation,u):function K5(n,t){const e=function X5(n){return(n.selectors[0][0]||"div").toLowerCase()}(n);return Dh(t,e,"svg"===e?"svg":"math"===e?"math":null)}(l,h),p=s?.some(mD)||i?.some(b=>"function"!=typeof b&&b.bindings.some(mD)),g=kh(null,c,null,512|Ym(l),null,null,d,h,u,null,null);g[27]=f,Xg(g);let m=null;try{const b=Sb(27,g,2,"#host",()=>c.directiveRegistry,!0,0);F1(h,f,b),Jr(f,g),Rh(c,g,b),Pm(c,b,g),kb(c,b),void 0!==e&&function e3(n,t,e){const r=n.projection=[];for(let o=0;o<t.length;o++){const i=e[o];r.push(null!=i&&i.length?Array.from(i):null)}}(b,this.ngContentSelectors,e),m=Or(b.index,g),g[8]=m[8],Bh(c,g,null)}catch(b){throw null!==m&&bm(m),bm(g),b}finally{Lt(ne.DynamicComponentEnd),Zg()}return new J5(this.componentType,g,!!p)}finally{O(a)}}}function mD(n){const t=n[$i].kind;return"input"===t||"twoWay"===t}class J5 extends m5{_rootLView;_hasInputBindings;instance;hostView;changeDetectorRef;componentType;location;previousInputValues=null;_tNode;constructor(t,e,r){super(),this._rootLView=e,this._hasInputBindings=r,this._tNode=Ka(e[1],27),this.location=sl(this._tNode,e),this.instance=Or(this._tNode.index,e)[8],this.hostView=this.changeDetectorRef=new Qc(e,void 0),this.componentType=t}setInput(t,e){const r=this._tNode;if(this.previousInputValues??=new Map,this.previousInputValues.has(t)&&Object.is(this.previousInputValues.get(t),e))return;const o=this._rootLView;Fh(r,o[1],o,t,e),this.previousInputValues.set(t,e),yl(Or(r.index,o),1)}get injector(){return new In(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}}let Zo=(()=>class n{static __NG_ELEMENT_ID__=t3})();function t3(){return yD(Fe(),I())}const n3=Zo,bD=class extends n3{_lContainer;_hostTNode;_hostLView;constructor(t,e,r){super(),this._lContainer=t,this._hostTNode=e,this._hostLView=r}get element(){return sl(this._hostTNode,this._hostLView)}get injector(){return new In(this._hostTNode,this._hostLView)}get parentInjector(){const t=oh(this._hostTNode,this._hostLView);if(um(t)){const e=Nc(t,this._hostLView),r=Rc(t);return new In(e[1].data[r+8],e)}return new In(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){const e=vD(this._lContainer);return null!==e&&e[t]||null}get length(){return this._lContainer.length-10}createEmbeddedView(t,e,r){let o,i;"number"==typeof r?o=r:null!=r&&(o=r.index,i=r.injector);const a=t.createEmbeddedViewImpl(e||{},i,null);return this.insertImpl(a,o,Ks(this._hostTNode,null)),a}createComponent(t,e,r,o,i,s,a){const l=t&&!function xc(n){return"function"==typeof n}(t);let c;if(l)c=e;else{const m=e||{};c=m.index,r=m.injector,o=m.projectableNodes,i=m.environmentInjector||m.ngModuleRef,s=m.directives,a=m.bindings}const u=l?t:new Ab(Ft(t)),d=r||this.parentInjector;if(!i&&null==u.ngModule){const b=(l?d:this.parentInjector).get(Rr,null);b&&(i=b)}Ft(u.componentType??{});const g=u.create(d,o,null,i,s,a);return this.insertImpl(g.hostView,c,Ks(this._hostTNode,null)),g}insert(t,e){return this.insertImpl(t,e,!0)}insertImpl(t,e,r){const o=t._lView;if(function D2(n){return Nr(n[3])}(o)){const a=this.indexOf(t);if(-1!==a)this.detach(a);else{const l=o[3],c=new bD(l,l[5],l[3]);c.detach(c.indexOf(t))}}const i=this._adjustIndex(e),s=this._lContainer;return _l(s,o,i,r),t.attachToViewContainerRef(),x0(Ib(s),i,t),t}move(t,e){return this.insert(t,e)}indexOf(t){const e=vD(this._lContainer);return null!==e?e.indexOf(t):-1}remove(t){const e=this._adjustIndex(t,-1),r=Zc(this._lContainer,e);r&&(Md(Ib(this._lContainer),e),Kc(r[1],r))}detach(t){const e=this._adjustIndex(t,-1),r=Zc(this._lContainer,e);return r&&null!=Md(Ib(this._lContainer),e)?new Qc(r):null}_adjustIndex(t,e=0){return t??this.length+e}};function vD(n){return n[8]}function Ib(n){return n[8]||(n[8]=[])}function yD(n,t){let e;const r=t[n.index];return Nr(r)?e=r:(e=IE(r,t,null,n),t[n.index]=e,Km(t,e)),_D(e,t,n,r),new bD(e,n,t)}let _D=function wD(n,t,e,r){if(n[7])return;let o;o=8&e.type?rr(r):function r3(n,t){const e=n[11],r=e.createComment(""),o=Cn(t,n),i=e.parentNode(o);return Gs(e,i,r,e.nextSibling(o),!1),r}(t,e),n[7]=o};class Mb{queryList;matches=null;constructor(t){this.queryList=t}clone(){return new Mb(this.queryList)}setDirty(){this.queryList.setDirty()}}class Rb{queries;constructor(t=[]){this.queries=t}createEmbeddedView(t){const e=t.queries;if(null!==e){const r=null!==t.contentQueries?t.contentQueries[0]:e.length,o=[];for(let i=0;i<r;i++){const s=e.getByIndex(i);o.push(this.queries[s.indexInDeclarationView].clone())}return new Rb(o)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}finishViewCreation(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let e=0;e<this.queries.length;e++)null!==Fb(t,e).matches&&this.queries[e].setDirty()}}class ED{flags;read;predicate;constructor(t,e,r=null){this.flags=e,this.read=r,this.predicate="string"==typeof t?function u3(n){return n.split(",").map(t=>t.trim())}(t):t}}class Nb{queries;constructor(t=[]){this.queries=t}elementStart(t,e){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(t,e)}elementEnd(t){for(let e=0;e<this.queries.length;e++)this.queries[e].elementEnd(t)}embeddedTView(t){let e=null;for(let r=0;r<this.length;r++){const o=null!==e?e.length:0,i=this.getByIndex(r).embeddedTView(t,o);i&&(i.indexInDeclarationView=r,null!==e?e.push(i):e=[i])}return null!==e?new Nb(e):null}template(t,e){for(let r=0;r<this.queries.length;r++)this.queries[r].template(t,e)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}}class Ob{metadata;matches=null;indexInDeclarationView=-1;crossesNgTemplate=!1;_declarationNodeIndex;_appliesToNextNode=!0;constructor(t,e=-1){this.metadata=t,this._declarationNodeIndex=e}elementStart(t,e){this.isApplyingToNode(e)&&this.matchTNode(t,e)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,e){this.elementStart(t,e)}embeddedTView(t,e){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,e),new Ob(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&1&~this.metadata.flags){const e=this._declarationNodeIndex;let r=t.parent;for(;null!==r&&8&r.type&&r.index!==e;)r=r.parent;return e===(null!==r?r.index:-1)}return this._appliesToNextNode}matchTNode(t,e){const r=this.metadata.predicate;if(Array.isArray(r))for(let o=0;o<r.length;o++){const i=r[o];this.matchTNodeWithReadOption(t,e,s3(e,i)),this.matchTNodeWithReadOption(t,e,ih(e,t,i,!1,!1))}else r===bi?4&e.type&&this.matchTNodeWithReadOption(t,e,-1):this.matchTNodeWithReadOption(t,e,ih(e,t,r,!1,!1))}matchTNodeWithReadOption(t,e,r){if(null!==r){const o=this.metadata.read;if(null!==o)if(o===xo||o===Zo||o===bi&&4&e.type)this.addMatch(e.index,-2);else{const i=ih(e,t,o,!1,!1);null!==i&&this.addMatch(e.index,i)}else this.addMatch(e.index,r)}}addMatch(t,e){null===this.matches?this.matches=[t,e]:this.matches.push(t,e)}}function s3(n,t){const e=n.localNames;if(null!==e)for(let r=0;r<e.length;r+=2)if(e[r]===t)return e[r+1];return null}function l3(n,t,e,r){return-1===e?function a3(n,t){return 11&n.type?sl(n,t):4&n.type?jh(n,t):null}(t,n):-2===e?function c3(n,t,e){return e===xo?sl(t,n):e===bi?jh(t,n):e===Zo?yD(t,n):void 0}(n,t,r):Oc(n,n[1],e,t)}function DD(n,t,e,r){const o=t[18].queries[r];if(null===o.matches){const i=n.data,s=e.matches,a=[];for(let l=0;null!==s&&l<s.length;l+=2){const c=s[l];a.push(c<0?null:l3(t,i[c],s[l+1],e.metadata.read))}o.matches=a}return o.matches}function Lb(n,t,e,r){const o=n.queries.getByIndex(e),i=o.matches;if(null!==i){const s=DD(n,t,o,e);for(let a=0;a<i.length;a+=2){const l=i[a];if(l>0)r.push(s[a/2]);else{const c=i[a+1],u=t[-l];for(let d=10;d<u.length;d++){const h=u[d];h[16]===h[3]&&Lb(h[1],h,c,r)}if(null!==u[9]){const d=u[9];for(let h=0;h<d.length;h++){const f=d[h];Lb(f[1],f,c,r)}}}}}return r}function Pb(n,t){return n[18].queries[t].queryList}function SD(n,t,e){const r=new EL(!(4&~e));return function Q0(n,t,e,r){const o=X0(t);o.push(e),n.firstCreatePass&&Z0(n).push(r,o.length-1)}(n,t,r,r.destroy),(t[18]??=new Rb).queries.push(new Mb(r))-1}function TD(n,t,e,r){const o=Me();if(o.firstCreatePass){const i=Fe();AD(o,new ED(t,e,r),i.index),function d3(n,t){const e=n.contentQueries||(n.contentQueries=[]);t!==(e.length?e[e.length-1]:-1)&&e.push(n.queries.length-1,t)}(o,n),!(2&~e)&&(o.staticContentQueries=!0)}return SD(o,I(),e)}function AD(n,t,e){null===n.queries&&(n.queries=new Nb),n.queries.track(new Ob(t,e))}function Fb(n,t){return n.queries.getByIndex(t)}function ID(n,t){const e=n[1],r=Fb(e,t);return r.crossesNgTemplate?Lb(e,n,t,[]):DD(e,n,r,t)}function Bb(n,t,e){let r;const o=wt(()=>{r._dirtyCounter();const i=function g3(n,t){const e=n._lView,r=n._queryIndex;if(void 0===e||void 0===r||4&e[2])return t?void 0:Zt;const o=Pb(e,r),i=ID(e,r);return o.reset(i,yw),t?o.first:o._changesDetected||void 0===n._flatValue?n._flatValue=o.toArray():n._flatValue}(r,n);if(t&&void 0===i)throw new R(-951,!1);return i});return r=o[X],r._dirtyCounter=Wt(0),r._flatValue=void 0,o}let ta=class{},OD=class{};class Ub extends ta{ngModuleType;_parent;_bootstrapComponents=[];_r3Injector;instance;destroyCbs=[];componentFactoryResolver=new gD(this);constructor(t,e,r,o=!0){super(),this.ngModuleType=t,this._parent=e;const i=ui(t);this._bootstrapComponents=mi(i.bootstrap),this._r3Injector=vC(t,e,[{provide:ta,useValue:this},{provide:Yh,useValue:this.componentFactoryResolver},...r],Kr(t),new Set(["environment"])),o&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){const t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(e=>e()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}}class LD extends OD{moduleType;constructor(t){super(),this.moduleType=t}create(t){return new Ub(this.moduleType,t,[])}}class PD extends ta{injector;componentFactoryResolver=new gD(this);instance=null;constructor(t){super();const e=new Ps([...t.providers,{provide:ta,useValue:this},{provide:Yh,useValue:this.componentFactoryResolver}],t.parent||Og(),t.debugName,new Set(["environment"]));this.injector=e,t.runEnvironmentInitializers&&e.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(t){this.injector.onDestroy(t)}}function Vb(n,t,e=null){return new PD({providers:n,parent:t,debugName:e,runEnvironmentInitializers:!0}).injector}let E3=(()=>{class n{_injector;cachedInjectors=new Map;constructor(e){this._injector=e}getOrCreateStandaloneInjector(e){if(!e.standalone)return null;if(!this.cachedInjectors.has(e)){const r=Ig(0,e.type),o=r.length>0?Vb([r],this._injector,`Standalone[${e.type.name}]`):null;this.cachedInjectors.set(e,o)}return this.cachedInjectors.get(e)}ngOnDestroy(){try{for(const e of this.cachedInjectors.values())null!==e&&e.destroy()}finally{this.cachedInjectors.clear()}}static \u0275prov=Z({token:n,providedIn:"environment",factory:()=>new n(Xe(Rr))})}return n})();function Mt(n){return Bi(()=>{const t=BD(n),e={...t,decls:n.decls,vars:n.vars,template:n.template,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,onPush:n.changeDetection===ah.OnPush,directiveDefs:null,pipeDefs:null,dependencies:t.standalone&&n.dependencies||null,getStandaloneInjector:t.standalone?o=>o.get(E3).getOrCreateStandaloneInjector(e):null,getExternalStyles:null,signals:n.signals??!1,data:n.data||{},encapsulation:n.encapsulation||Mo.Emulated,styles:n.styles||Zt,_:null,schemas:n.schemas||null,tView:null,id:""};t.standalone&&dr("NgStandalone"),HD(e);const r=n.dependencies;return e.directiveDefs=ef(r,FD),e.pipeDefs=ef(r,qo),e.id=function T3(n){let t=0;const r=[n.selectors,n.ngContentSelectors,n.hostVars,n.hostAttrs,"function"==typeof n.consts?"":n.consts,n.vars,n.decls,n.encapsulation,n.standalone,n.signals,n.exportAs,JSON.stringify(n.inputs),JSON.stringify(n.outputs),Object.getOwnPropertyNames(n.type.prototype),!!n.contentQueries,!!n.viewQuery];for(const i of r.join("|"))t=Math.imul(31,t)+i.charCodeAt(0)|0;return t+=2147483648,"c"+t}(e),e})}function FD(n){return Ft(n)||Mr(n)}function yi(n){return Bi(()=>({type:n.type,bootstrap:n.bootstrap||Zt,declarations:n.declarations||Zt,imports:n.imports||Zt,exports:n.exports||Zt,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function D3(n,t){if(null==n)return ci;const e={};for(const r in n)if(n.hasOwnProperty(r)){const o=n[r];let i,s,a,l;Array.isArray(o)?(a=o[0],i=o[1],s=o[2]??i,l=o[3]||null):(i=o,s=o,a=Yc.None,l=null),e[i]=[r,a,l],t[i]=s}return e}function S3(n){if(null==n)return ci;const t={};for(const e in n)n.hasOwnProperty(e)&&(t[n[e]]=e);return t}function xn(n){return Bi(()=>{const t=BD(n);return HD(t),t})}function BD(n){const t={};return{type:n.type,providersResolver:null,viewProvidersResolver:null,factory:null,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:t,inputConfig:n.inputs||ci,exportAs:n.exportAs||null,standalone:n.standalone??!0,signals:!0===n.signals,selectors:n.selectors||Zt,viewQuery:n.viewQuery||null,features:n.features||null,setInput:null,resolveHostDirectives:null,hostDirectives:null,inputs:D3(n.inputs,t),outputs:S3(n.outputs),debugInfo:null}}function HD(n){n.features?.forEach(t=>t(n))}function ef(n,t){return n?()=>{const e="function"==typeof n?n():n,r=[];for(const o of e){const i=t(o);null!==i&&r.push(i)}return r}:null}function No(n){const t=e=>{const r=Array.isArray(n);null===e.hostDirectives?(e.resolveHostDirectives=A3,e.hostDirectives=r?n.map(zb):[n]):r?e.hostDirectives.unshift(...n.map(zb)):e.hostDirectives.unshift(n)};return t.ngInherit=!0,t}function A3(n){const t=[];let e=!1,r=null,o=null;for(let i=0;i<n.length;i++){const s=n[i];if(null!==s.hostDirectives){const a=t.length;r??=new Map,o??=new Map,jD(s,t,r),o.set(s,[a,t.length-1])}0===i&&Yo(s)&&(e=!0,t.push(s))}for(let i=e?1:0;i<n.length;i++)t.push(n[i]);return[t,r,o]}function jD(n,t,e){if(null!==n.hostDirectives)for(const r of n.hostDirectives)if("function"==typeof r){const o=r();for(const i of o)$D(zb(i),t,e)}else $D(r,t,e)}function $D(n,t,e){const r=Mr(n.directive);(function I3(n,t){for(const e in t)t.hasOwnProperty(e)&&(n[t[e]]=n[e])})(r.declaredInputs,n.inputs),jD(r,t,e),e.set(r,n),t.push(r)}function zb(n){return"function"==typeof n?{directive:ze(n),inputs:ci,outputs:ci}:{directive:ze(n.directive),inputs:UD(n.inputs),outputs:UD(n.outputs)}}function UD(n){if(void 0===n||0===n.length)return ci;const t={};for(let e=0;e<n.length;e+=2)t[n[e]]=n[e+1];return t}function Ut(n){let t=function x3(n){return Object.getPrototypeOf(n.prototype).constructor}(n.type),e=!0;const r=[n];for(;t;){let o;if(Yo(n))o=t.\u0275cmp||t.\u0275dir;else{if(t.\u0275cmp)throw new R(903,!1);o=t.\u0275dir}if(o){if(e){r.push(o);const s=n;s.inputs=Wb(n.inputs),s.declaredInputs=Wb(n.declaredInputs),s.outputs=Wb(n.outputs);const a=o.hostBindings;a&&L3(n,a);const l=o.viewQuery,c=o.contentQueries;if(l&&N3(n,l),c&&O3(n,c),M3(n,o),BN(n.outputs,o.outputs),Yo(o)&&o.data.animation){const u=n.data;u.animation=(u.animation||[]).concat(o.data.animation)}}const i=o.features;if(i)for(let s=0;s<i.length;s++){const a=i[s];a&&a.ngInherit&&a(n),a===Ut&&(e=!1)}}t=Object.getPrototypeOf(t)}!function R3(n){let t=0,e=null;for(let r=n.length-1;r>=0;r--){const o=n[r];o.hostVars=t+=o.hostVars,o.hostAttrs=il(o.hostAttrs,e=il(e,o.hostAttrs))}}(r)}function M3(n,t){for(const e in t.inputs){if(!t.inputs.hasOwnProperty(e)||n.inputs.hasOwnProperty(e))continue;const r=t.inputs[e];void 0!==r&&(n.inputs[e]=r,n.declaredInputs[e]=t.declaredInputs[e])}}function Wb(n){return n===ci?{}:n===Zt?[]:n}function N3(n,t){const e=n.viewQuery;n.viewQuery=e?(r,o)=>{t(r,o),e(r,o)}:t}function O3(n,t){const e=n.contentQueries;n.contentQueries=e?(r,o,i)=>{t(r,o,i),e(r,o,i)}:t}function L3(n,t){const e=n.hostBindings;n.hostBindings=e?(r,o)=>{t(r,o),e(r,o)}:t}function zD(n,t,e,r,o,i,s,a){if(e.firstCreatePass){n.mergedAttrs=il(n.mergedAttrs,n.attrs);const u=n.tView=qm(2,n,o,i,s,e.directiveRegistry,e.pipeRegistry,null,e.schemas,e.consts,null);null!==e.queries&&(e.queries.template(e,n),u.queries=e.queries.embeddedTView(n))}a&&(n.flags|=a),Pi(n,!1);const l=GD(e,t,n,r);zd()&&ib(e,t,l,n),Jr(l,t);const c=IE(l,t,l,n);t[r+27]=c,Km(t,c)}function na(n,t,e,r,o,i,s,a,l,c,u){const d=e+27;let h;if(t.firstCreatePass){if(h=Xs(t,d,4,s||null,a||null),null!=c){const f=Dr(t.consts,c);h.localNames=[];for(let p=0;p<f.length;p+=2)h.localNames.push(f[p],-1)}}else h=t.data[d];return zD(h,n,t,e,r,o,i,l),null!=c&&bl(n,h,u),h}function qe(n,t,e,r,o,i,s,a){const l=I(),c=Me();return function P3(n,t,e,r,o,i,s,a,l,c,u){const d=e+27;let h;t.firstCreatePass?(h=Xs(t,d,4,s||null,a||null),Gg()&&oD(t,n,h,Dr(t.consts,c),lb),JC(t,h)):h=t.data[d],zD(h,n,t,e,r,o,i,l),qa(h)&&Rh(t,n,h),null!=c&&bl(n,h,u)}(l,c,n,t,e,r,o,Dr(c.consts,i),void 0,s,a),qe}let GD=function qD(n,t,e,r){return kc(!0),t[11].createComment("")};let sS=(()=>{class n{log(e){console.log(e)}warn(e){console.warn(e)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=Z({token:n,factory:n.\u0275fac,providedIn:"platform"})}return n})();function cS(n){return function lS(n){return"function"==typeof n&&void 0!==n[X]}(n)&&"function"==typeof n.set}const DS=new j("");function uf(n){return!!n&&"function"==typeof n.then}function kS(n){return!!n&&"function"==typeof n.subscribe}const TS=new j("");let AS=(()=>{class n{resolve;reject;initialized=!1;done=!1;donePromise=new Promise((e,r)=>{this.resolve=e,this.reject=r});appInits=D(TS,{optional:!0})??[];injector=D(Zr);constructor(){}runInitializers(){if(this.initialized)return;const e=[];for(const o of this.appInits){const i=ko(this.injector,o);if(uf(i))e.push(i);else if(kS(i)){const s=new Promise((a,l)=>{i.subscribe({complete:a,error:l})});e.push(s)}}const r=()=>{this.done=!0,this.resolve()};Promise.all(e).then(()=>{r()}).catch(o=>{this.reject(o)}),0===e.length&&r(),this.initialized=!0}static \u0275fac=function(r){return new(r||n)};static \u0275prov=Z({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const IS=new j("");let gs=(()=>{class n{_runningTick=!1;_destroyed=!1;_destroyListeners=[];_views=[];internalErrorHandler=D(pi);afterRenderManager=D(Jm);zonelessEnabled=D(Kd);rootEffectScheduler=D(IC);dirtyFlags=0;tracingSnapshot=null;allTestViews=new Set;autoDetectTestViews=new Set;includeAllTestViews=!1;afterTick=new Yr;get allViews(){return[...(this.includeAllTestViews?this.allTestViews:this.autoDetectTestViews).keys(),...this._views]}get destroyed(){return this._destroyed}componentTypes=[];components=[];internalPendingTask=D(ss);get isStable(){return this.internalPendingTask.hasPendingTasksObservable.pipe(Qn(e=>!e))}constructor(){D(gl,{optional:!0})}whenStable(){let e;return new Promise(r=>{e=this.isStable.subscribe({next:o=>{o&&r()}})}).finally(()=>{e.unsubscribe()})}_injector=D(Rr);_rendererFactory=null;get injector(){return this._injector}bootstrap(e,r){return this.bootstrapImpl(e,r)}bootstrapImpl(e,r,o=Zr.NULL){return this._injector.get(Ot).run(()=>{Lt(ne.BootstrapComponentStart);const s=e instanceof nD;if(!this._injector.get(AS).done)throw new R(405,"");let l;l=s?e:this._injector.get(Yh).resolveComponentFactory(e),this.componentTypes.push(l.componentType);const c=function q4(n){return n.isBoundToModule}(l)?void 0:this._injector.get(ta),d=l.create(o,[],r||l.selector,c),h=d.location.nativeElement,f=d.injector.get(DS,null);return f?.registerApplication(h),d.onDestroy(()=>{this.detachView(d.hostView),df(this.components,d),f?.unregisterApplication(h)}),this._loadComponent(d),Lt(ne.BootstrapComponentEnd,d),d})}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){Lt(ne.ChangeDetectionStart),null!==this.tracingSnapshot?this.tracingSnapshot.run(Qm.CHANGE_DETECTION,this.tickImpl):this.tickImpl()}tickImpl=()=>{if(this._runningTick)throw Lt(ne.ChangeDetectionEnd),new R(101,!1);const e=O(null);try{this._runningTick=!0,this.synchronize()}finally{this._runningTick=!1,this.tracingSnapshot?.dispose(),this.tracingSnapshot=null,O(e),this.afterTick.next(),Lt(ne.ChangeDetectionEnd)}};synchronize(){null===this._rendererFactory&&!this._injector.destroyed&&(this._rendererFactory=this._injector.get(wb,null,{optional:!0}));let e=0;for(;0!==this.dirtyFlags&&e++<10;){Lt(ne.ChangeDetectionSyncStart);try{this.synchronizeOnce()}finally{Lt(ne.ChangeDetectionSyncEnd)}}}synchronizeOnce(){16&this.dirtyFlags&&(this.dirtyFlags&=-17,this.rootEffectScheduler.flush());let e=!1;if(7&this.dirtyFlags){const r=!!(1&this.dirtyFlags);this.dirtyFlags&=-8,this.dirtyFlags|=8;for(let{_lView:o}of this.allViews)(r||jd(o))&&(Hh(o,r&&!this.zonelessEnabled?0:1),e=!0);if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),23&this.dirtyFlags)return}e||(this._rendererFactory?.begin?.(),this._rendererFactory?.end?.()),8&this.dirtyFlags&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){this.allViews.some(({_lView:e})=>jd(e))?this.dirtyFlags|=2:this.dirtyFlags&=-8}attachView(e){const r=e;this._views.push(r),r.attachToAppRef(this)}detachView(e){const r=e;df(this._views,r),r.detachFromAppRef()}_loadComponent(e){this.attachView(e.hostView);try{this.tick()}catch(o){this.internalErrorHandler(o)}this.components.push(e),this._injector.get(IS,[]).forEach(o=>o(e))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(e=>e()),this._views.slice().forEach(e=>e.destroy())}finally{this._destroyed=!0,this._views=[],this._destroyListeners=[]}}onDestroy(e){return this._destroyListeners.push(e),()=>df(this._destroyListeners,e)}destroy(){if(this._destroyed)throw new R(406,!1);const e=this._injector;e.destroy&&!e.destroyed&&e.destroy()}get viewCount(){return this._views.length}static \u0275fac=function(r){return new(r||n)};static \u0275prov=Z({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function df(n,t){const e=n.indexOf(t);e>-1&&n.splice(e,1)}function nt(n,t,e,r){const o=I();return rn(o,Sr(),t)&&(Me(),function sB(n,t,e,r,o,i){const s=Cn(n,t);!function Oh(n,t,e,r,o,i,s){if(null==i)n.removeAttribute(t,o,e);else{const a=null==s?He(i):s(i,r||"",o);n.setAttribute(t,o,a,e)}}(t[11],s,i,n.value,e,r,o)}(Ko(),o,n,t,e,r)),nt}typeof document<"u"&&document;Object.keys({disabled:"disabled",disabledReasons:"disabledReasons",errors:"errors",invalid:"invalid",max:"max",maxLength:"maxLength",min:"min",minLength:"minLength",name:"name",pattern:"pattern",readonly:"readonly",required:"required",touched:"touched"});class y6{destroy(t){}updateValue(t,e){}swap(t,e){const r=Math.min(t,e),o=Math.max(t,e),i=this.detach(o);if(o-r>1){const s=this.detach(r);this.attach(r,i),this.attach(o,s)}else this.attach(r,i)}move(t,e){this.attach(e,this.detach(t))}}function hv(n,t,e,r,o){return n===e&&Object.is(t,r)?1:Object.is(o(n,t),o(e,r))?-1:0}function fv(n,t,e,r){return!(void 0===t||!t.has(r)||(n.attach(e,t.get(r)),t.delete(r),0))}function ek(n,t,e,r,o){if(fv(n,t,r,e(r,o)))n.updateValue(r,o);else{const i=n.create(r,o);n.attach(r,i)}}function tk(n,t,e,r){const o=new Set;for(let i=t;i<=e;i++)o.add(r(i,n.at(i)));return o}class nk{kvMap=new Map;_vMap=void 0;has(t){return this.kvMap.has(t)}delete(t){if(!this.has(t))return!1;const e=this.kvMap.get(t);return void 0!==this._vMap&&this._vMap.has(e)?(this.kvMap.set(t,this._vMap.get(e)),this._vMap.delete(e)):this.kvMap.delete(t),!0}get(t){return this.kvMap.get(t)}set(t,e){if(this.kvMap.has(t)){let r=this.kvMap.get(t);void 0===this._vMap&&(this._vMap=new Map);const o=this._vMap;for(;o.has(r);)r=o.get(r);o.set(r,e)}else this.kvMap.set(t,e)}forEach(t){for(let[e,r]of this.kvMap)if(t(r,e),void 0!==this._vMap){const o=this._vMap;for(;o.has(r);)r=o.get(r),t(r,e)}}}function kr(n,t,e,r,o,i,s,a){dr("NgControlFlow");const l=I(),c=Me();return na(l,c,n,t,e,r,o,Dr(c.consts,i),256,s,a),pv}function pv(n,t,e,r,o,i,s,a){dr("NgControlFlow");const l=I(),c=Me();return na(l,c,n,t,e,r,o,Dr(c.consts,i),512,s,a),pv}function Tr(n,t){dr("NgControlFlow");const e=I(),r=Sr(),o=e[r]!==Bt?e[r]:-1,i=-1!==o?Ef(e,27+o):void 0;if(rn(e,r,n)){const a=O(null);try{if(void 0!==i&&db(i,0),-1!==n){const l=27+n,c=Ef(e,l),u=gv(e[1],l),d=null;_l(c,vl(e,u,t,{dehydratedView:d}),0,Ks(u,d))}}finally{O(a)}}else if(void 0!==i){const a=xE(i,0);void 0!==a&&(a[8]=t)}}class C6{lContainer;$implicit;$index;constructor(t,e,r){this.lContainer=t,this.$implicit=e,this.$index=r}get $count(){return this.lContainer.length-10}}class D6{hasEmptyBlock;trackByFn;liveCollection;constructor(t,e,r){this.hasEmptyBlock=t,this.trackByFn=e,this.liveCollection=r}}function Nl(n,t,e,r,o,i,s,a,l,c,u,d,h){dr("NgControlFlow");const f=I(),p=Me(),g=void 0!==l,m=I(),b=a?s.bind(m[15][8]):s,v=new D6(g,b);m[27+n]=v,na(f,p,n+1,t,e,r,o,Dr(p.consts,i),256),g&&na(f,p,n+2,l,c,u,d,Dr(p.consts,h),512)}class S6 extends y6{lContainer;hostLView;templateTNode;operationsCounter=void 0;needsIndexUpdate=!1;constructor(t,e,r){super(),this.lContainer=t,this.hostLView=e,this.templateTNode=r}get length(){return this.lContainer.length-10}at(t){return this.getLView(t)[8].$implicit}attach(t,e){const r=e[6];this.needsIndexUpdate||=t!==this.length,_l(this.lContainer,e,t,Ks(this.templateTNode,r)),function k6(n,t){if(n.length<=10)return;const r=n[10+t],o=r?r[26]:void 0;r&&o&&o.detachedLeaveAnimationFns&&o.detachedLeaveAnimationFns.length>0&&(function VF(n,t){const e=n.get(Ah);if(t.detachedLeaveAnimationFns){for(const r of t.detachedLeaveAnimationFns)e.queue.delete(r);t.detachedLeaveAnimationFns=void 0}}(r[9],o),qs.delete(r),o.detachedLeaveAnimationFns=void 0)}(this.lContainer,t)}detach(t){return this.needsIndexUpdate||=t!==this.length-1,function T6(n,t){if(n.length<=10)return;const r=n[10+t],o=r?r[26]:void 0;o&&o.leave&&o.leave.size>0&&(o.detachedLeaveAnimationFns=[])}(this.lContainer,t),function A6(n,t){return Zc(n,t)}(this.lContainer,t)}create(t,e){const o=vl(this.hostLView,this.templateTNode,new C6(this.lContainer,e,t),{dehydratedView:null});return this.operationsCounter?.recordCreate(),o}destroy(t){Kc(t[1],t),this.operationsCounter?.recordDestroy()}updateValue(t,e){this.getLView(t)[8].$implicit=e}reset(){this.needsIndexUpdate=!1,this.operationsCounter?.reset()}updateIndexes(){if(this.needsIndexUpdate)for(let t=0;t<this.length;t++)this.getLView(t)[8].$index=t}getLView(t){return function I6(n,t){return xE(n,t)}(this.lContainer,t)}}function Ol(n){const t=O(null),e=cr();try{const r=I(),o=r[1],i=r[e],s=e+1,a=Ef(r,s);if(void 0===i.liveCollection){const c=gv(o,s);i.liveCollection=new S6(a,r,c)}else i.liveCollection.reset();const l=i.liveCollection;if(function _6(n,t,e,r){let o,i,s=0,a=n.length-1;if(Array.isArray(t)){O(r);let c=t.length-1;for(O(null);s<=a&&s<=c;){const u=n.at(s),d=t[s],h=hv(s,u,s,d,e);if(0!==h){h<0&&n.updateValue(s,d),s++;continue}const f=n.at(a),p=t[c],g=hv(a,f,c,p,e);if(0!==g){g<0&&n.updateValue(a,p),a--,c--;continue}const m=e(s,u),b=e(a,f),v=e(s,d);if(Object.is(v,b)){const y=e(c,p);Object.is(y,m)?(n.swap(s,a),n.updateValue(a,p),c--,a--):n.move(a,s),n.updateValue(s,d),s++;continue}if(o??=new nk,i??=tk(n,s,a,e),fv(n,o,s,v))n.updateValue(s,d),s++,a++;else if(i.has(v))o.set(m,n.detach(s)),a--;else{const y=n.create(s,t[s]);n.attach(s,y),s++,a++}}for(;s<=c;)ek(n,o,e,s,t[s]),s++}else if(null!=t){O(r);const c=t[Symbol.iterator]();O(null);let u=c.next();for(;!u.done&&s<=a;){const d=n.at(s),h=u.value,f=hv(s,d,s,h,e);if(0!==f)f<0&&n.updateValue(s,h),s++,u=c.next();else{o??=new nk,i??=tk(n,s,a,e);const p=e(s,h);if(fv(n,o,s,p))n.updateValue(s,h),s++,a++,u=c.next();else if(i.has(p)){const g=e(s,d);o.set(g,n.detach(s)),a--}else n.attach(s,n.create(s,h)),s++,a++,u=c.next()}}for(;!u.done;)ek(n,o,e,n.length,u.value),u=c.next()}for(;s<=a;)n.destroy(n.detach(a--));o?.forEach(c=>{n.destroy(c)})}(l,n,i.trackByFn,t),l.updateIndexes(),i.hasEmptyBlock){const c=Sr(),u=0===l.length;if(rn(r,c,u)){const d=e+2,h=Ef(r,d);if(u){const f=gv(o,d),p=null;_l(h,vl(r,f,void 0,{dehydratedView:p}),0,Ks(f,p))}else o.firstUpdatePass&&function Wh(n){const t=n[6]??[],r=n[3][11],o=[];for(const i of t)void 0!==i.data.di?o.push(i):XE(i,r);n[6]=o}(h),db(h,0)}}}finally{O(t)}}function Ef(n,t){return n[t]}function gv(n,t){return Ka(n,t)}function H(n,t,e){const r=I();return rn(r,Sr(),t)&&(Me(),Nh(Ko(),r,n,t,r[11],e)),H}function mv(n,t,e,r,o){Fh(t,n,e,o?"class":"style",r)}function V(n,t,e,r){const o=I(),i=o[1],s=n+27,a=i.firstCreatePass?Sb(s,o,2,t,lb,Gg(),e,r):i.data[s];if(Lh(a,o,n,t,bv),qa(a)){const l=o[1];Rh(l,o,a),Pm(l,a,o)}return null!=r&&bl(o,a),V}function G(){const n=Me(),e=Ph(Fe());return n.firstCreatePass&&kb(n,e),tC(e)&&nC(),J0(),null!=e.classesWithoutHost&&function rL(n){return!!(8&n.flags)}(e)&&mv(n,e,I(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function oL(n){return!!(16&n.flags)}(e)&&mv(n,e,I(),e.stylesWithoutHost,!1),G}function gt(n,t,e,r){return V(n,t,e,r),G(),gt}function ge(n,t,e,r){const o=I(),i=o[1],s=n+27,a=i.firstCreatePass?function cD(n,t,e,r,o,i){const s=t.consts,l=Xs(t,n,e,r,Dr(s,o));if(l.mergedAttrs=il(l.mergedAttrs,l.attrs),null!=i){const c=Dr(s,i);l.localNames=[];for(let u=0;u<c.length;u+=2)l.localNames.push(c[u],-1)}return null!==l.attrs&&Xh(l,l.attrs,!1),null!==l.mergedAttrs&&Xh(l,l.mergedAttrs,!0),null!==t.queries&&t.queries.elementStart(t,l),l}(s,i,2,t,e,r):i.data[s];return Lh(a,o,n,t,bv),null!=r&&bl(o,a),ge}function me(){return tC(Ph(Fe()))&&nC(),J0(),me}function Vn(n,t,e,r){return ge(n,t,e,r),me(),Vn}let bv=(n,t,e,r,o)=>(kc(!0),Dh(t[11],r,function F2(){return Oe.lFrame.currentNamespace}()));function Oo(n,t,e){const r=I(),o=r[1],i=n+27,s=o.firstCreatePass?Sb(i,r,8,"ng-container",lb,Gg(),t,e):o.data[i];if(Lh(s,r,n,"ng-container",yv),qa(s)){const a=r[1];Rh(a,r,s),Pm(a,s,r)}return null!=e&&bl(r,s),Oo}function ho(){const n=Me(),e=Ph(Fe());return n.firstCreatePass&&kb(n,e),ho}function Lo(n,t,e){return Oo(n,t,e),ho(),Lo}let yv=(n,t,e,r,o)=>(kc(!0),Wm(t[11],""));function fo(){return I()}function Ui(n,t,e){const r=I();return rn(r,Sr(),t)&&(Me(),ab(Ko(),r,n,t,r[11],e)),Ui}const Df="en-US";let lk=Df;function bn(n,t,e){const r=I(),o=Me(),i=Fe();return wv(o,r,r[11],i,n,t,e),bn}function Pl(n,t,e){const r=I(),o=Me(),i=Fe();return(3&i.type||e)&&Jh(i,o,r,e,r[11],n,t,ji(i,r,t)),Pl}function wv(n,t,e,r,o,i,s){let a=!0,l=null;if((3&r.type||s)&&(l??=ji(r,t,i),Jh(r,n,t,s,e,o,i,l)&&(a=!1)),a){const c=r.outputs?.[o],u=r.hostDirectiveOutputs?.[o];if(u&&u.length)for(let d=0;d<u.length;d+=2){const h=u[d],f=u[d+1];l??=ji(r,t,i),Dl(r,t,h,f,o,l)}if(c&&c.length)for(const d of c)l??=ji(r,t,i),Dl(r,t,d,o,o,l)}}function Q(n=1){return function N2(n){return(Oe.lFrame.contextLView=function K0(n,t){for(;n>0;)t=t[14],n--;return t}(n,Oe.lFrame.contextLView))[8]}(n)}function CH(n,t){let e=null;const r=function TF(n){const t=n.attrs;if(null!=t){const e=t.indexOf(5);if(!(1&e))return t[e+1]}return null}(n);for(let o=0;o<t.length;o++){const i=t[o];if("*"!==i){if(null===r?W1(n,i,!0):xF(r,i))return o}else e=o}return e}function Qo(n){const t=I()[15][5];if(!t.projection){const r=t.projection=function Rd(n,t){const e=[];for(let r=0;r<n;r++)e.push(t);return e}(n?n.length:1,null),o=r.slice();let i=t.child;for(;null!==i;){if(128!==i.type){const s=n?CH(i,n):0;null!==s&&(o[s]?o[s].projectionNext=i:r[s]=i,o[s]=i)}i=i.next}}}function Po(n,t=0,e,r,o,i){const s=I(),a=Me(),l=r?n+1:null;null!==l&&na(s,a,l,r,o,i,null,e);const c=Xs(a,27+n,16,null,e||null);null===c.projection&&(c.projection=t),iC();const d=!s[6]||eC();null===s[15][5].projection[c.projection]&&null!==l?function wH(n,t,e){const r=27+e,o=t.data[r],i=n[r];_l(i,vl(n,o,void 0,{dehydratedView:null}),0,Ks(o,null))}(s,a,l):d&&!ph(c)&&function XF(n,t,e){gE(t[11],0,t,e,rb(n,e,t),uE(e.parent||t[5],e,t))}(a,s,c)}function zn(n,t,e,r){TD(n,t,e,r)}function Vi(n,t,e){!function kD(n,t,e){const r=Me();return r.firstCreatePass&&(AD(r,new ED(n,t,e),-1),!(2&~t)&&(r.staticViewQueries=!0)),SD(r,I(),t)}(n,t,e)}function Yt(n){const t=I(),e=Me(),r=Kg();Vd(r+1);const o=Fb(e,r);if(n.dirty&&function E2(n){return!(4&~n[2])}(t)===!(2&~o.metadata.flags)){if(null===o.matches)n.reset([]);else{const i=ID(t,r);n.reset(i,yw),n.notifyOnChanges()}return!0}return!1}function Kt(){return Pb(I(),Kg())}function Tk(n,t,e,r,o){!function xD(n,t){const e=n[X];e._lView=I(),e._queryIndex=t,e._queryList=Pb(e._lView,t),e._queryList.onDirty(()=>e._dirtyCounter.update(r=>r+1))}(t,TD(n,e,r,o))}function Ev(n){return function js(n,t){return n[t]}(function sC(){return Oe.lFrame.contextLView}(),27+n)}function Af(n,t){return n<<17|t<<2}function da(n){return n>>17&32767}function Dv(n){return 2|n}function Fl(n){return(131068&n)>>2}function Sv(n,t){return-131069&n|t<<2}function kv(n){return 1|n}function Ik(n,t,e,r){const o=n[e+1],i=null===t;let s=r?da(o):Fl(o),a=!1;for(;0!==s&&(!1===a||i);){const c=n[s+1];IH(n[s],t)&&(a=!0,n[s+1]=r?kv(c):Dv(c)),s=r?da(c):Fl(c)}a&&(n[e+1]=r?Dv(o):kv(o))}function IH(n,t){return null===n||null==t||(Array.isArray(n)?n[1]:n)===t||!(!Array.isArray(n)||"string"!=typeof t)&&Cc(n,t)>=0}const Jn={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function xk(n){return n.substring(Jn.key,Jn.keyEnd)}function xH(n){return n.substring(Jn.value,Jn.valueEnd)}function Mk(n,t){const e=Jn.textEnd;return e===t?-1:(t=Jn.keyEnd=function NH(n,t,e){for(;t<e&&n.charCodeAt(t)>32;)t++;return t}(n,Jn.key=t,e),Bl(n,t,e))}function Rk(n,t){const e=Jn.textEnd;let r=Jn.key=Bl(n,t,e);return e===r?-1:(r=Jn.keyEnd=function OH(n,t,e){let r;for(;t<e&&(45===(r=n.charCodeAt(t))||95===r||(-33&r)>=65&&(-33&r)<=90||r>=48&&r<=57);)t++;return t}(n,r,e),r=Ok(n,r,e),r=Jn.value=Bl(n,r,e),r=Jn.valueEnd=function LH(n,t,e){let r=-1,o=-1,i=-1,s=t,a=s;for(;s<e;){const l=n.charCodeAt(s++);if(59===l)return a;34===l||39===l?a=s=Lk(n,l,s,e):t===s-4&&85===i&&82===o&&76===r&&40===l?a=s=Lk(n,41,s,e):l>32&&(a=s),i=o,o=r,r=-33&l}return a}(n,r,e),Ok(n,r,e))}function Nk(n){Jn.key=0,Jn.keyEnd=0,Jn.value=0,Jn.valueEnd=0,Jn.textEnd=n.length}function Bl(n,t,e){for(;t<e&&n.charCodeAt(t)<=32;)t++;return t}function Ok(n,t,e,r){return(t=Bl(n,t,e))<e&&t++,t}function Lk(n,t,e,r){let o=-1,i=e;for(;i<r;){const s=n.charCodeAt(i++);if(s==t&&92!==o)return i;o=92==s&&92===o?0:s}throw new Error}function If(n,t,e){return function Fk(n,t,e,r){const o=I(),i=Me(),s=Fi(2);i.firstUpdatePass&&jk(i,n,s,r),t!==Bt&&rn(o,s,t)&&Uk(i,i.data[cr()],o,o[11],n,o[s+1]=function WH(n,t){return null==n||""===n||("string"==typeof t?n+=t:"object"==typeof n&&(n=Kr(ds(n)))),n}(t,e),r,s)}(n,t,e,!1),If}function Hl(n){Bk($k,PH,n,!1)}function PH(n,t){for(let e=function RH(n){return Nk(n),Rk(n,Bl(n,0,Jn.textEnd))}(t);e>=0;e=Rk(t,e))$k(n,xk(t),xH(t))}function Be(n){Bk(VH,FH,n,!0)}function FH(n,t){for(let e=function MH(n){return Nk(n),Mk(n,Bl(n,0,Jn.textEnd))}(t);e>=0;e=Mk(t,e))Nd(n,xk(t),!0)}function Bk(n,t,e,r){const o=Me(),i=Fi(2);o.firstUpdatePass&&jk(o,null,i,r);const s=I();if(e!==Bt&&rn(s,i,e)){const a=o.data[cr()];if(zk(a,r)&&!Hk(o,i)){let l=r?a.classesWithoutHost:a.stylesWithoutHost;null!==l&&(e=gg(l,e||"")),mv(o,a,s,e,r)}else!function zH(n,t,e,r,o,i,s,a){o===Bt&&(o=Zt);let l=0,c=0,u=0<o.length?o[0]:null,d=0<i.length?i[0]:null;for(;null!==u||null!==d;){const h=l<o.length?o[l+1]:void 0,f=c<i.length?i[c+1]:void 0;let g,p=null;u===d?(l+=2,c+=2,h!==f&&(p=d,g=f)):null===d||null!==u&&u<d?(l+=2,p=u):(c+=2,p=d,g=f),null!==p&&Uk(n,t,e,r,p,g,s,a),u=l<o.length?o[l]:null,d=c<i.length?i[c]:null}}(o,a,s,s[11],s[i+1],s[i+1]=function UH(n,t,e){if(null==e||""===e)return Zt;const r=[],o=ds(e);if(Array.isArray(o))for(let i=0;i<o.length;i++)n(r,o[i],!0);else if("object"==typeof o)for(const i in o)o.hasOwnProperty(i)&&n(r,i,o[i]);else"string"==typeof o&&t(r,o);return r}(n,t,e),r,i)}}function Hk(n,t){return t>=n.expandoStartIndex}function jk(n,t,e,r){const o=n.data;if(null===o[e+1]){const i=o[cr()],s=Hk(n,e);zk(i,r)&&null===t&&!s&&(t=!1),t=function BH(n,t,e,r){const o=function Yg(n){const t=Oe.lFrame.currentDirectiveIndex;return-1===t?null:n[t]}(n);let i=r?t.residualClasses:t.residualStyles;if(null===o)0===(r?t.classBindings:t.styleBindings)&&(e=Cu(e=Tv(null,n,t,e,r),t.attrs,r),i=null);else{const s=t.directiveStylingLast;if(-1===s||n[s]!==o)if(e=Tv(o,n,t,e,r),null===i){let l=function HH(n,t,e){const r=e?t.classBindings:t.styleBindings;if(0!==Fl(r))return n[da(r)]}(n,t,r);void 0!==l&&Array.isArray(l)&&(l=Tv(null,n,t,l[1],r),l=Cu(l,t.attrs,r),function jH(n,t,e,r){n[da(e?t.classBindings:t.styleBindings)]=r}(n,t,r,l))}else i=function $H(n,t,e){let r;const o=t.directiveEnd;for(let i=1+t.directiveStylingLast;i<o;i++)r=Cu(r,n[i].hostAttrs,e);return Cu(r,t.attrs,e)}(n,t,r)}return void 0!==i&&(r?t.residualClasses=i:t.residualStyles=i),e}(o,i,t,r),function TH(n,t,e,r,o,i){let s=i?t.classBindings:t.styleBindings,a=da(s),l=Fl(s);n[r]=e;let u,c=!1;if(Array.isArray(e)?(u=e[1],(null===u||Cc(e,u)>0)&&(c=!0)):u=e,o)if(0!==l){const h=da(n[a+1]);n[r+1]=Af(h,a),0!==h&&(n[h+1]=Sv(n[h+1],r)),n[a+1]=function SH(n,t){return 131071&n|t<<17}(n[a+1],r)}else n[r+1]=Af(a,0),0!==a&&(n[a+1]=Sv(n[a+1],r)),a=r;else n[r+1]=Af(l,0),0===a?a=r:n[l+1]=Sv(n[l+1],r),l=r;c&&(n[r+1]=Dv(n[r+1])),Ik(n,u,r,!0),Ik(n,u,r,!1),function AH(n,t,e,r,o){const i=o?n.residualClasses:n.residualStyles;null!=i&&"string"==typeof t&&Cc(i,t)>=0&&(e[r+1]=kv(e[r+1]))}(t,u,n,r,i),s=Af(a,l),i?t.classBindings=s:t.styleBindings=s}(o,i,t,e,s,r)}}function Tv(n,t,e,r,o){let i=null;const s=e.directiveEnd;let a=e.directiveStylingLast;for(-1===a?a=e.directiveStart:a++;a<s&&(i=t[a],r=Cu(r,i.hostAttrs,o),i!==n);)a++;return null!==n&&(e.directiveStylingLast=a),r}function Cu(n,t,e){const r=e?1:2;let o=-1;if(null!==t)for(let i=0;i<t.length;i++){const s=t[i];"number"==typeof s?o=s:o===r&&(Array.isArray(n)||(n=void 0===n?[]:["",n]),Nd(n,s,!!e||t[++i]))}return void 0===n?null:n}function $k(n,t,e){Nd(n,t,ds(e))}function VH(n,t,e){const r=String(t);""!==r&&!r.includes(" ")&&Nd(n,r,e)}function Uk(n,t,e,r,o,i,s,a){if(!(3&t.type))return;const l=n.data,c=l[a+1],u=function kH(n){return!(1&~n)}(c)?Vk(l,t,e,o,Fl(c),s):void 0;xf(u)||(xf(i)||function DH(n){return!(2&~n)}(c)&&(i=Vk(l,null,e,o,a,s)),function QF(n,t,e,r,o){if(t)o?n.addClass(e,r):n.removeClass(e,r);else{let i=-1===r.indexOf("-")?void 0:hs.DashCase;null==o?n.removeStyle(e,r,i):("string"==typeof o&&o.endsWith("!important")&&(o=o.slice(0,-10),i|=hs.Important),n.setStyle(e,r,o,i))}}(r,s,Ya(cr(),e),o,i))}function Vk(n,t,e,r,o,i){const s=null===t;let a;for(;o>0;){const l=n[o],c=Array.isArray(l),u=c?l[1]:l,d=null===u;let h=e[o+1];h===Bt&&(h=d?Zt:void 0);let f=d?kg(h,r):u===r?h:void 0;if(c&&!xf(f)&&(f=kg(l,r)),xf(f)&&(a=f,s))return a;const p=n[o+1];o=s?da(p):Fl(p)}if(null!==t){let l=i?t.residualClasses:t.residualStyles;null!=l&&(a=kg(l,r))}return a}function xf(n){return void 0!==n}function zk(n,t){return!!(n.flags&(t?8:16))}function q(n,t=""){const e=I(),r=Me(),o=n+27,i=r.firstCreatePass?Xs(r,o,1,t,null):r.data[o],s=Wk(r,e,i,t,n);e[o]=s,zd()&&ib(r,e,s,i),Pi(i,!1)}let Wk=(n,t,e,r,o)=>(kc(!0),function zm(n,t){return n.createText(t)}(t[11],r));function qk(n,t,e,r=""){return rn(n,Sr(),e)?t+He(e)+r:Bt}function ha(n){return mt("",n),ha}function mt(n,t,e){const r=I(),o=qk(r,n,t,e);return o!==Bt&&function zi(n,t,e){const r=Ya(t,n);!function N1(n,t,e){n.setValue(t,e)}(n[11],r,e)}(r,cr(),o),mt}function Av(n,t,e){cS(t)&&(t=t());const r=I();return rn(r,Sr(),t)&&(Me(),Nh(Ko(),r,n,t,r[11],e)),Av}function Iv(n,t){const e=I(),r=Me(),o=Fe();return wv(r,e,e[11],o,n,t),Iv}function fT(n,t,e){const r=Me();r.firstCreatePass&&pT(t,r.data,r.blueprint,Yo(n),e)}function pT(n,t,e,r,o){if(n=ze(n),Array.isArray(n))for(let i=0;i<n.length;i++)pT(n[i],t,e,r,o);else{const i=Me(),s=I(),a=Fe();let l=Mi(n)?n:ze(n.provide);const c=H0(n),u=1048575&a.providerIndexes,d=a.directiveStart,h=a.providerIndexes>>20;if(Mi(n)||!n.multi){const f=new Mc(c,o,Ce,null),p=Mv(l,t,o?u:u+h,d);-1===p?(fm(rh(a,s),i,l),xv(i,n,t.length),t.push(l),a.directiveStart++,a.directiveEnd++,o&&(a.providerIndexes+=1048576),e.push(f),s.push(f)):(e[p]=f,s[p]=f)}else{const f=Mv(l,t,u+h,d),p=Mv(l,t,u,u+h),m=p>=0&&e[p];if(o&&!m||!o&&!(f>=0&&e[f])){fm(rh(a,s),i,l);const b=function a9(n,t,e,r,o){const s=new Mc(n,e,Ce,null);return s.multi=[],s.index=t,s.componentProviders=0,gT(s,o,r&&!e),s}(o?s9:i9,e.length,o,r,c);!o&&m&&(e[p].providerFactory=b),xv(i,n,t.length,0),t.push(l),a.directiveStart++,a.directiveEnd++,o&&(a.providerIndexes+=1048576),e.push(b),s.push(b)}else xv(i,n,f>-1?f:p,gT(e[o?p:f],c,!o&&r));!o&&r&&m&&e[p].componentProviders++}}}function xv(n,t,e,r){const o=Mi(t),i=function F0(n){return!!n.useClass}(t);if(o||i){const l=(i?ze(t.useClass):t).prototype.ngOnDestroy;if(l){const c=n.destroyHooks||(n.destroyHooks=[]);if(!o&&t.multi){const u=c.indexOf(e);-1===u?c.push(e,[r,l]):c[u+1].push(r,l)}else c.push(e,l)}}}function gT(n,t,e){return e&&n.componentProviders++,n.multi.push(t)-1}function Mv(n,t,e,r){for(let o=e;o<r;o++)if(t[o]===n)return o;return-1}function i9(n,t,e,r,o){return Rv(this.multi,[])}function s9(n,t,e,r,o){const i=this.multi;let s;if(this.providerFactory){const a=this.providerFactory.componentProviders,l=Oc(r,r[1],this.providerFactory.index,o);s=l.slice(0,a),Rv(i,s);for(let c=a;c<l.length;c++)s.push(l[c])}else s=[],Rv(i,s);return s}function Rv(n,t){for(let e=0;e<n.length;e++)t.push((0,n[e])());return t}function or(n,t){return e=>{e.providersResolver=(r,o)=>fT(r,o?o(n):n,!1),t&&(e.viewProvidersResolver=(r,o)=>fT(r,o?o(t):t,!0))}}function Nv(n,t,e){const r=Lr()+n,o=I();return o[r]===Bt?vi(o,r,e?t.call(e):t()):function lu(n,t){return n[t]}(o,r)}function bT(n,t,e,r){return function vT(n,t,e,r,o,i){const s=t+e;return rn(n,s,o)?vi(n,s+1,i?r.call(i,o):r(o)):wu(n,s+1)}(I(),Lr(),n,t,e,r)}function Rf(n,t,e,r,o){return function yT(n,t,e,r,o,i,s){const a=t+e;return function Js(n,t,e,r){const o=rn(n,t,e);return rn(n,t+1,r)||o}(n,a,o,i)?vi(n,a+2,s?r.call(s,o,i):r(o,i)):wu(n,a+2)}(I(),Lr(),n,t,e,r,o)}function wu(n,t){const e=n[t];return e===Bt?void 0:e}function Du(n,t){return jh(n,t)}class Q9{ngModuleFactory;componentFactories;constructor(t,e){this.ngModuleFactory=t,this.componentFactories=e}}let J9=(()=>{class n{compileModuleSync(e){return new LD(e)}compileModuleAsync(e){return Promise.resolve(this.compileModuleSync(e))}compileModuleAndAllComponentsSync(e){const r=this.compileModuleSync(e),i=mi(ui(e).declarations).reduce((s,a)=>{const l=Ft(a);return l&&s.push(new Ab(l)),s},[]);return new Q9(r,i)}compileModuleAndAllComponentsAsync(e){return Promise.resolve(this.compileModuleAndAllComponentsSync(e))}clearCache(){}clearCacheFor(e){}getModuleId(e){}static \u0275fac=function(r){return new(r||n)};static \u0275prov=Z({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),tj=(()=>{class n{applicationErrorHandler=D(pi);appRef=D(gs);taskService=D(ss);ngZone=D(Ot);zonelessEnabled=D(Kd);tracing=D(gl,{optional:!0});zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run;schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}];subscriptions=new et;angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(Gd):null;scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(D(TC,{optional:!0})??!1);cancelScheduledCallback=null;useMicrotaskScheduler=!1;runningTick=!1;pendingRenderTaskId=null;constructor(){this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()}))}notify(e){if(!this.zonelessEnabled&&5===e)return;switch(e){case 0:case 6:case 13:this.appRef.dirtyFlags|=2;break;case 3:case 2:case 4:case 5:case 1:this.appRef.dirtyFlags|=4;break;case 12:this.appRef.dirtyFlags|=16;break;case 11:break;default:this.appRef.dirtyFlags|=8}if(this.appRef.tracingSnapshot=this.tracing?.snapshot(this.appRef.tracingSnapshot)??null,!this.shouldScheduleTick())return;const r=this.useMicrotaskScheduler?wC:CC;this.pendingRenderTaskId=this.taskService.add(),this.cancelScheduledCallback=this.scheduleInRootZone?Zone.root.run(()=>r(()=>this.tick())):this.ngZone.runOutsideAngular(()=>r(()=>this.tick()))}shouldScheduleTick(){return!(this.appRef.destroyed||null!==this.pendingRenderTaskId||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(Gd+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;if(0===this.appRef.dirtyFlags)return void this.cleanup();!this.zonelessEnabled&&7&this.appRef.dirtyFlags&&(this.appRef.dirtyFlags|=1);const e=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(r){this.taskService.remove(e),this.applicationErrorHandler(r)}finally{this.cleanup()}this.useMicrotaskScheduler=!0,wC(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(e)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,null!==this.pendingRenderTaskId){const e=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(e)}}static \u0275fac=function(r){return new(r||n)};static \u0275prov=Z({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const vs=new j("",{factory:()=>D(vs,{optional:!0,skipSelf:!0})||function nj(){return typeof $localize<"u"&&$localize.locale||Df}()});class GT{destroyed=!1;listeners=null;errorHandler=D(Qa,{optional:!0});destroyRef=D(fi);constructor(){this.destroyRef.onDestroy(()=>{this.destroyed=!0,this.listeners=null})}subscribe(t){if(this.destroyed)throw new R(953,!1);return(this.listeners??=[]).push(t),{unsubscribe:()=>{const e=this.listeners?.indexOf(t);void 0!==e&&-1!==e&&this.listeners?.splice(e,1)}}}emit(t){if(this.destroyed)return void console.warn(Do(953,!1));if(null===this.listeners)return;const e=O(null);try{for(const r of this.listeners)try{r(t)}catch(o){this.errorHandler?.handleError(o)}}finally{O(e)}}}function Ht(n,t){return wt(n,t?.equal)}Error,Error;const Ff=Symbol("InputSignalNode#UNSET"),ZT={...fe,transformFn:void 0,applyValueToInputSignal(n,t){nn(n,t)}};function QT(n,t){const e=Object.create(ZT);function r(){if(ln(e),e.value===Ff)throw new R(-950,null);return e.value}return e.value=n,e.transformFn=t?.transform,r[X]=e,r}function Hn(n){return new GT}function JT(n,t){return QT(n,t)}const pe=(JT.required=function Ej(n){return QT(Ff,n)},JT);function eA(n,t){return function h3(){return Bb(!0,!1)}()}const Sj=(eA.required=function Dj(n,t){return function f3(){return Bb(!0,!0)}()},eA);function tA(n,t){const e=Object.create(ZT),r=new GT;function o(){return ln(e),nA(e.value),e.value}return e.value=n,o[X]=e,o.asReadonly=qd.bind(o),o.set=i=>{e.equal(e.value,i)||(nn(e,i),r.emit(i))},o.update=i=>{nA(e.value),o.set(i(e.value))},o.subscribe=r.subscribe.bind(r),o.destroyRef=r.destroyRef,o}function nA(n){if(n===Ff)throw new R(952,!1)}function rA(n,t){return tA(n)}const zv=(rA.required=function kj(n){return tA(Ff)},rA);let Aj=(()=>{class n{zone=D(Ot);changeDetectionScheduler=D(Us);applicationRef=D(gs);applicationErrorHandler=D(pi);_onMicrotaskEmptySubscription;initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{try{this.applicationRef.dirtyFlags|=1,this.applicationRef._tick()}catch(e){this.applicationErrorHandler(e)}})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static \u0275fac=function(r){return new(r||n)};static \u0275prov=Z({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const Ij=new j("",{factory:()=>!1});function iA(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:n?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:n?.runCoalescing??!1}}let Rj=(()=>{class n{subscription=new et;initialized=!1;zone=D(Ot);pendingTasks=D(ss);initialize(){if(this.initialized)return;this.initialized=!0;let e=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(e=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{Ot.assertNotInAngularZone(),queueMicrotask(()=>{null!==e&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(e),e=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{Ot.assertInAngularZone(),e??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static \u0275fac=function(r){return new(r||n)};static \u0275prov=Z({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const Bf=new j(""),Pj=new j("");function ku(n){return!n.moduleRef}let lA,Ul=null;let jf=(()=>class n{static __NG_ELEMENT_ID__=Uj})();function Uj(n){return function Vj(n,t,e){if(di(n)&&!e){const r=Or(n.index,t);return new Qc(r,r)}return 175&n.type?new Qc(t[15],t):null}(Fe(),I(),!(16&~n))}class pA{constructor(){}supports(t){return Zh(t)}create(t){return new Wj(t)}}const zj=(n,t)=>t;class Wj{length=0;collection;_linkedRecords=null;_unlinkedRecords=null;_previousItHead=null;_itHead=null;_itTail=null;_additionsHead=null;_additionsTail=null;_movesHead=null;_movesTail=null;_removalsHead=null;_removalsTail=null;_identityChangesHead=null;_identityChangesTail=null;_trackByFn;constructor(t){this._trackByFn=t||zj}forEachItem(t){let e;for(e=this._itHead;null!==e;e=e._next)t(e)}forEachOperation(t){let e=this._itHead,r=this._removalsHead,o=0,i=null;for(;e||r;){const s=!r||e&&e.currentIndex<mA(r,o,i)?e:r,a=mA(s,o,i),l=s.currentIndex;if(s===r)o--,r=r._nextRemoved;else if(e=e._next,null==s.previousIndex)o++;else{i||(i=[]);const c=a-o,u=l-o;if(c!=u){for(let h=0;h<c;h++){const f=h<i.length?i[h]:i[h]=0,p=f+h;u<=p&&p<c&&(i[h]=f+1)}i[s.previousIndex]=u-c}}a!==l&&t(s,a,l)}}forEachPreviousItem(t){let e;for(e=this._previousItHead;null!==e;e=e._nextPrevious)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachMovedItem(t){let e;for(e=this._movesHead;null!==e;e=e._nextMoved)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}forEachIdentityChange(t){let e;for(e=this._identityChangesHead;null!==e;e=e._nextIdentityChange)t(e)}diff(t){if(null==t&&(t=[]),!Zh(t))throw new R(900,!1);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let o,i,s,e=this._itHead,r=!1;if(Array.isArray(t)){this.length=t.length;for(let a=0;a<this.length;a++)i=t[a],s=this._trackByFn(a,i),null!==e&&Object.is(e.trackById,s)?(r&&(e=this._verifyReinsertion(e,i,s,a)),Object.is(e.item,i)||this._addIdentityChange(e,i)):(e=this._mismatch(e,i,s,a),r=!0),e=e._next}else o=0,function O5(n,t){if(Array.isArray(n))for(let e=0;e<n.length;e++)t(n[e]);else{const e=n[Symbol.iterator]();let r;for(;!(r=e.next()).done;)t(r.value)}}(t,a=>{s=this._trackByFn(o,a),null!==e&&Object.is(e.trackById,s)?(r&&(e=this._verifyReinsertion(e,a,s,o)),Object.is(e.item,a)||this._addIdentityChange(e,a)):(e=this._mismatch(e,a,s,o),r=!0),e=e._next,o++}),this.length=o;return this._truncate(e),this.collection=t,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let t;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,e,r,o){let i;return null===t?i=this._itTail:(i=t._prev,this._remove(t)),null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._reinsertAfter(t,i,o)):null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(r,o))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._moveAfter(t,i,o)):t=this._addAfter(new Gj(e,r),i,o),t}_verifyReinsertion(t,e,r,o){let i=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null);return null!==i?t=this._reinsertAfter(i,t._prev,o):t.currentIndex!=o&&(t.currentIndex=o,this._addToMoves(t,o)),t}_truncate(t){for(;null!==t;){const e=t._next;this._addToRemovals(this._unlink(t)),t=e}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,e,r){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);const o=t._prevRemoved,i=t._nextRemoved;return null===o?this._removalsHead=i:o._nextRemoved=i,null===i?this._removalsTail=o:i._prevRemoved=o,this._insertAfter(t,e,r),this._addToMoves(t,r),t}_moveAfter(t,e,r){return this._unlink(t),this._insertAfter(t,e,r),this._addToMoves(t,r),t}_addAfter(t,e,r){return this._insertAfter(t,e,r),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}_insertAfter(t,e,r){const o=null===e?this._itHead:e._next;return t._next=o,t._prev=e,null===o?this._itTail=t:o._prev=t,null===e?this._itHead=t:e._next=t,null===this._linkedRecords&&(this._linkedRecords=new gA),this._linkedRecords.put(t),t.currentIndex=r,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);const e=t._prev,r=t._next;return null===e?this._itHead=r:e._next=r,null===r?this._itTail=e:r._prev=e,t}_addToMoves(t,e){return t.previousIndex===e||(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t),t}_addToRemovals(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new gA),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,e){return t.item=e,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}}class Gj{item;trackById;currentIndex=null;previousIndex=null;_nextPrevious=null;_prev=null;_next=null;_prevDup=null;_nextDup=null;_prevRemoved=null;_nextRemoved=null;_nextAdded=null;_nextMoved=null;_nextIdentityChange=null;constructor(t,e){this.item=t,this.trackById=e}}class qj{_head=null;_tail=null;add(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,e){let r;for(r=this._head;null!==r;r=r._nextDup)if((null===e||e<=r.currentIndex)&&Object.is(r.trackById,t))return r;return null}remove(t){const e=t._prevDup,r=t._nextDup;return null===e?this._head=r:e._nextDup=r,null===r?this._tail=e:r._prevDup=e,null===this._head}}class gA{map=new Map;put(t){const e=t.trackById;let r=this.map.get(e);r||(r=new qj,this.map.set(e,r)),r.add(t)}get(t,e){const o=this.map.get(t);return o?o.get(t,e):null}remove(t){const e=t.trackById;return this.map.get(e).remove(t)&&this.map.delete(e),t}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function mA(n,t,e){const r=n.previousIndex;if(null===r)return r;let o=0;return e&&r<e.length&&(o=e[r]),r+t+o}class bA{constructor(){}supports(t){return t instanceof Map||Tb(t)}create(){return new Yj}}class Yj{_records=new Map;_mapHead=null;_appendAfter=null;_previousMapHead=null;_changesHead=null;_changesTail=null;_additionsHead=null;_additionsTail=null;_removalsHead=null;_removalsTail=null;get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(t){let e;for(e=this._mapHead;null!==e;e=e._next)t(e)}forEachPreviousItem(t){let e;for(e=this._previousMapHead;null!==e;e=e._nextPrevious)t(e)}forEachChangedItem(t){let e;for(e=this._changesHead;null!==e;e=e._nextChanged)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}diff(t){if(t){if(!(t instanceof Map||Tb(t)))throw new R(900,!1)}else t=new Map;return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e=this._mapHead;if(this._appendAfter=null,this._forEach(t,(r,o)=>{if(e&&e.key===o)this._maybeAddToChanges(e,r),this._appendAfter=e,e=e._next;else{const i=this._getOrCreateRecordForKey(o,r);e=this._insertBeforeOrAppend(e,i)}}),e){e._prev&&(e._prev._next=null),this._removalsHead=e;for(let r=e;null!==r;r=r._nextRemoved)r===this._mapHead&&(this._mapHead=null),this._records.delete(r.key),r._nextRemoved=r._next,r.previousValue=r.currentValue,r.currentValue=null,r._prev=null,r._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(t,e){if(t){const r=t._prev;return e._next=t,e._prev=r,t._prev=e,r&&(r._next=e),t===this._mapHead&&(this._mapHead=e),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=e,e._prev=this._appendAfter):this._mapHead=e,this._appendAfter=e,null}_getOrCreateRecordForKey(t,e){if(this._records.has(t)){const o=this._records.get(t);this._maybeAddToChanges(o,e);const i=o._prev,s=o._next;return i&&(i._next=s),s&&(s._prev=i),o._next=null,o._prev=null,o}const r=new Kj(t);return this._records.set(t,r),r.currentValue=e,this._addToAdditions(r),r}_reset(){if(this.isDirty){let t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(t,e){Object.is(e,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=e,this._addToChanges(t))}_addToAdditions(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}_addToChanges(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}_forEach(t,e){t instanceof Map?t.forEach(e):Object.keys(t).forEach(r=>e(t[r],r))}}class Kj{key;previousValue=null;currentValue=null;_nextPrevious=null;_next=null;_prev=null;_nextAdded=null;_nextRemoved=null;_nextChanged=null;constructor(t){this.key=t}}function vA(){return new Wv([new pA])}let Wv=(()=>{class n{factories;static \u0275prov=Z({token:n,providedIn:"root",factory:vA});constructor(e){this.factories=e}static create(e,r){if(null!=r){const o=r.factories.slice();e=e.concat(o)}return new n(e)}static extend(e){return{provide:n,useFactory:()=>{const r=D(n,{optional:!0,skipSelf:!0});return n.create(e,r||vA())}}}find(e){const r=this.factories.find(o=>o.supports(e));if(null!=r)return r;throw new R(901,!1)}}return n})();function yA(){return new $f([new bA])}let $f=(()=>{class n{static \u0275prov=Z({token:n,providedIn:"root",factory:yA});factories;constructor(e){this.factories=e}static create(e,r){if(r){const o=r.factories.slice();e=e.concat(o)}return new n(e)}static extend(e){return{provide:n,useFactory:()=>{const r=D(n,{optional:!0,skipSelf:!0});return n.create(e,r||yA())}}}find(e){const r=this.factories.find(o=>o.supports(e));if(r)return r;throw new R(901,!1)}}return n})();function Qj(n){const{rootComponent:t,appProviders:e,platformProviders:r,platformRef:o}=n;Lt(ne.BootstrapApplicationStart);try{const i=o?.injector??function $j(n=[]){if(Ul)return Ul;const t=function dA(n=[],t){return Zr.create({name:t,providers:[{provide:Rg,useValue:"platform"},{provide:Bf,useValue:new Set([()=>Ul=null])},...n]})}(n);return Ul=t,function G4(){!function ye(n){re=n}(()=>{throw new R(600,"")})}(),function hA(n){const t=n.get(Hw,null);ko(n,()=>{t?.forEach(e=>e())})}(t),t}(r),s=[[{provide:Us,useExisting:tj},{provide:Ot,useClass:z2},{provide:Kd,useValue:!0}],kC,...e||[]];return function aA(n){const t=ku(n)?n.r3Injector:n.moduleRef.injector,e=t.get(Ot);return e.run(()=>{ku(n)?n.r3Injector.resolveInjectorInitializers():n.moduleRef.resolveInjectorInitializers();const r=t.get(pi);let o;if(e.runOutsideAngular(()=>{o=e.onError.subscribe({next:r})}),ku(n)){const i=()=>t.destroy(),s=n.platformInjector.get(Bf);s.add(i),t.onDestroy(()=>{o.unsubscribe(),s.delete(i)})}else{const i=()=>n.moduleRef.destroy(),s=n.platformInjector.get(Bf);s.add(i),n.moduleRef.onDestroy(()=>{df(n.allPlatformModules,n.moduleRef),o.unsubscribe(),s.delete(i)})}return function Bj(n,t,e){try{const r=e();return uf(r)?r.catch(o=>{throw t.runOutsideAngular(()=>n(o)),o}):r}catch(r){throw t.runOutsideAngular(()=>n(r)),r}}(r,e,()=>{const i=t.get(ss),s=i.add(),a=t.get(AS);return a.runInitializers(),a.donePromise.then(()=>{if(function B6(n){"string"==typeof n&&(lk=n.toLowerCase().replace(/_/g,"-"))}(t.get(vs,Df)||Df),!t.get(Pj,!0))return ku(n)?t.get(gs):(n.allPlatformModules.push(n.moduleRef),n.moduleRef);if(ku(n)){const u=t.get(gs);return void 0!==n.rootComponent&&u.bootstrap(n.rootComponent),u}return lA?.(n.moduleRef,n.allPlatformModules),n.moduleRef}).finally(()=>{i.remove(s)})})})}({r3Injector:new PD({providers:s,parent:i,debugName:"",runEnvironmentInitializers:!1}).injector,platformInjector:i,rootComponent:t})}catch(i){return Promise.reject(i)}finally{Lt(ne.BootstrapApplicationEnd)}}function Qe(n){return"boolean"==typeof n?n:null!=n&&"false"!==n}function Wi(n,t=NaN){return isNaN(parseFloat(n))||isNaN(Number(n))?t:Number(n)}const qv=Symbol("NOT_SET"),NA=new Set,w$={...fe,kind:"afterRenderEffectPhase",consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!0,value:qv,cleanup:null,consumerMarkedDirty(){if(this.sequence.impl.executing){if(null===this.sequence.lastPhase||this.sequence.lastPhase<this.phase)return;this.sequence.erroredOrDestroyed=!0}this.sequence.scheduler.notify(7)},phaseFn(n){if(this.sequence.lastPhase=this.phase,!this.dirty)return this.signal;if(this.dirty=!1,this.value!==qv&&!yn(this))return this.signal;try{for(const o of this.cleanup??NA)o()}finally{this.cleanup?.clear()}const t=[];void 0!==n&&t.push(n),t.push(this.registerCleanupFn);const e=dt(this);let r;try{r=this.userFn.apply(null,t)}finally{vn(this,e)}return(this.value===qv||!this.equal(this.value,r))&&(this.value=r,this.version++),this.signal}};class E$ extends tE{scheduler;lastPhase=null;nodes=[void 0,void 0,void 0,void 0];onDestroyFns=null;constructor(t,e,r,o,i,s=null){super(t,[void 0,void 0,void 0,void 0],r,!1,i.get(fi),s),this.scheduler=o;for(const a of J1){const l=e[a];if(void 0===l)continue;const c=Object.create(w$);c.sequence=this,c.phase=a,c.userFn=l,c.dirty=!0,c.signal=()=>(ln(c),c.value),c.signal[X]=c,c.registerCleanupFn=u=>(c.cleanup??=new Set).add(u),this.nodes[a]=c,this.hooks[a]=u=>c.phaseFn(u)}}afterRun(){super.afterRun(),this.lastPhase=null}destroy(){if(null!==this.onDestroyFns)for(const t of this.onDestroyFns)t();super.destroy();for(const t of this.nodes)if(t)try{for(const e of t.cleanup??NA)e()}finally{tn(t)}}}function OA(n,t){const e=t?.injector??D(Zr),r=e.get(Us),o=e.get(Jm),i=e.get(gl,null,{optional:!0});o.impl??=e.get(eE);let s=n;"function"==typeof s&&(s={mixedReadWrite:n});const a=e.get(Yd,null,{optional:!0}),l=new E$(o.impl,[s.earlyRead,s.write,s.mixedReadWrite,s.read],a?.view,r,e,i?.snapshot(null));return o.impl.register(l),l}class LA{_doc;constructor(t){this._doc=t}manager}let Yv=(()=>{class n extends LA{constructor(e){super(e)}supports(e){return!0}addEventListener(e,r,o,i){return e.addEventListener(r,o,i),()=>this.removeEventListener(e,r,o,i)}removeEventListener(e,r,o,i){return e.removeEventListener(r,o,i)}static \u0275fac=function(r){return new(r||n)(Xe(ur))};static \u0275prov=Z({token:n,factory:n.\u0275fac})}return n})();const Kv=new j("");let PA=(()=>{class n{_zone;_plugins;_eventNameToPlugin=new Map;constructor(e,r){this._zone=r,e.forEach(s=>{s.manager=this});const o=e.filter(s=>!(s instanceof Yv));this._plugins=o.slice().reverse();const i=e.find(s=>s instanceof Yv);i&&this._plugins.push(i)}addEventListener(e,r,o,i){return this._findPluginFor(r).addEventListener(e,r,o,i)}getZone(){return this._zone}_findPluginFor(e){let r=this._eventNameToPlugin.get(e);if(r)return r;if(r=this._plugins.find(i=>i.supports(e)),!r)throw new R(5101,!1);return this._eventNameToPlugin.set(e,r),r}static \u0275fac=function(r){return new(r||n)(Xe(Kv),Xe(Ot))};static \u0275prov=Z({token:n,factory:n.\u0275fac})}return n})();const Xv="ng-app-id";function FA(n){for(const t of n)t.remove()}function BA(n,t){const e=t.createElement("style");return e.textContent=n,e}function Zv(n,t){const e=t.createElement("link");return e.setAttribute("rel","stylesheet"),e.setAttribute("href",n),e}let HA=(()=>{class n{doc;appId;nonce;inline=new Map;external=new Map;hosts=new Set;constructor(e,r,o,i={}){this.doc=e,this.appId=r,this.nonce=o,function S$(n,t,e,r){const o=n.head?.querySelectorAll(`style[${Xv}="${t}"],link[${Xv}="${t}"]`);if(o)for(const i of o)i.removeAttribute(Xv),i instanceof HTMLLinkElement?r.set(i.href.slice(i.href.lastIndexOf("/")+1),{usage:0,elements:[i]}):i.textContent&&e.set(i.textContent,{usage:0,elements:[i]})}(e,r,this.inline,this.external),this.hosts.add(e.head)}addStyles(e,r){for(const o of e)this.addUsage(o,this.inline,BA);r?.forEach(o=>this.addUsage(o,this.external,Zv))}removeStyles(e,r){for(const o of e)this.removeUsage(o,this.inline);r?.forEach(o=>this.removeUsage(o,this.external))}addUsage(e,r,o){const i=r.get(e);i?i.usage++:r.set(e,{usage:1,elements:[...this.hosts].map(s=>this.addElement(s,o(e,this.doc)))})}removeUsage(e,r){const o=r.get(e);o&&(o.usage--,o.usage<=0&&(FA(o.elements),r.delete(e)))}ngOnDestroy(){for(const[,{elements:e}]of[...this.inline,...this.external])FA(e);this.hosts.clear()}addHost(e){this.hosts.add(e);for(const[r,{elements:o}]of this.inline)o.push(this.addElement(e,BA(r,this.doc)));for(const[r,{elements:o}]of this.external)o.push(this.addElement(e,Zv(r,this.doc)))}removeHost(e){this.hosts.delete(e)}addElement(e,r){return this.nonce&&r.setAttribute("nonce",this.nonce),e.appendChild(r)}static \u0275fac=function(r){return new(r||n)(Xe(ur),Xe(al),Xe(jw,8),Xe(ll))};static \u0275prov=Z({token:n,factory:n.\u0275fac})}return n})();const Qv={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},Jv=/%COMP%/g,M$=new j("",{factory:()=>!0});function $A(n,t){return t.map(e=>e.replace(Jv,n))}let UA=(()=>{class n{eventManager;sharedStylesHost;appId;removeStylesOnCompDestroy;doc;ngZone;nonce;tracingService;rendererByCompId=new Map;defaultRenderer;platformIsServer;constructor(e,r,o,i,s,a,l=null,c=null){this.eventManager=e,this.sharedStylesHost=r,this.appId=o,this.removeStylesOnCompDestroy=i,this.doc=s,this.ngZone=a,this.nonce=l,this.tracingService=c,this.platformIsServer=!1,this.defaultRenderer=new ey(e,s,a,this.platformIsServer,this.tracingService)}createRenderer(e,r){if(!e||!r)return this.defaultRenderer;const o=this.getOrCreateRenderer(e,r);return o instanceof WA?o.applyToHost(e):o instanceof ty&&o.applyStyles(),o}getOrCreateRenderer(e,r){const o=this.rendererByCompId;let i=o.get(r.id);if(!i){const s=this.doc,a=this.ngZone,l=this.eventManager,c=this.sharedStylesHost,u=this.removeStylesOnCompDestroy,d=this.platformIsServer,h=this.tracingService;switch(r.encapsulation){case Mo.Emulated:i=new WA(l,c,r,this.appId,u,s,a,d,h);break;case Mo.ShadowDom:return new zA(l,e,r,s,a,this.nonce,d,h,c);case Mo.ExperimentalIsolatedShadowDom:return new zA(l,e,r,s,a,this.nonce,d,h);default:i=new ty(l,c,r,u,s,a,d,h)}o.set(r.id,i)}return i}ngOnDestroy(){this.rendererByCompId.clear()}componentReplaced(e){this.rendererByCompId.delete(e)}static \u0275fac=function(r){return new(r||n)(Xe(PA),Xe(HA),Xe(al),Xe(M$),Xe(ur),Xe(Ot),Xe(jw),Xe(gl,8))};static \u0275prov=Z({token:n,factory:n.\u0275fac})}return n})();class ey{eventManager;doc;ngZone;platformIsServer;tracingService;data=Object.create(null);throwOnSyntheticProps=!0;constructor(t,e,r,o,i){this.eventManager=t,this.doc=e,this.ngZone=r,this.platformIsServer=o,this.tracingService=i}destroy(){}destroyNode=null;createElement(t,e){return e?this.doc.createElementNS(Qv[e]||e,t):this.doc.createElement(t)}createComment(t){return this.doc.createComment(t)}createText(t){return this.doc.createTextNode(t)}appendChild(t,e){(VA(t)?t.content:t).appendChild(e)}insertBefore(t,e,r){t&&(VA(t)?t.content:t).insertBefore(e,r)}removeChild(t,e){e.remove()}selectRootElement(t,e){let r="string"==typeof t?this.doc.querySelector(t):t;if(!r)throw new R(-5104,!1);return e||(r.textContent=""),r}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,r,o){if(o){e=o+":"+e;const i=Qv[o];i?t.setAttributeNS(i,e,r):t.setAttribute(e,r)}else t.setAttribute(e,r)}removeAttribute(t,e,r){if(r){const o=Qv[r];o?t.removeAttributeNS(o,e):t.removeAttribute(`${r}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,r,o){o&(hs.DashCase|hs.Important)?t.style.setProperty(e,r,o&hs.Important?"important":""):t.style[e]=r}removeStyle(t,e,r){r&hs.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,r){null!=t&&(t[e]=r)}setValue(t,e){t.nodeValue=e}listen(t,e,r,o){if("string"==typeof t&&!(t=Ja().getGlobalEventTarget(this.doc,t)))throw new R(5102,!1);let i=this.decoratePreventDefault(r);return this.tracingService?.wrapEventListener&&(i=this.tracingService.wrapEventListener(t,e,i)),this.eventManager.addEventListener(t,e,i,o)}decoratePreventDefault(t){return e=>{if("__ngUnwrap__"===e)return t;!1===t(e)&&e.preventDefault()}}}function VA(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class zA extends ey{hostEl;sharedStylesHost;shadowRoot;constructor(t,e,r,o,i,s,a,l,c){super(t,o,i,a,l),this.hostEl=e,this.sharedStylesHost=c,this.shadowRoot=e.attachShadow({mode:"open"}),this.sharedStylesHost&&this.sharedStylesHost.addHost(this.shadowRoot);let u=r.styles;u=$A(r.id,u);for(const h of u){const f=document.createElement("style");s&&f.setAttribute("nonce",s),f.textContent=h,this.shadowRoot.appendChild(f)}const d=r.getExternalStyles?.();if(d)for(const h of d){const f=Zv(h,o);s&&f.setAttribute("nonce",s),this.shadowRoot.appendChild(f)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,r){return super.insertBefore(this.nodeOrShadowRoot(t),e,r)}removeChild(t,e){return super.removeChild(null,e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}destroy(){this.sharedStylesHost&&this.sharedStylesHost.removeHost(this.shadowRoot)}}class ty extends ey{sharedStylesHost;removeStylesOnCompDestroy;styles;styleUrls;constructor(t,e,r,o,i,s,a,l,c){super(t,i,s,a,l),this.sharedStylesHost=e,this.removeStylesOnCompDestroy=o;let u=r.styles;this.styles=c?$A(c,u):u,this.styleUrls=r.getExternalStyles?.(c)}applyStyles(){this.sharedStylesHost.addStyles(this.styles,this.styleUrls)}destroy(){this.removeStylesOnCompDestroy&&0===qs.size&&this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)}}class WA extends ty{contentAttr;hostAttr;constructor(t,e,r,o,i,s,a,l,c){const u=o+"-"+r.id;super(t,e,r,i,s,a,l,c,u),this.contentAttr=function R$(n){return"_ngcontent-%COMP%".replace(Jv,n)}(u),this.hostAttr=function N$(n){return"_nghost-%COMP%".replace(Jv,n)}(u)}applyToHost(t){this.applyStyles(),this.setAttribute(t,this.hostAttr,"")}createElement(t,e){const r=super.createElement(t,e);return super.setAttribute(r,this.contentAttr,""),r}}class ny extends tO{supportsDOMEvents=!0;static makeCurrent(){!function eO(n){RC??=n}(new ny)}onAndCancel(t,e,r,o){return t.addEventListener(e,r,o),()=>{t.removeEventListener(e,r,o)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){t.remove()}createElement(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}getBaseHref(t){const e=function L$(){return Au=Au||document.head.querySelector("base"),Au?Au.getAttribute("href"):null}();return null==e?null:function P$(n){return new URL(n,document.baseURI).pathname}(e)}resetBaseElement(){Au=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return function rO(n,t){t=encodeURIComponent(t);for(const e of n.split(";")){const r=e.indexOf("="),[o,i]=-1==r?[e,""]:[e.slice(0,r),e.slice(r+1)];if(o.trim()===t)return decodeURIComponent(i)}return null}(document.cookie,t)}}let Au=null,B$=(()=>{class n{build(){return new XMLHttpRequest}static \u0275fac=function(r){return new(r||n)};static \u0275prov=Z({token:n,factory:n.\u0275fac})}return n})();const GA=["alt","control","meta","shift"],H$={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},j$={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};function qA(n){return{appProviders:[...Y$,...n?.providers??[]],platformProviders:G$}}const G$=[{provide:ll,useValue:OC},{provide:Hw,useValue:function V$(){ny.makeCurrent()},multi:!0},{provide:ur,useFactory:function W$(){return function YL(n){_m=n}(document),document}}],Y$=[{provide:Rg,useValue:"root"},{provide:Qa,useFactory:function z$(){return new Qa}},{provide:Kv,useClass:Yv,multi:!0},{provide:Kv,useClass:(()=>{class n extends LA{constructor(e){super(e)}supports(e){return null!=n.parseEventName(e)}addEventListener(e,r,o,i){const s=n.parseEventName(r),a=n.eventCallback(s.fullKey,o,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Ja().onAndCancel(e,s.domEventName,a,i))}static parseEventName(e){const r=e.toLowerCase().split("."),o=r.shift();if(0===r.length||"keydown"!==o&&"keyup"!==o)return null;const i=n._normalizeKey(r.pop());let s="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),s="code."),GA.forEach(c=>{const u=r.indexOf(c);u>-1&&(r.splice(u,1),s+=c+".")}),s+=i,0!=r.length||0===i.length)return null;const l={};return l.domEventName=o,l.fullKey=s,l}static matchEventFullKeyCode(e,r){let o=H$[e.key]||e.key,i="";return r.indexOf("code.")>-1&&(o=e.code,i="code."),!(null==o||!o)&&(o=o.toLowerCase()," "===o?o="space":"."===o&&(o="dot"),GA.forEach(s=>{s!==o&&(0,j$[s])(e)&&(i+=s+".")}),i+=o,i===r)}static eventCallback(e,r,o){return i=>{n.matchEventFullKeyCode(i,e)&&o.runGuarded(()=>r(i))}}static _normalizeKey(e){return"esc"===e?"escape":e}static \u0275fac=function(r){return new(r||n)(Xe(ur))};static \u0275prov=Z({token:n,factory:n.\u0275fac})}return n})(),multi:!0},UA,HA,PA,{provide:wb,useExisting:UA},{provide:class oO{},useClass:B$},[]];class Gf{Referencia;Articulo;Cantidad;Precio;IVA;Descuento;constructor(t){this.Referencia=t.Referencia,this.Articulo=t.Articulo,this.Cantidad=t.Cantidad,this.Precio=t.PrecioCoste,this.IVA=t.IVA,this.Descuento=t.Descuento||0}get Importe(){return this.Cantidad*this.Precio*(1-this.Descuento/100)}get Cuota(){return this.Cantidad*this.Precio*this.IVA/100}get Total(){return this.Importe+this.Cuota}get TipoImpuesto(){return 10==this.IVA?58:1}}class qf{lineas=[];constructor(t){for(const e of t)this.lineas.push(new Gf(e));this.lineas=t}get Total(){return this.lineas.sum(t=>t.Importe*(1+t.IVA/100))}get Desglose(){const t=this.lineas.filter(r=>10==r.IVA),e=this.lineas.filter(r=>21==r.IVA);return[{IVA:"10",Importe:t.sum(r=>r.Importe),Cuota:t.sum(r=>r.Cuota),Total:null},{IVA:"21",Importe:e.sum(r=>r.Importe),Cuota:e.sum(r=>r.Cuota),Total:null}]}}class Yf{id;Referencia;Descripcion;PrecioCoste;PrecioVenta;IVA;Imagen="";constructor(t){this.id=t.id,this.Referencia=t.default_code,this.Descripcion=t.name,this.PrecioCoste=parseFloat(t.standard_price),this.PrecioVenta=parseFloat(t.list_price),this.IVA=t["supplier_taxes_id/name"]||t["taxes_id/name"],t["supplier_taxes_id/name"]!=t["taxes_id/name"]&&console.warn("El IVA de compras y ventas no conincide en "+this.Descripcion)}get TipoImpuestoVenta(){return 10==this.IVA?58:1}get TipoImpuestoCompra(){return 10==this.IVA?170:171}get Margen(){return 100*(this.PrecioVenta/this.PrecioCoste-1)}}class ry{productos=[];get Productos(){return this.productos}get Size(){return this.productos.length}constructor(t){for(const e of t){const r=new Yf(e);this.productos.push(r)}}clear(){this.productos=[]}}class YA{Active=!0;New;Old;constructor(t,e){this.New=t,this.Old=e}}let K$=(()=>{class n{images=[];uploaded=Hn();uploadImages(e){const o=e.target.files,i=[];for(const s of o||[]){const a=parseInt(s.name.split(".")[0].replace("IMG-20250924-WA",""),10).toString(),l=new Promise(c=>{const u=new FileReader;u.onloadend=()=>{const d=u.result,h=new Yf({});h.id="",h.Descripcion="NNN",h.Referencia=a,h.Imagen=d.split(";")[1].replace("base64,",""),c(h)},u.readAsDataURL(s)});i.push(l)}Promise.all(i).then(s=>{this.images=s,console.log("\u2705 Todas las im\xe1genes han sido procesadas."),this.uploaded.emit(this.images)})}static \u0275fac=function(r){return new(r||n)};static \u0275cmp=Mt({type:n,selectors:[["app-novedades"]],outputs:{uploaded:"uploaded"},decls:6,vars:0,consts:[["type","file","id","fuImages","accept",".jpeg,.png,.jpg","multiple","",1,"d-block",3,"change"],["id","btnConsolidateImages",1,"btn","btn-primary"],["id","imgUploaded",1,"row"]],template:function(r,o){1&r&&(ge(0,"label"),q(1,"Sube tus novedades"),me(),ge(2,"input",0),Pl("change",function(s){return o.uploadImages(s)}),me(),ge(3,"button",1),q(4,"Consolidar datos"),me(),Vn(5,"div",2))},encapsulation:2})}return n})();var X$=W(262),Z$=W.t(X$,2);let KA=(()=>{class n{constructor(){this._papa=Z$}parse(e,r){return this._papa.parse(e,r)}unparse(e,r){return this._papa.unparse(e,r)}setLocalChunkSize(e){this._papa.LocalChunkSize=e}setRemoteChunkSize(e){this._papa.RemoteChunkSize=e}setDefaultDelimiter(e){this._papa.DefaultDelimiter=e}get badDelimiters(){return this._papa.BAD_DELIMITERS}get recordSeparator(){return this._papa.RECORD_SEP}get unitSeparator(){return this._papa.UNIT_SEP}get workersSupported(){return this._papa.WORKERS_SUPPORTED}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=Z({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var Q$=W(459);function Kf(n){function t(e){if(Object(e)!==e)return Promise.reject(new TypeError(e+" is not an object."));var r=e.done;return Promise.resolve(e.value).then(function(o){return{value:o,done:r}})}return(Kf=function(r){this.s=r,this.n=r.next}).prototype={s:null,n:null,next:function(){return t(this.n.apply(this.s,arguments))},return:function(r){var o=this.s.return;return void 0===o?Promise.resolve({value:r,done:!0}):t(o.apply(this.s,arguments))},throw:function(r){var o=this.s.return;return void 0===o?Promise.reject(r):t(o.apply(this.s,arguments))}},new Kf(n)}const Hr=!("object"!=typeof process||process+""!="[object process]"||process.versions.nw||process.versions.electron&&process.type&&"browser"!==process.type),oy=[.001,0,0,.001,0,0],ys={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3},Iu="pdfjs_internal_editor_",We={DISABLE:-1,NONE:0,FREETEXT:3,HIGHLIGHT:9,STAMP:13,INK:15,POPUP:16,SIGNATURE:101,COMMENT:102},bt={RESIZE:1,CREATE:2,FREETEXT_SIZE:11,FREETEXT_COLOR:12,FREETEXT_OPACITY:13,INK_COLOR:21,INK_THICKNESS:22,INK_OPACITY:23,HIGHLIGHT_COLOR:31,HIGHLIGHT_THICKNESS:32,HIGHLIGHT_FREE:33,HIGHLIGHT_SHOW_ALL:34,DRAW_STEP:41},Qf={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3},Wn={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26},Jf={ERRORS:0,WARNINGS:1,INFOS:5},xu={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotation:80,endAnnotation:81,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91,setStrokeTransparent:92,setFillTransparent:93,rawFillPath:94};let ep=Jf.WARNINGS;function r7(){return ep}function tp(n){ep>=Jf.INFOS&&console.info(`Info: ${n}`)}function je(n){ep>=Jf.WARNINGS&&console.warn(`Warning: ${n}`)}function Jt(n){throw new Error(n)}function yt(n,t){n||Jt(t)}function XA(n,t=null,e=null){if(!n)return null;if(e&&"string"==typeof n&&(e.addDefaultProtocol&&n.startsWith("www.")&&n.match(/\./g)?.length>=2&&(n=`http://${n}`),e.tryConvertEncoding))try{n=function u7(n){return decodeURIComponent(escape(n))}(n)}catch{}const r=t?URL.parse(n,t):URL.parse(n);return function o7(n){switch(n?.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}(r)?r:null}function ZA(n,t,e=!1){const r=URL.parse(n);return r?(r.hash=t,r.href):e&&XA(n,"http://example.com")?n.split("#",1)[0]+""+(t?`#${t}`:""):""}function Ue(n,t,e,r=!1){return Object.defineProperty(n,t,{value:e,enumerable:!r,configurable:!0,writable:!1}),e}const pa=function(){function t(e,r){this.message=e,this.name=r}return t.prototype=new Error,t.constructor=t,t}();class QA extends pa{constructor(t,e){super(t,"PasswordException"),this.code=e}}class sy extends pa{constructor(t,e){super(t,"UnknownErrorException"),this.details=e}}class ay extends pa{constructor(t){super(t,"InvalidPDFException")}}class np extends pa{constructor(t,e,r){super(t,"ResponseException"),this.status=e,this.missing=r}}class i7 extends pa{constructor(t){super(t,"FormatError")}}class _s extends pa{constructor(t){super(t,"AbortException")}}function JA(n){("object"!=typeof n||void 0===n?.length)&&Jt("Invalid argument for bytesToString");const t=n.length,e=8192;if(t<e)return String.fromCharCode.apply(null,n);const r=[];for(let o=0;o<t;o+=e){const i=Math.min(o+e,t),s=n.subarray(o,i);r.push(String.fromCharCode.apply(null,s))}return r.join("")}function zl(n){"string"!=typeof n&&Jt("Invalid argument for stringToBytes");const t=n.length,e=new Uint8Array(t);for(let r=0;r<t;++r)e[r]=255&n.charCodeAt(r);return e}class pr{static get isLittleEndian(){return Ue(this,"isLittleEndian",function a7(){const n=new Uint8Array(4);return n[0]=1,1===new Uint32Array(n.buffer,0,1)[0]}())}static get isEvalSupported(){return Ue(this,"isEvalSupported",function l7(){try{return new Function(""),!0}catch{return!1}}())}static get isOffscreenCanvasSupported(){return Ue(this,"isOffscreenCanvasSupported",typeof OffscreenCanvas<"u")}static get isImageDecoderSupported(){return Ue(this,"isImageDecoderSupported",typeof ImageDecoder<"u")}static get isFloat16ArraySupported(){return Ue(this,"isFloat16ArraySupported",typeof Float16Array<"u")}static get isSanitizerSupported(){return Ue(this,"isSanitizerSupported",typeof Sanitizer<"u")}static get platform(){const{platform:t,userAgent:e}=navigator;return Ue(this,"platform",{isAndroid:e.includes("Android"),isLinux:t.includes("Linux"),isMac:t.includes("Mac"),isWindows:t.includes("Win"),isFirefox:e.includes("Firefox")})}static get isCSSRoundSupported(){return Ue(this,"isCSSRoundSupported",globalThis.CSS?.supports?.("width: round(1.5px, 1px)"))}}const rp=Array.from(Array(256).keys(),n=>n.toString(16).padStart(2,"0"));class he{static makeHexColor(t,e,r){return`#${rp[t]}${rp[e]}${rp[r]}`}static domMatrixToTransform(t){return[t.a,t.b,t.c,t.d,t.e,t.f]}static scaleMinMax(t,e){let r;t[0]?(t[0]<0&&(r=e[0],e[0]=e[2],e[2]=r),e[0]*=t[0],e[2]*=t[0],t[3]<0&&(r=e[1],e[1]=e[3],e[3]=r),e[1]*=t[3],e[3]*=t[3]):(r=e[0],e[0]=e[1],e[1]=r,r=e[2],e[2]=e[3],e[3]=r,t[1]<0&&(r=e[1],e[1]=e[3],e[3]=r),e[1]*=t[1],e[3]*=t[1],t[2]<0&&(r=e[0],e[0]=e[2],e[2]=r),e[0]*=t[2],e[2]*=t[2]),e[0]+=t[4],e[1]+=t[5],e[2]+=t[4],e[3]+=t[5]}static transform(t,e){return[t[0]*e[0]+t[2]*e[1],t[1]*e[0]+t[3]*e[1],t[0]*e[2]+t[2]*e[3],t[1]*e[2]+t[3]*e[3],t[0]*e[4]+t[2]*e[5]+t[4],t[1]*e[4]+t[3]*e[5]+t[5]]}static multiplyByDOMMatrix(t,e){return[t[0]*e.a+t[2]*e.b,t[1]*e.a+t[3]*e.b,t[0]*e.c+t[2]*e.d,t[1]*e.c+t[3]*e.d,t[0]*e.e+t[2]*e.f+t[4],t[1]*e.e+t[3]*e.f+t[5]]}static applyTransform(t,e,r=0){const o=t[r],i=t[r+1];t[r]=o*e[0]+i*e[2]+e[4],t[r+1]=o*e[1]+i*e[3]+e[5]}static applyTransformToBezier(t,e,r=0){const o=e[0],i=e[1],s=e[2],a=e[3],l=e[4],c=e[5];for(let u=0;u<6;u+=2){const d=t[r+u],h=t[r+u+1];t[r+u]=d*o+h*s+l,t[r+u+1]=d*i+h*a+c}}static applyInverseTransform(t,e){const r=t[0],o=t[1],i=e[0]*e[3]-e[1]*e[2];t[0]=(r*e[3]-o*e[2]+e[2]*e[5]-e[4]*e[3])/i,t[1]=(-r*e[1]+o*e[0]+e[4]*e[1]-e[5]*e[0])/i}static axialAlignedBoundingBox(t,e,r){const o=e[0],i=e[1],s=e[2],a=e[3],l=e[4],c=e[5],u=t[0],d=t[1],h=t[2],f=t[3];let p=o*u+l,g=p,m=o*h+l,b=m,v=a*d+c,y=v,C=a*f+c,_=C;if(0!==i||0!==s){const w=i*u,k=i*h,A=s*d,$=s*f;p+=A,b+=A,m+=$,g+=$,v+=w,_+=w,C+=k,y+=k}r[0]=Math.min(r[0],p,m,g,b),r[1]=Math.min(r[1],v,C,y,_),r[2]=Math.max(r[2],p,m,g,b),r[3]=Math.max(r[3],v,C,y,_)}static inverseTransform(t){const e=t[0]*t[3]-t[1]*t[2];return[t[3]/e,-t[1]/e,-t[2]/e,t[0]/e,(t[2]*t[5]-t[4]*t[3])/e,(t[4]*t[1]-t[5]*t[0])/e]}static singularValueDecompose2dScale(t,e){const r=t[0],o=t[1],i=t[2],s=t[3],a=r**2+o**2,c=i**2+s**2,u=(a+c)/2,d=Math.sqrt(u**2-(a*c-(r*i+o*s)**2));e[0]=Math.sqrt(u+d||1),e[1]=Math.sqrt(u-d||1)}static normalizeRect(t){const e=t.slice(0);return t[0]>t[2]&&(e[0]=t[2],e[2]=t[0]),t[1]>t[3]&&(e[1]=t[3],e[3]=t[1]),e}static intersect(t,e){const r=Math.max(Math.min(t[0],t[2]),Math.min(e[0],e[2])),o=Math.min(Math.max(t[0],t[2]),Math.max(e[0],e[2]));if(r>o)return null;const i=Math.max(Math.min(t[1],t[3]),Math.min(e[1],e[3])),s=Math.min(Math.max(t[1],t[3]),Math.max(e[1],e[3]));return i>s?null:[r,i,o,s]}static pointBoundingBox(t,e,r){r[0]=Math.min(r[0],t),r[1]=Math.min(r[1],e),r[2]=Math.max(r[2],t),r[3]=Math.max(r[3],e)}static rectBoundingBox(t,e,r,o,i){i[0]=Math.min(i[0],t,r),i[1]=Math.min(i[1],e,o),i[2]=Math.max(i[2],t,r),i[3]=Math.max(i[3],e,o)}static#e(t,e,r,o,i,s,a,l,c,u){if(c<=0||c>=1)return;const d=1-c,h=c*c,f=h*c,p=d*(d*(d*t+3*c*e)+3*h*r)+f*o,g=d*(d*(d*i+3*c*s)+3*h*a)+f*l;u[0]=Math.min(u[0],p),u[1]=Math.min(u[1],g),u[2]=Math.max(u[2],p),u[3]=Math.max(u[3],g)}static#t(t,e,r,o,i,s,a,l,c,u,d,h){if(Math.abs(c)<1e-12)return void(Math.abs(u)>=1e-12&&this.#e(t,e,r,o,i,s,a,l,-d/u,h));const f=u**2-4*d*c;if(f<0)return;const p=Math.sqrt(f),g=2*c;this.#e(t,e,r,o,i,s,a,l,(-u+p)/g,h),this.#e(t,e,r,o,i,s,a,l,(-u-p)/g,h)}static bezierBoundingBox(t,e,r,o,i,s,a,l,c){c[0]=Math.min(c[0],t,a),c[1]=Math.min(c[1],e,l),c[2]=Math.max(c[2],t,a),c[3]=Math.max(c[3],e,l),this.#t(t,r,i,a,e,o,s,l,3*(3*(r-i)-t+a),6*(t-2*r+i),3*(r-t),c),this.#t(t,r,i,a,e,o,s,l,3*(3*(o-s)-e+l),6*(e-2*o+s),3*(o-e),c)}}let ly=null,eI=null;function tI(){if("function"==typeof crypto.randomUUID)return crypto.randomUUID();const n=new Uint8Array(32);return crypto.getRandomValues(n),JA(n)}const Wl="pdfjs_internal_id_";function jr(n,t,e){return Math.min(Math.max(n,t),e)}function nI(n){return Uint8Array.prototype.toBase64?n.toBase64():btoa(JA(n))}"function"!=typeof Promise.try&&(Promise.try=function(n,...t){return new Promise(e=>{e(n(...t))})}),"function"!=typeof Math.sumPrecise&&(Math.sumPrecise=function(n){return n.reduce((t,e)=>t+e,0)});class Ru{static textContent(t){const e=[],r={items:e,styles:Object.create(null)};return function o(i){if(!i)return;let s=null;const a=i.name;if("#text"===a)s=i.value;else{if(!Ru.shouldBuildText(a))return;i?.attributes?.textContent?s=i.attributes.textContent:i.value&&(s=i.value)}if(null!==s&&e.push({str:s}),i.children)for(const l of i.children)o(l)}(t),r}static shouldBuildText(t){return!("textarea"===t||"input"===t||"option"===t||"select"===t)}}class rI{static setupStorage(t,e,r,o,i){const s=o.getValue(e,{value:null});switch(r.name){case"textarea":if(null!==s.value&&(t.textContent=s.value),"print"===i)break;t.addEventListener("input",a=>{o.setValue(e,{value:a.target.value})});break;case"input":if("radio"===r.attributes.type||"checkbox"===r.attributes.type){if(s.value===r.attributes.xfaOn?t.setAttribute("checked",!0):s.value===r.attributes.xfaOff&&t.removeAttribute("checked"),"print"===i)break;t.addEventListener("change",a=>{o.setValue(e,{value:a.target.getAttribute(a.target.checked?"xfaOn":"xfaOff")})})}else{if(null!==s.value&&t.setAttribute("value",s.value),"print"===i)break;t.addEventListener("input",a=>{o.setValue(e,{value:a.target.value})})}break;case"select":if(null!==s.value){t.setAttribute("value",s.value);for(const a of r.children)a.attributes.value===s.value?a.attributes.selected=!0:a.attributes.hasOwnProperty("selected")&&delete a.attributes.selected}t.addEventListener("input",a=>{const l=a.target.options;o.setValue(e,{value:-1===l.selectedIndex?"":l[l.selectedIndex].value})})}}static setAttributes({html:t,element:e,storage:r=null,intent:o,linkService:i}){const{attributes:s}=e,a=t instanceof HTMLAnchorElement;"radio"===s.type&&(s.name=`${s.name}-${o}`);for(const[l,c]of Object.entries(s))if(null!=c)switch(l){case"class":c.length&&t.setAttribute(l,c.join(" "));break;case"dataId":break;case"id":t.setAttribute("data-element-id",c);break;case"style":Object.assign(t.style,c);break;case"textContent":t.textContent=c;break;default:(!a||"href"!==l&&"newWindow"!==l)&&t.setAttribute(l,c)}a&&i.addLinkAttributes(t,s.href,s.newWindow),r&&s.dataId&&this.setupStorage(t,s.dataId,e,r)}static render(t){const e=t.annotationStorage,r=t.linkService,o=t.xfaHtml,i=t.intent||"display",s=document.createElement(o.name);o.attributes&&this.setAttributes({html:s,element:o,intent:i,linkService:r});const a="richText"!==i,l=t.div;if(l.append(s),t.viewport){const d=`matrix(${t.viewport.transform.join(",")})`;l.style.transform=d}a&&l.setAttribute("class","xfaLayer xfaFont");const c=[];if(0===o.children.length){if(o.value){const d=document.createTextNode(o.value);s.append(d),a&&Ru.shouldBuildText(o.name)&&c.push(d)}return{textDivs:c}}const u=[[o,-1,s]];for(;u.length>0;){const[d,h,f]=u.at(-1);if(h+1===d.children.length){u.pop();continue}const p=d.children[++u.at(-1)[1]];if(null===p)continue;const{name:g}=p;if("#text"===g){const b=document.createTextNode(p.value);c.push(b),f.append(b);continue}const m=p?.attributes?.xmlns?document.createElementNS(p.attributes.xmlns,g):document.createElement(g);if(f.append(m),p.attributes&&this.setAttributes({html:m,element:p,storage:e,intent:i,linkService:r}),p.children?.length>0)u.push([p,-1,m]);else if(p.value){const b=document.createTextNode(p.value);a&&Ru.shouldBuildText(g)&&c.push(b),m.append(b)}}for(const d of l.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))d.setAttribute("readOnly",!0);return{textDivs:c}}static update(t){const e=`matrix(${t.viewport.transform.join(",")})`;t.div.style.transform=e,t.div.hidden=!1}}const Gi="http://www.w3.org/2000/svg";class Gl{static CSS=96;static PDF=72;static PDF_TO_CSS_UNITS=this.CSS/this.PDF}function Nu(n){return cy.apply(this,arguments)}function cy(){return(cy=B(function*(n,t="text"){if(Lu(n,document.baseURI)){const e=yield fetch(n);if(!e.ok)throw new Error(e.statusText);switch(t){case"arraybuffer":return e.arrayBuffer();case"blob":return e.blob();case"json":return e.json()}return e.text()}return new Promise((e,r)=>{const o=new XMLHttpRequest;o.open("GET",n,!0),o.responseType=t,o.onreadystatechange=()=>{if(o.readyState===XMLHttpRequest.DONE){if(200===o.status||0===o.status){switch(t){case"arraybuffer":case"blob":case"json":return void e(o.response)}return void e(o.responseText)}r(new Error(o.statusText))}},o.send(null)})})).apply(this,arguments)}class Ou{constructor({viewBox:t,userUnit:e,scale:r,rotation:o,offsetX:i=0,offsetY:s=0,dontFlip:a=!1}){this.viewBox=t,this.userUnit=e,this.scale=r,this.rotation=o,this.offsetX=i,this.offsetY=s,r*=e;const l=(t[2]+t[0])/2,c=(t[3]+t[1])/2;let u,d,h,f,p,g,m,b;switch((o%=360)<0&&(o+=360),o){case 180:u=-1,d=0,h=0,f=1;break;case 90:u=0,d=1,h=1,f=0;break;case 270:u=0,d=-1,h=-1,f=0;break;case 0:u=1,d=0,h=0,f=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}a&&(h=-h,f=-f),0===u?(p=Math.abs(c-t[1])*r+i,g=Math.abs(l-t[0])*r+s,m=(t[3]-t[1])*r,b=(t[2]-t[0])*r):(p=Math.abs(l-t[0])*r+i,g=Math.abs(c-t[1])*r+s,m=(t[2]-t[0])*r,b=(t[3]-t[1])*r),this.transform=[u*r,d*r,h*r,f*r,p-u*r*l-h*r*c,g-d*r*l-f*r*c],this.width=m,this.height=b}get rawDims(){const t=this.viewBox;return Ue(this,"rawDims",{pageWidth:t[2]-t[0],pageHeight:t[3]-t[1],pageX:t[0],pageY:t[1]})}clone({scale:t=this.scale,rotation:e=this.rotation,offsetX:r=this.offsetX,offsetY:o=this.offsetY,dontFlip:i=!1}={}){return new Ou({viewBox:this.viewBox.slice(),userUnit:this.userUnit,scale:t,rotation:e,offsetX:r,offsetY:o,dontFlip:i})}convertToViewportPoint(t,e){const r=[t,e];return he.applyTransform(r,this.transform),r}convertToViewportRectangle(t){const e=[t[0],t[1]];he.applyTransform(e,this.transform);const r=[t[2],t[3]];return he.applyTransform(r,this.transform),[e[0],e[1],r[0],r[1]]}convertToPdfPoint(t,e){const r=[t,e];return he.applyInverseTransform(r,this.transform),r}}class uy extends pa{constructor(t,e=0){super(t,"RenderingCancelledException"),this.extraDelay=e}}function op(n){const t=n.length;let e=0;for(;e<t&&""===n[e].trim();)e++;return"data:"===n.substring(e,e+5).toLowerCase()}function dy(n){return"string"==typeof n&&/\.pdf$/i.test(n)}class oI{started=Object.create(null);times=[];time(t){t in this.started&&je(`Timer is already running for ${t}`),this.started[t]=Date.now()}timeEnd(t){t in this.started||je(`Timer has not been started for ${t}`),this.times.push({name:t,start:this.started[t],end:Date.now()}),delete this.started[t]}toString(){const t=[];let e=0;for(const{name:r}of this.times)e=Math.max(r.length,e);for(const{name:r,start:o,end:i}of this.times)t.push(`${r.padEnd(e)} ${i-o}ms\n`);return t.join("")}}function Lu(n,t){const e=t?URL.parse(n,t):URL.parse(n);return"http:"===e?.protocol||"https:"===e?.protocol}function Fo(n){n.preventDefault()}function Rn(n){n.preventDefault(),n.stopPropagation()}class hy{static#e;static toDateObject(t){if(t instanceof Date)return t;if(!t||"string"!=typeof t)return null;this.#e||=new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?");const e=this.#e.exec(t);if(!e)return null;const r=parseInt(e[1],10);let o=parseInt(e[2],10);o=o>=1&&o<=12?o-1:0;let i=parseInt(e[3],10);i=i>=1&&i<=31?i:1;let s=parseInt(e[4],10);s=s>=0&&s<=23?s:0;let a=parseInt(e[5],10);a=a>=0&&a<=59?a:0;let l=parseInt(e[6],10);l=l>=0&&l<=59?l:0;const c=e[7]||"Z";let u=parseInt(e[8],10);u=u>=0&&u<=23?u:0;let d=parseInt(e[9],10)||0;return d=d>=0&&d<=59?d:0,"-"===c?(s+=u,a+=d):"+"===c&&(s-=u,a-=d),new Date(Date.UTC(r,o,i,s,a,l))}}function Pu(n){if(n.startsWith("#")){const t=parseInt(n.slice(1),16);return[(16711680&t)>>16,(65280&t)>>8,255&t]}return n.startsWith("rgb(")?n.slice(4,-1).split(",").map(t=>parseInt(t)):n.startsWith("rgba(")?n.slice(5,-1).split(",").map(t=>parseInt(t)).slice(0,3):(je(`Not a valid color format: "${n}"`),[0,0,0])}function En(n){const{a:t,b:e,c:r,d:o,e:i,f:s}=n.getTransform();return[t,e,r,o,i,s]}function _i(n){const{a:t,b:e,c:r,d:o,e:i,f:s}=n.getTransform().invertSelf();return[t,e,r,o,i,s]}function ga(n,t,e=!1,r=!0){if(t instanceof Ou){const{pageWidth:o,pageHeight:i}=t.rawDims,{style:s}=n,a=pr.isCSSRoundSupported,l=`var(--total-scale-factor) * ${o}px`,c=`var(--total-scale-factor) * ${i}px`,u=a?`round(down, ${l}, var(--scale-round-x))`:`calc(${l})`,d=a?`round(down, ${c}, var(--scale-round-y))`:`calc(${c})`;e&&t.rotation%180!=0?(s.width=d,s.height=u):(s.width=u,s.height=d)}r&&n.setAttribute("data-main-rotation",t.rotation)}class Ci{constructor(){const{pixelRatio:t}=Ci;this.sx=t,this.sy=t}get scaled(){return 1!==this.sx||1!==this.sy}get symmetric(){return this.sx===this.sy}limitCanvas(t,e,r,o,i=-1){let s=1/0,a=1/0,l=1/0;(r=Ci.capPixels(r,i))>0&&(s=Math.sqrt(r/(t*e))),-1!==o&&(a=o/t,l=o/e);const c=Math.min(s,a,l);return(this.sx>c||this.sy>c)&&(this.sx=c,this.sy=c,!0)}static get pixelRatio(){return globalThis.devicePixelRatio||1}static capPixels(t,e){if(e>=0){const r=Math.ceil(window.screen.availWidth*window.screen.availHeight*this.pixelRatio**2*(1+e/100));return t>0?Math.min(t,r):r}return t}}const fy=["image/apng","image/avif","image/bmp","image/gif","image/jpeg","image/png","image/svg+xml","image/webp","image/x-icon"];class y7{static get isDarkMode(){return Ue(this,"isDarkMode",!!window?.matchMedia?.("(prefers-color-scheme: dark)").matches)}}function iI(n,t){const e=n[0]/255,r=n[1]/255,o=n[2]/255,i=Math.max(e,r,o),s=Math.min(e,r,o),a=(i+s)/2;if(i===s)t[0]=t[1]=0;else{const l=i-s;switch(t[1]=a<.5?l/(i+s):l/(2-i-s),i){case e:t[0]=60*((r-o)/l+(r<o?6:0));break;case r:t[0]=60*((o-e)/l+2);break;case o:t[0]=60*((e-r)/l+4)}}t[2]=a}function py(n,t){const e=n[0],r=n[1],o=n[2],i=(1-Math.abs(2*o-1))*r,s=i*(1-Math.abs(e/60%2-1)),a=o-i/2;switch(Math.floor(e/60)){case 0:t[0]=i+a,t[1]=s+a,t[2]=a;break;case 1:t[0]=s+a,t[1]=i+a,t[2]=a;break;case 2:t[0]=a,t[1]=i+a,t[2]=s+a;break;case 3:t[0]=a,t[1]=s+a,t[2]=i+a;break;case 4:t[0]=s+a,t[1]=a,t[2]=i+a;break;case 5:case 6:t[0]=i+a,t[1]=a,t[2]=s+a}}function sI(n){return n<=.03928?n/12.92:((n+.055)/1.055)**2.4}function aI(n,t,e){py(n,e),e.map(sI);const r=.2126*e[0]+.7152*e[1]+.0722*e[2];py(t,e),e.map(sI);const o=.2126*e[0]+.7152*e[1]+.0722*e[2];return r>o?(r+.05)/(o+.05):(o+.05)/(r+.05)}const lI=new Map;function cI({html:n,dir:t,className:e},r){const o=document.createDocumentFragment();if("string"==typeof n){const i=document.createElement("p");i.dir=t||"auto";const s=n.split(/(?:\r\n?|\n)/);for(let a=0,l=s.length;a<l;++a)i.append(document.createTextNode(s[a])),a<l-1&&i.append(document.createElement("br"));o.append(i)}else rI.render({xfaHtml:n,div:o,intent:"richText"});o.firstElementChild.classList.add("richText",e),r.append(o)}function uI(n){const t=new Path2D;if(!n)return t;for(let e=0,r=n.length;e<r;)switch(n[e++]){case 0:t.moveTo(n[e++],n[e++]);break;case 1:t.lineTo(n[e++],n[e++]);break;case 2:t.bezierCurveTo(n[e++],n[e++],n[e++],n[e++],n[e++],n[e++]);break;case 3:t.quadraticCurveTo(n[e++],n[e++],n[e++],n[e++]);break;case 4:t.closePath();break;default:je(`Unrecognized drawing path operator: ${n[e-1]}`)}return t}class Fu{#e=null;#t=null;#r;#n=null;#s=null;#i=null;#o=null;#a=null;static#c=null;constructor(t){this.#r=t,Fu.#c||=Object.freeze({freetext:"pdfjs-editor-remove-freetext-button",highlight:"pdfjs-editor-remove-highlight-button",ink:"pdfjs-editor-remove-ink-button",stamp:"pdfjs-editor-remove-stamp-button",signature:"pdfjs-editor-remove-signature-button"})}render(){const t=this.#e=document.createElement("div");t.classList.add("editToolbar","hidden"),t.setAttribute("role","toolbar");const e=this.#r._uiManager._signal;e instanceof AbortSignal&&!e.aborted&&(t.addEventListener("contextmenu",Fo,{signal:e}),t.addEventListener("pointerdown",Fu.#l,{signal:e}));const r=this.#n=document.createElement("div");r.className="buttons",t.append(r);const o=this.#r.toolbarPosition;if(o){const{style:i}=t,s="ltr"===this.#r._uiManager.direction?1-o[0]:o[0];i.insetInlineEnd=100*s+"%",i.top=`calc(${100*o[1]}% + var(--editor-toolbar-vert-offset))`}return t}get div(){return this.#e}static#l(t){t.stopPropagation()}#h(t){this.#r._focusEventsAllowed=!1,Rn(t)}#d(t){this.#r._focusEventsAllowed=!0,Rn(t)}#f(t){const e=this.#r._uiManager._signal;return e instanceof AbortSignal&&!e.aborted&&(t.addEventListener("focusin",this.#h.bind(this),{capture:!0,signal:e}),t.addEventListener("focusout",this.#d.bind(this),{capture:!0,signal:e}),t.addEventListener("contextmenu",Fo,{signal:e}),!0)}hide(){this.#e.classList.add("hidden"),this.#t?.hideDropdown()}show(){this.#e.classList.remove("hidden"),this.#s?.shown(),this.#i?.shown()}addDeleteButton(){const{editorType:t,_uiManager:e}=this.#r,r=document.createElement("button");r.classList.add("basic","deleteButton"),r.tabIndex=0,r.setAttribute("data-l10n-id",Fu.#c[t]),this.#f(r)&&r.addEventListener("click",o=>{e.delete()},{signal:e._signal}),this.#n.append(r)}get#m(){const t=document.createElement("div");return t.className="divider",t}addAltText(t){var e=this;return B(function*(){const r=yield t.render();e.#f(r),e.#n.append(r,e.#m),e.#s=t})()}addComment(t,e=null){if(this.#i)return;const r=t.renderForToolbar();if(!r)return;this.#f(r);const o=this.#o=this.#m;e?(this.#n.insertBefore(r,e),this.#n.insertBefore(o,e)):this.#n.append(r,o),this.#i=t,t.toolbar=this}addColorPicker(t){if(this.#t)return;this.#t=t;const e=t.renderButton();this.#f(e),this.#n.append(e,this.#m)}addEditSignatureButton(t){var e=this;return B(function*(){const r=e.#a=yield t.renderEditButton(e.#r);e.#f(r),e.#n.append(r,e.#m)})()}removeButton(t){"comment"===t&&(this.#i?.removeToolbarCommentButton(),this.#i=null,this.#o?.remove(),this.#o=null)}addButton(t,e){var r=this;return B(function*(){switch(t){case"colorPicker":e&&r.addColorPicker(e);break;case"altText":e&&(yield r.addAltText(e));break;case"editSignature":e&&(yield r.addEditSignatureButton(e));break;case"delete":r.addDeleteButton();break;case"comment":e&&r.addComment(e)}})()}addButtonBefore(t,e,r){var o=this;return B(function*(){if(!e&&"comment"===t)return;const i=o.#n.querySelector(r);i&&"comment"===t&&o.addComment(e,i)})()}updateEditSignatureButton(t){this.#a&&(this.#a.title=t)}remove(){this.#e.remove(),this.#t?.destroy(),this.#t=null}}class E7{#e=null;#t=null;#r;constructor(t){this.#r=t}#n(){const t=this.#t=document.createElement("div");t.className="editToolbar",t.setAttribute("role","toolbar");const e=this.#r._signal;e instanceof AbortSignal&&!e.aborted&&t.addEventListener("contextmenu",Fo,{signal:e});const r=this.#e=document.createElement("div");return r.className="buttons",t.append(r),this.#r.hasCommentManager()&&this.#i("commentButton","pdfjs-comment-floating-button","pdfjs-comment-floating-button-label",()=>{this.#r.commentSelection("floating_button")}),this.#i("highlightButton","pdfjs-highlight-floating-button1","pdfjs-highlight-floating-button-label",()=>{this.#r.highlightSelection("floating_button")}),t}#s(t,e){let r=0,o=0;for(const i of t){const s=i.y+i.height;if(s<r)continue;const a=i.x+(e?i.width:0);s>r?(o=a,r=s):e?a>o&&(o=a):a<o&&(o=a)}return[e?1-o:o,r]}show(t,e,r){const[o,i]=this.#s(e,r),{style:s}=this.#t||=this.#n();t.append(this.#t),s.insetInlineEnd=100*o+"%",s.top=`calc(${100*i}% + var(--editor-toolbar-vert-offset))`}hide(){this.#t.remove()}#i(t,e,r,o){const i=document.createElement("button");i.classList.add("basic",t),i.tabIndex=0,i.setAttribute("data-l10n-id",e);const s=document.createElement("span");i.append(s),s.className="visuallyHidden",s.setAttribute("data-l10n-id",r);const a=this.#r._signal;a instanceof AbortSignal&&!a.aborted&&(i.addEventListener("contextmenu",Fo,{signal:a}),i.addEventListener("click",o,{signal:a})),this.#e.append(i)}}function dI(n,t,e){for(const r of e)t.addEventListener(r,n[r].bind(n))}class Pt{static#e=NaN;static#t=null;static#r=NaN;static#n=null;static initializeAndAddPointerId(t){(Pt.#t||=new Set).add(t)}static setPointer(t,e){Pt.#e||=e,Pt.#n??=t}static setTimeStamp(t){Pt.#r=t}static isSamePointerId(t){return Pt.#e===t}static isSamePointerIdOrRemove(t){return Pt.#e===t||(Pt.#t?.delete(t),!1)}static isSamePointerType(t){return Pt.#n===t}static isInitializedAndDifferentPointerType(t){return null!==Pt.#n&&!Pt.isSamePointerType(t)}static isSameTimeStamp(t){return Pt.#r===t}static isUsingMultiplePointers(){return Pt.#t?.size>=1}static clearPointerType(){Pt.#n=null}static clearPointerIds(){Pt.#e=NaN,Pt.#t=null}static clearTimeStamp(){Pt.#r=NaN}}class D7{#e=0;get id(){return`${Iu}${this.#e++}`}}class gy{#e=tI();#t=0;#r=null;static get _isSVGFittingCanvas(){const r=new OffscreenCanvas(1,3).getContext("2d",{willReadFrequently:!0}),o=new Image;return o.src='data:image/svg+xml;charset=UTF-8,<svg viewBox="0 0 1 1" width="1" height="1" xmlns="http://www.w3.org/2000/svg"><rect width="1" height="1" style="fill:red;"/></svg>',Ue(this,"_isSVGFittingCanvas",o.decode().then(()=>(r.drawImage(o,0,0,1,1,0,0,1,3),0===new Uint32Array(r.getImageData(0,0,1,1).data.buffer)[0])))}#n(t,e){var r=this;return B(function*(){r.#r||=new Map;let o=r.#r.get(t);if(null===o)return null;if(o?.bitmap)return o.refCounter+=1,o;try{let i;if(o||={bitmap:null,id:`image_${r.#e}_${r.#t++}`,refCounter:0,isSvg:!1},"string"==typeof e?(o.url=e,i=yield Nu(e,"blob")):e instanceof File?i=o.file=e:e instanceof Blob&&(i=e),"image/svg+xml"===i.type){const s=gy._isSVGFittingCanvas,a=new FileReader,l=new Image,c=new Promise((u,d)=>{l.onload=()=>{o.bitmap=l,o.isSvg=!0,u()},a.onload=B(function*(){const h=o.svgUrl=a.result;l.src=(yield s)?`${h}#svgView(preserveAspectRatio(none))`:h}),l.onerror=a.onerror=d});a.readAsDataURL(i),yield c}else o.bitmap=yield createImageBitmap(i);o.refCounter=1}catch(i){je(i),o=null}return r.#r.set(t,o),o&&r.#r.set(o.id,o),o})()}getFromFile(t){var e=this;return B(function*(){const{lastModified:r,name:o,size:i,type:s}=t;return e.#n(`${r}_${o}_${i}_${s}`,t)})()}getFromUrl(t){var e=this;return B(function*(){return e.#n(t,t)})()}getFromBlob(t,e){var r=this;return B(function*(){const o=yield e;return r.#n(t,o)})()}getFromId(t){var e=this;return B(function*(){e.#r||=new Map;const r=e.#r.get(t);if(!r)return null;if(r.bitmap)return r.refCounter+=1,r;if(r.file)return e.getFromFile(r.file);if(r.blobPromise){const{blobPromise:o}=r;return delete r.blobPromise,e.getFromBlob(r.id,o)}return e.getFromUrl(r.url)})()}getFromCanvas(t,e){this.#r||=new Map;let r=this.#r.get(t);if(r?.bitmap)return r.refCounter+=1,r;const o=new OffscreenCanvas(e.width,e.height);return o.getContext("2d").drawImage(e,0,0),r={bitmap:o.transferToImageBitmap(),id:`image_${this.#e}_${this.#t++}`,refCounter:1,isSvg:!1},this.#r.set(t,r),this.#r.set(r.id,r),r}getSvgUrl(t){const e=this.#r.get(t);return e?.isSvg?e.svgUrl:null}deleteId(t){this.#r||=new Map;const e=this.#r.get(t);if(!e||(e.refCounter-=1,0!==e.refCounter))return;const{bitmap:r}=e;if(!e.url&&!e.file){const o=new OffscreenCanvas(r.width,r.height);o.getContext("bitmaprenderer").transferFromImageBitmap(r),e.blobPromise=o.convertToBlob()}r.close?.(),e.bitmap=null}isValidId(t){return t.startsWith(`image_${this.#e}_`)}}class S7{#e=[];#t=!1;#r;#n=-1;constructor(t=128){this.#r=t}add({cmd:t,undo:e,post:r,mustExec:o,type:i=NaN,overwriteIfSameType:s=!1,keepUndo:a=!1}){if(o&&t(),this.#t)return;const l={cmd:t,undo:e,post:r,type:i};if(-1===this.#n)return this.#e.length>0&&(this.#e.length=0),this.#n=0,void this.#e.push(l);if(s&&this.#e[this.#n].type===i)return a&&(l.undo=this.#e[this.#n].undo),void(this.#e[this.#n]=l);const c=this.#n+1;c===this.#r?this.#e.splice(0,1):(this.#n=c,c<this.#e.length&&this.#e.splice(c)),this.#e.push(l)}undo(){if(-1===this.#n)return;this.#t=!0;const{undo:t,post:e}=this.#e[this.#n];t(),e?.(),this.#t=!1,this.#n-=1}redo(){if(this.#n<this.#e.length-1){this.#n+=1,this.#t=!0;const{cmd:t,post:e}=this.#e[this.#n];t(),e?.(),this.#t=!1}}hasSomethingToUndo(){return-1!==this.#n}hasSomethingToRedo(){return this.#n<this.#e.length-1}cleanType(t){if(-1!==this.#n){for(let e=this.#n;e>=0;e--)if(this.#e[e].type!==t)return this.#e.splice(e+1,this.#n-e),void(this.#n=e);this.#e.length=0,this.#n=-1}}destroy(){this.#e=null}}class Bu{constructor(t){this.buffer=[],this.callbacks=new Map,this.allKeys=new Set;const{isMac:e}=pr.platform;for(const[r,o,i={}]of t)for(const s of r){const a=s.startsWith("mac+");e&&a?(this.callbacks.set(s.slice(4),{callback:o,options:i}),this.allKeys.add(s.split("+").at(-1))):!e&&!a&&(this.callbacks.set(s,{callback:o,options:i}),this.allKeys.add(s.split("+").at(-1)))}}#e(t){t.altKey&&this.buffer.push("alt"),t.ctrlKey&&this.buffer.push("ctrl"),t.metaKey&&this.buffer.push("meta"),t.shiftKey&&this.buffer.push("shift"),this.buffer.push(t.key);const e=this.buffer.join("+");return this.buffer.length=0,e}exec(t,e){if(!this.allKeys.has(e.key))return;const r=this.callbacks.get(this.#e(e));if(!r)return;const{callback:o,options:{bubbles:i=!1,args:s=[],checker:a=null}}=r;a&&!a(t,e)||(o.bind(t,...s,e)(),i||Rn(e))}}class my{static _colorsMapping=new Map([["CanvasText",[0,0,0]],["Canvas",[255,255,255]]]);get _colors(){const t=new Map([["CanvasText",null],["Canvas",null]]);return function v7(n){const t=document.createElement("span");t.style.visibility="hidden",t.style.colorScheme="only light",document.body.append(t);for(const e of n.keys()){t.style.color=e;const r=window.getComputedStyle(t).color;n.set(e,Pu(r))}t.remove()}(t),Ue(this,"_colors",t)}convert(t){const e=Pu(t);if(!window.matchMedia("(forced-colors: active)").matches)return e;for(const[r,o]of this._colors)if(o.every((i,s)=>i===e[s]))return my._colorsMapping.get(r);return e}getHexCode(t){const e=this._colors.get(t);return e?he.makeHexColor(...e):t}}let Hu=(()=>{class n{#e=new AbortController;#t=null;#r=null;#n=new Map;#s=new Map;#i=null;#o=null;#a=null;#c=new S7;#l=null;#h=null;#d=null;#f=0;#m=new Set;#g=null;#u=null;#p=new Set;_editorUndoBar=null;#b=!1;#y=!1;#v=!1;#S=null;#E=null;#C=null;#T=null;#_=!1;#D=null;#x=new D7;#A=!1;#I=!1;#F=!1;#R=null;#O=null;#B=null;#L=null;#z=null;#k=We.NONE;#w=new Set;#N=null;#H=null;#$=null;#q=null;#G=null;#Y={isEditing:!1,isEmpty:!0,hasSomethingToUndo:!1,hasSomethingToRedo:!1,hasSelectedEditor:!1,hasSelectedText:!1};#U=[0,0];#P=null;#W=null;#Q=null;#J=null;#j=null;static TRANSLATE_SMALL=1;static TRANSLATE_BIG=10;static get _keyboardManager(){const e=n.prototype,r=a=>a.#W.contains(document.activeElement)&&"BUTTON"!==document.activeElement.tagName&&a.hasSomethingToControl(),o=(a,{target:l})=>{if(l instanceof HTMLInputElement){const{type:c}=l;return"text"!==c&&"number"!==c}return!0},i=this.TRANSLATE_SMALL,s=this.TRANSLATE_BIG;return Ue(this,"_keyboardManager",new Bu([[["ctrl+a","mac+meta+a"],e.selectAll,{checker:o}],[["ctrl+z","mac+meta+z"],e.undo,{checker:o}],[["ctrl+y","ctrl+shift+z","mac+meta+shift+z","ctrl+shift+Z","mac+meta+shift+Z"],e.redo,{checker:o}],[["Backspace","alt+Backspace","ctrl+Backspace","shift+Backspace","mac+Backspace","mac+alt+Backspace","mac+ctrl+Backspace","Delete","ctrl+Delete","shift+Delete","mac+Delete"],e.delete,{checker:o}],[["Enter","mac+Enter"],e.addNewEditorFromKeyboard,{checker:(a,{target:l})=>!(l instanceof HTMLButtonElement)&&a.#W.contains(l)&&!a.isEnterHandled}],[[" ","mac+ "],e.addNewEditorFromKeyboard,{checker:(a,{target:l})=>!(l instanceof HTMLButtonElement)&&a.#W.contains(document.activeElement)}],[["Escape","mac+Escape"],e.unselectAll],[["ArrowLeft","mac+ArrowLeft"],e.translateSelectedEditors,{args:[-i,0],checker:r}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],e.translateSelectedEditors,{args:[-s,0],checker:r}],[["ArrowRight","mac+ArrowRight"],e.translateSelectedEditors,{args:[i,0],checker:r}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],e.translateSelectedEditors,{args:[s,0],checker:r}],[["ArrowUp","mac+ArrowUp"],e.translateSelectedEditors,{args:[0,-i],checker:r}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],e.translateSelectedEditors,{args:[0,-s],checker:r}],[["ArrowDown","mac+ArrowDown"],e.translateSelectedEditors,{args:[0,i],checker:r}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],e.translateSelectedEditors,{args:[0,s],checker:r}]]))}constructor(e,r,o,i,s,a,l,c,u,d,h,f,p,g,m,b){const v=this._signal=this.#e.signal;this.#W=e,this.#Q=r,this.#J=o,this.#i=i,this.#l=s,this.#H=a,this.#G=c,this._eventBus=l,l._on("editingaction",this.onEditingAction.bind(this),{signal:v}),l._on("pagechanging",this.onPageChanging.bind(this),{signal:v}),l._on("scalechanging",this.onScaleChanging.bind(this),{signal:v}),l._on("rotationchanging",this.onRotationChanging.bind(this),{signal:v}),l._on("setpreference",this.onSetPreference.bind(this),{signal:v}),l._on("switchannotationeditorparams",y=>this.updateParams(y.type,y.value),{signal:v}),window.addEventListener("pointerdown",()=>{this.#I=!0},{capture:!0,signal:v}),window.addEventListener("pointerup",()=>{this.#I=!1},{capture:!0,signal:v}),this.#se(),this.#he(),this.#te(),this.#o=c.annotationStorage,this.#S=c.filterFactory,this.#$=u,this.#T=d||null,this.#b=h,this.#y=f,this.#v=p,this.#z=g||null,this.viewParameters={realScale:Gl.PDF_TO_CSS_UNITS,rotation:0},this.isShiftKeyDown=!1,this._editorUndoBar=m||null,this._supportsPinchToZoom=!1!==b,s?.setSidebarUiManager(this)}destroy(){this.#j?.resolve(),this.#j=null,this.#e?.abort(),this.#e=null,this._signal=null;for(const e of this.#s.values())e.destroy();this.#s.clear(),this.#n.clear(),this.#p.clear(),this.#L?.clear(),this.#t=null,this.#w.clear(),this.#c.destroy(),this.#i?.destroy(),this.#l?.destroy(),this.#H?.destroy(),this.#D?.hide(),this.#D=null,this.#B?.destroy(),this.#B=null,this.#r=null,this.#E&&(clearTimeout(this.#E),this.#E=null),this.#P&&(clearTimeout(this.#P),this.#P=null),this._editorUndoBar?.destroy(),this.#G=null}combinedSignal(e){return AbortSignal.any([this._signal,e.signal])}get mlManager(){return this.#z}get useNewAltTextFlow(){return this.#y}get useNewAltTextWhenAddingImage(){return this.#v}get hcmFilter(){return Ue(this,"hcmFilter",this.#$?this.#S.addHCMFilter(this.#$.foreground,this.#$.background):"none")}get direction(){return Ue(this,"direction",getComputedStyle(this.#W).direction)}get _highlightColors(){return Ue(this,"_highlightColors",this.#T?new Map(this.#T.split(",").map(e=>((e=e.split("=").map(r=>r.trim()))[1]=e[1].toUpperCase(),e))):null)}get highlightColors(){const{_highlightColors:e}=this;if(!e)return Ue(this,"highlightColors",null);const r=new Map,o=!!this.#$;for(const[i,s]of e){const a=i.endsWith("_HCM");o&&a?r.set(i.replace("_HCM",""),s):!o&&!a&&r.set(i,s)}return Ue(this,"highlightColors",r)}get highlightColorNames(){return Ue(this,"highlightColorNames",this.highlightColors?new Map(Array.from(this.highlightColors,e=>e.reverse())):null)}getNonHCMColor(e){if(!this._highlightColors)return e;const r=this.highlightColorNames.get(e);return this._highlightColors.get(r)||e}getNonHCMColorName(e){return this.highlightColorNames.get(e)||e}setCurrentDrawingSession(e){e?(this.unselectAll(),this.disableUserSelect(!0)):this.disableUserSelect(!1),this.#d=e}setMainHighlightColorPicker(e){this.#B=e}editAltText(e,r=!1){this.#i?.editAltText(this,e,r)}hasCommentManager(){return!!this.#l}editComment(e,r,o,i){this.#l?.showDialog(this,e,r,o,i)}selectComment(e,r){this.#s.get(e)?.getEditorByUID(r)?.toggleComment(!0,!0)}updateComment(e){this.#l?.updateComment(e.getData())}updatePopupColor(e){this.#l?.updatePopupColor(e)}removeComment(e){this.#l?.removeComments([e.uid])}toggleComment(e,r,o=void 0){this.#l?.toggleCommentPopup(e,r,o)}makeCommentColor(e,r){return e&&this.#l?.makeCommentColor(e,r)||null}getCommentDialogElement(){return this.#l?.dialogElement||null}waitForEditorsRendered(e){var r=this;return B(function*(){if(r.#s.has(e-1))return;const{resolve:o,promise:i}=Promise.withResolvers(),s=a=>{a.pageNumber===e&&(r._eventBus._off("editorsrendered",s),o())};r._eventBus.on("editorsrendered",s),yield i})()}getSignature(e){this.#H?.getSignature({uiManager:this,editor:e})}get signatureManager(){return this.#H}switchToMode(e,r){this._eventBus.on("annotationeditormodechanged",r,{once:!0,signal:this._signal}),this._eventBus.dispatch("showannotationeditorui",{source:this,mode:e})}setPreference(e,r){this._eventBus.dispatch("setpreference",{source:this,name:e,value:r})}onSetPreference({name:e,value:r}){"enableNewAltTextWhenAddingImage"===e&&(this.#v=r)}onPageChanging({pageNumber:e}){this.#f=e-1}focusMainContainer(){this.#W.focus()}findParent(e,r){for(const o of this.#s.values()){const{x:i,y:s,width:a,height:l}=o.div.getBoundingClientRect();if(e>=i&&e<=i+a&&r>=s&&r<=s+l)return o}return null}disableUserSelect(e=!1){this.#Q.classList.toggle("noUserSelect",e)}addShouldRescale(e){this.#p.add(e)}removeShouldRescale(e){this.#p.delete(e)}onScaleChanging({scale:e}){this.commitOrRemove(),this.viewParameters.realScale=e*Gl.PDF_TO_CSS_UNITS;for(const r of this.#p)r.onScaleChanging();this.#d?.onScaleChanging()}onRotationChanging({pagesRotation:e}){this.commitOrRemove(),this.viewParameters.rotation=e}#Z({anchorNode:e}){return e.nodeType===Node.TEXT_NODE?e.parentElement:e}#ee(e){const{currentLayer:r}=this;if(r.hasTextLayer(e))return r;for(const o of this.#s.values())if(o.hasTextLayer(e))return o;return null}highlightSelection(e="",r=!1){const o=document.getSelection();if(!o||o.isCollapsed)return;const{anchorNode:i,anchorOffset:s,focusNode:a,focusOffset:l}=o,c=o.toString(),d=this.#Z(o).closest(".textLayer"),h=this.getSelectionBoxes(d);if(!h)return;o.empty();const f=this.#ee(d),p=this.#k===We.NONE,g=()=>{const m=f?.createAndAddNewEditor({x:0,y:0},!1,{methodOfCreation:e,boxes:h,anchorNode:i,anchorOffset:s,focusNode:a,focusOffset:l,text:c});p&&this.showAllEditors("highlight",!0,!0),r&&m?.editComment()};p?this.switchToMode(We.HIGHLIGHT,g):g()}commentSelection(e=""){this.highlightSelection(e,!0)}#oe(){const e=document.getSelection();if(!e||e.isCollapsed)return;const o=this.#Z(e).closest(".textLayer"),i=this.getSelectionBoxes(o);i&&(this.#D||=new E7(this),this.#D.show(o,i,"ltr"===this.direction))}getAndRemoveDataFromAnnotationStorage(e){if(!this.#o)return null;const r=`${Iu}${e}`,o=this.#o.getRawValue(r);return o&&this.#o.remove(r),o}addToAnnotationStorage(e){!e.isEmpty()&&this.#o&&!this.#o.has(e.id)&&this.#o.setValue(e.id,e)}a11yAlert(e,r=null){const o=this.#J;o&&(o.setAttribute("data-l10n-id",e),r?o.setAttribute("data-l10n-args",JSON.stringify(r)):o.removeAttribute("data-l10n-args"))}#ie(){const e=document.getSelection();if(!e||e.isCollapsed)return void(this.#N&&(this.#D?.hide(),this.#N=null,this.#M({hasSelectedText:!1})));const{anchorNode:r}=e;if(r===this.#N)return;const i=this.#Z(e).closest(".textLayer");if(i){if(this.#D?.hide(),this.#N=r,this.#M({hasSelectedText:!0}),(this.#k===We.HIGHLIGHT||this.#k===We.NONE)&&(this.#k===We.HIGHLIGHT&&this.showAllEditors("highlight",!0,!0),this.#_=this.isShiftKeyDown,!this.isShiftKeyDown)){const s=this.#k===We.HIGHLIGHT?this.#ee(i):null;if(s?.toggleDrawing(),this.#I){const a=new AbortController,l=this.combinedSignal(a),c=u=>{"pointerup"===u.type&&0!==u.button||(a.abort(),s?.toggleDrawing(!0),"pointerup"===u.type&&this.#K("main_toolbar"))};window.addEventListener("pointerup",c,{signal:l}),window.addEventListener("blur",c,{signal:l})}else s?.toggleDrawing(!0),this.#K("main_toolbar")}}else this.#N&&(this.#D?.hide(),this.#N=null,this.#M({hasSelectedText:!1}))}#K(e=""){this.#k===We.HIGHLIGHT?this.highlightSelection(e):this.#b&&this.#oe()}#se(){document.addEventListener("selectionchange",this.#ie.bind(this),{signal:this._signal})}#ae(){if(this.#C)return;this.#C=new AbortController;const e=this.combinedSignal(this.#C);window.addEventListener("focus",this.focus.bind(this),{signal:e}),window.addEventListener("blur",this.blur.bind(this),{signal:e})}#le(){this.#C?.abort(),this.#C=null}blur(){if(this.isShiftKeyDown=!1,this.#_&&(this.#_=!1,this.#K("main_toolbar")),!this.hasSelection)return;const{activeElement:e}=document;for(const r of this.#w)if(r.div.contains(e)){this.#O=[r,e],r._focusEventsAllowed=!1;break}}focus(){if(!this.#O)return;const[e,r]=this.#O;this.#O=null,r.addEventListener("focusin",()=>{e._focusEventsAllowed=!0},{once:!0,signal:this._signal}),r.focus()}#te(){if(this.#R)return;this.#R=new AbortController;const e=this.combinedSignal(this.#R);window.addEventListener("keydown",this.keydown.bind(this),{signal:e}),window.addEventListener("keyup",this.keyup.bind(this),{signal:e})}#ce(){this.#R?.abort(),this.#R=null}#ue(){if(this.#h)return;this.#h=new AbortController;const e=this.combinedSignal(this.#h);document.addEventListener("copy",this.copy.bind(this),{signal:e}),document.addEventListener("cut",this.cut.bind(this),{signal:e}),document.addEventListener("paste",this.paste.bind(this),{signal:e})}#de(){this.#h?.abort(),this.#h=null}#he(){const e=this._signal;document.addEventListener("dragover",this.dragOver.bind(this),{signal:e}),document.addEventListener("drop",this.drop.bind(this),{signal:e})}addEditListeners(){this.#te(),this.setEditingState(!0)}removeEditListeners(){this.#ce(),this.setEditingState(!1)}dragOver(e){for(const{type:r}of e.dataTransfer.items)for(const o of this.#u)if(o.isHandlingMimeForPasting(r))return e.dataTransfer.dropEffect="copy",void e.preventDefault()}drop(e){for(const r of e.dataTransfer.items)for(const o of this.#u)if(o.isHandlingMimeForPasting(r.type))return o.paste(r,this.currentLayer),void e.preventDefault()}copy(e){if(e.preventDefault(),this.#t?.commitOrRemove(),!this.hasSelection)return;const r=[];for(const o of this.#w){const i=o.serialize(!0);i&&r.push(i)}0!==r.length&&e.clipboardData.setData("application/pdfjs",JSON.stringify(r))}cut(e){this.copy(e),this.delete()}paste(e){var r=this;return B(function*(){e.preventDefault();const{clipboardData:o}=e;for(const a of o.items)for(const l of r.#u)if(l.isHandlingMimeForPasting(a.type))return void l.paste(a,r.currentLayer);let i=o.getData("application/pdfjs");if(!i)return;try{i=JSON.parse(i)}catch(a){return void je(`paste: "${a.message}".`)}if(!Array.isArray(i))return;r.unselectAll();const s=r.currentLayer;try{const a=[];for(const u of i){const d=yield s.deserialize(u);if(!d)return;a.push(d)}const l=()=>{for(const u of a)r.#ne(u);r.#re(a)};r.addCommands({cmd:l,undo:()=>{for(const u of a)u.remove()},mustExec:!0})}catch(a){je(`paste: "${a.message}".`)}})()}keydown(e){!this.isShiftKeyDown&&"Shift"===e.key&&(this.isShiftKeyDown=!0),this.#k!==We.NONE&&!this.isEditorHandlingKeyboard&&n._keyboardManager.exec(this,e)}keyup(e){this.isShiftKeyDown&&"Shift"===e.key&&(this.isShiftKeyDown=!1,this.#_&&(this.#_=!1,this.#K("main_toolbar")))}onEditingAction({name:e}){switch(e){case"undo":case"redo":case"delete":case"selectAll":this[e]();break;case"highlightSelection":this.highlightSelection("context_menu");break;case"commentSelection":this.commentSelection("context_menu")}}#M(e){Object.entries(e).some(([o,i])=>this.#Y[o]!==i)&&(this._eventBus.dispatch("annotationeditorstateschanged",{source:this,details:Object.assign(this.#Y,e)}),this.#k===We.HIGHLIGHT&&!1===e.hasSelectedEditor&&this.#V([[bt.HIGHLIGHT_FREE,!0]]))}#V(e){this._eventBus.dispatch("annotationeditorparamschanged",{source:this,details:e})}setEditingState(e){e?(this.#ae(),this.#ue(),this.#M({isEditing:this.#k!==We.NONE,isEmpty:this.#X(),hasSomethingToUndo:this.#c.hasSomethingToUndo(),hasSomethingToRedo:this.#c.hasSomethingToRedo(),hasSelectedEditor:!1})):(this.#le(),this.#de(),this.#M({isEditing:!1}),this.disableUserSelect(!1))}registerEditorTypes(e){if(!this.#u){this.#u=e;for(const r of this.#u)this.#V(r.defaultPropertiesToUpdate)}}getId(){return this.#x.id}get currentLayer(){return this.#s.get(this.#f)}getLayer(e){return this.#s.get(e)}get currentPageIndex(){return this.#f}addLayer(e){this.#s.set(e.pageIndex,e),this.#A?e.enable():e.disable()}removeLayer(e){this.#s.delete(e.pageIndex)}updateMode(e){var r=this;return B(function*(o,i=null,s=!1,a=!1,l=!1){if(r.#k!==o&&(!r.#j||(yield r.#j.promise,r.#j))){if(r.#j=Promise.withResolvers(),r.#d?.commitOrRemove(),r.#k===We.POPUP&&r.#l?.hideSidebar(),r.#l?.destroyPopup(),r.#k=o,o===We.NONE){r.setEditingState(!1),r.#pe();for(const c of r.#n.values())c.hideStandaloneCommentButton();return r._editorUndoBar?.hide(),r.toggleComment(null),void r.#j.resolve()}for(const c of r.#n.values())c.addStandaloneCommentButton();o===We.SIGNATURE&&(yield r.#H?.loadSignatures()),r.setEditingState(!0),yield r.#fe(),r.unselectAll();for(const c of r.#s.values())c.updateMode(o);if(o===We.POPUP){r.#r||=(yield r.#G.getAnnotationsByType(new Set(r.#u.map(d=>d._editorType))));const c=new Set,u=[];for(const d of r.#n.values()){const{annotationElementId:h,hasComment:f,deleted:p}=d;h&&c.add(h),f&&!p&&u.push(d.getData())}for(const d of r.#r){const{id:h,popupRef:f,contentsObj:p}=d;f&&p?.str&&!c.has(h)&&!r.#m.has(h)&&u.push(d)}r.#l?.showSidebar(u)}if(!i)return s&&r.addNewEditorFromKeyboard(),void r.#j.resolve();for(const c of r.#n.values())c.uid===i?(r.setSelected(c),l?c.editComment():a?c.enterInEditMode():c.focus()):c.unselect();r.#j.resolve()}}).apply(this,arguments)}addNewEditorFromKeyboard(){this.currentLayer.canCreateNewEmptyEditor()&&this.currentLayer.addNewEditor()}updateToolbar(e){e.mode!==this.#k&&this._eventBus.dispatch("switchannotationeditormode",{source:this,...e})}updateParams(e,r){if(this.#u){switch(e){case bt.CREATE:return void this.currentLayer.addNewEditor(r);case bt.HIGHLIGHT_SHOW_ALL:this._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:{type:"highlight",action:"toggle_visibility"}}}),(this.#q||=new Map).set(e,r),this.showAllEditors("highlight",r)}if(this.hasSelection)for(const o of this.#w)o.updateParams(e,r);else for(const o of this.#u)o.updateDefaultParams(e,r)}}showAllEditors(e,r,o=!1){for(const s of this.#n.values())s.editorType===e&&s.show(r);(this.#q?.get(bt.HIGHLIGHT_SHOW_ALL)??!0)!==r&&this.#V([[bt.HIGHLIGHT_SHOW_ALL,r]])}enableWaiting(e=!1){if(this.#F!==e){this.#F=e;for(const r of this.#s.values())e?r.disableClick():r.enableClick(),r.div.classList.toggle("waiting",e)}}#fe(){var e=this;return B(function*(){if(!e.#A){e.#A=!0;const r=[];for(const o of e.#s.values())r.push(o.enable());yield Promise.all(r);for(const o of e.#n.values())o.enable()}})()}#pe(){if(this.unselectAll(),this.#A){this.#A=!1;for(const e of this.#s.values())e.disable();for(const e of this.#n.values())e.disable()}}*getEditors(e){for(const r of this.#n.values())r.pageIndex===e&&(yield r)}getEditor(e){return this.#n.get(e)}addEditor(e){this.#n.set(e.id,e)}removeEditor(e){e.div.contains(document.activeElement)&&(this.#E&&clearTimeout(this.#E),this.#E=setTimeout(()=>{this.focusMainContainer(),this.#E=null},0)),this.#n.delete(e.id),e.annotationElementId&&this.#L?.delete(e.annotationElementId),this.unselect(e),(!e.annotationElementId||!this.#m.has(e.annotationElementId))&&this.#o?.remove(e.id)}addDeletedAnnotationElement(e){this.#m.add(e.annotationElementId),this.addChangedExistingAnnotation(e),e.deleted=!0}isDeletedAnnotationElement(e){return this.#m.has(e)}removeDeletedAnnotationElement(e){this.#m.delete(e.annotationElementId),this.removeChangedExistingAnnotation(e),e.deleted=!1}#ne(e){const r=this.#s.get(e.pageIndex);r?r.addOrRebuild(e):(this.addEditor(e),this.addToAnnotationStorage(e))}setActiveEditor(e){this.#t!==e&&(this.#t=e,e&&this.#V(e.propertiesToUpdate))}get#ge(){let e=null;for(e of this.#w);return e}updateUI(e){this.#ge===e&&this.#V(e.propertiesToUpdate)}updateUIForDefaultProperties(e){this.#V(e.defaultPropertiesToUpdate)}toggleSelected(e){if(this.#w.has(e))return this.#w.delete(e),e.unselect(),void this.#M({hasSelectedEditor:this.hasSelection});this.#w.add(e),e.select(),this.#V(e.propertiesToUpdate),this.#M({hasSelectedEditor:!0})}setSelected(e){this.updateToolbar({mode:e.mode,editId:e.uid}),this.#d?.commitOrRemove();for(const r of this.#w)r!==e&&r.unselect();this.#w.clear(),this.#w.add(e),e.select(),this.#V(e.propertiesToUpdate),this.#M({hasSelectedEditor:!0})}isSelected(e){return this.#w.has(e)}get firstSelectedEditor(){return this.#w.values().next().value}unselect(e){e.unselect(),this.#w.delete(e),this.#M({hasSelectedEditor:this.hasSelection})}get hasSelection(){return 0!==this.#w.size}get isEnterHandled(){return 1===this.#w.size&&this.firstSelectedEditor.isEnterHandled}undo(){this.#c.undo(),this.#M({hasSomethingToUndo:this.#c.hasSomethingToUndo(),hasSomethingToRedo:!0,isEmpty:this.#X()}),this._editorUndoBar?.hide()}redo(){this.#c.redo(),this.#M({hasSomethingToUndo:!0,hasSomethingToRedo:this.#c.hasSomethingToRedo(),isEmpty:this.#X()})}addCommands(e){this.#c.add(e),this.#M({hasSomethingToUndo:!0,hasSomethingToRedo:!1,isEmpty:this.#X()})}cleanUndoStack(e){this.#c.cleanType(e)}#X(){if(0===this.#n.size)return!0;if(1===this.#n.size)for(const e of this.#n.values())return e.isEmpty();return!1}delete(){this.commitOrRemove();const e=this.currentLayer?.endDrawingSession(!0);if(!this.hasSelection&&!e)return;const r=e?[e]:[...this.#w],i=()=>{for(const s of r)this.#ne(s)};this.addCommands({cmd:()=>{this._editorUndoBar?.show(i,1===r.length?r[0].editorType:r.length);for(const s of r)s.remove()},undo:i,mustExec:!0})}commitOrRemove(){this.#t?.commitOrRemove()}hasSomethingToControl(){return this.#t||this.hasSelection}#re(e){for(const r of this.#w)r.unselect();this.#w.clear();for(const r of e)r.isEmpty()||(this.#w.add(r),r.select());this.#M({hasSelectedEditor:this.hasSelection})}selectAll(){for(const e of this.#w)e.commit();this.#re(this.#n.values())}unselectAll(){if((!this.#t||(this.#t.commitOrRemove(),this.#k===We.NONE))&&!this.#d?.commitOrRemove()&&this.hasSelection){for(const e of this.#w)e.unselect();this.#w.clear(),this.#M({hasSelectedEditor:!1})}}translateSelectedEditors(e,r,o=!1){if(o||this.commitOrRemove(),!this.hasSelection)return;this.#U[0]+=e,this.#U[1]+=r;const[i,s]=this.#U,a=[...this.#w];this.#P&&clearTimeout(this.#P),this.#P=setTimeout(()=>{this.#P=null,this.#U[0]=this.#U[1]=0,this.addCommands({cmd:()=>{for(const c of a)this.#n.has(c.id)&&(c.translateInPage(i,s),c.translationDone())},undo:()=>{for(const c of a)this.#n.has(c.id)&&(c.translateInPage(-i,-s),c.translationDone())},mustExec:!1})},1e3);for(const c of a)c.translateInPage(e,r),c.translationDone()}setUpDragSession(){if(this.hasSelection){this.disableUserSelect(!0),this.#g=new Map;for(const e of this.#w)this.#g.set(e,{savedX:e.x,savedY:e.y,savedPageIndex:e.pageIndex,newX:0,newY:0,newPageIndex:-1})}}endDragSession(){if(!this.#g)return!1;this.disableUserSelect(!1);const e=this.#g;this.#g=null;let r=!1;for(const[{x:i,y:s,pageIndex:a},l]of e)l.newX=i,l.newY=s,l.newPageIndex=a,r||=i!==l.savedX||s!==l.savedY||a!==l.savedPageIndex;if(!r)return!1;const o=(i,s,a,l)=>{if(this.#n.has(i.id)){const c=this.#s.get(l);c?i._setParentAndPosition(c,s,a):(i.pageIndex=l,i.x=s,i.y=a)}};return this.addCommands({cmd:()=>{for(const[i,{newX:s,newY:a,newPageIndex:l}]of e)o(i,s,a,l)},undo:()=>{for(const[i,{savedX:s,savedY:a,savedPageIndex:l}]of e)o(i,s,a,l)},mustExec:!0}),!0}dragSelectedEditors(e,r){if(this.#g)for(const o of this.#g.keys())o.drag(e,r)}rebuild(e){if(null===e.parent){const r=this.getLayer(e.pageIndex);r?(r.changeParent(e),r.addOrRebuild(e)):(this.addEditor(e),this.addToAnnotationStorage(e),e.rebuild())}else e.parent.addOrRebuild(e)}get isEditorHandlingKeyboard(){return this.getActive()?.shouldGetKeyboardEvents()||1===this.#w.size&&this.firstSelectedEditor.shouldGetKeyboardEvents()}isActive(e){return this.#t===e}getActive(){return this.#t}getMode(){return this.#k}isEditingMode(){return this.#k!==We.NONE}get imageManager(){return Ue(this,"imageManager",new gy)}getSelectionBoxes(e){if(!e)return null;const r=document.getSelection();for(let u=0,d=r.rangeCount;u<d;u++)if(!e.contains(r.getRangeAt(u).commonAncestorContainer))return null;const{x:o,y:i,width:s,height:a}=e.getBoundingClientRect();let l;switch(e.getAttribute("data-main-rotation")){case"90":l=(u,d,h,f)=>({x:(d-i)/a,y:1-(u+h-o)/s,width:f/a,height:h/s});break;case"180":l=(u,d,h,f)=>({x:1-(u+h-o)/s,y:1-(d+f-i)/a,width:h/s,height:f/a});break;case"270":l=(u,d,h,f)=>({x:1-(d+f-i)/a,y:(u-o)/s,width:f/a,height:h/s});break;default:l=(u,d,h,f)=>({x:(u-o)/s,y:(d-i)/a,width:h/s,height:f/a})}const c=[];for(let u=0,d=r.rangeCount;u<d;u++){const h=r.getRangeAt(u);if(!h.collapsed)for(const{x:f,y:p,width:g,height:m}of h.getClientRects())0===g||0===m||c.push(l(f,p,g,m))}return 0===c.length?null:c}addChangedExistingAnnotation({annotationElementId:e,id:r}){(this.#a||=new Map).set(e,r)}removeChangedExistingAnnotation({annotationElementId:e}){this.#a?.delete(e)}renderAnnotationElement(e){const r=this.#a?.get(e.data.id);if(!r)return;const o=this.#o.getRawValue(r);o&&(this.#k===We.NONE&&!o.hasBeenModified||o.renderAnnotationElement(e))}setMissingCanvas(e,r,o){const i=this.#L?.get(e);i&&(i.setCanvas(r,o),this.#L.delete(e))}addMissingCanvas(e,r){(this.#L||=new Map).set(e,r)}}return n})(),hI=(()=>{class n{#e=null;#t=!1;#r=null;#n=null;#s=null;#i=null;#o=!1;#a=null;#c=null;#l=null;#h=null;#d=!1;static#f=null;static _l10n=null;constructor(e){this.#c=e,this.#d=e._uiManager.useNewAltTextFlow,n.#f||=Object.freeze({added:"pdfjs-editor-new-alt-text-added-button","added-label":"pdfjs-editor-new-alt-text-added-button-label",missing:"pdfjs-editor-new-alt-text-missing-button","missing-label":"pdfjs-editor-new-alt-text-missing-button-label",review:"pdfjs-editor-new-alt-text-to-review-button","review-label":"pdfjs-editor-new-alt-text-to-review-button-label"})}static initialize(e){n._l10n??=e}render(){var e=this;return B(function*(){const r=e.#r=document.createElement("button");r.className="altText",r.tabIndex="0";const o=e.#n=document.createElement("span");r.append(o),e.#d?(r.classList.add("new"),r.setAttribute("data-l10n-id",n.#f.missing),o.setAttribute("data-l10n-id",n.#f["missing-label"])):(r.setAttribute("data-l10n-id","pdfjs-editor-alt-text-button"),o.setAttribute("data-l10n-id","pdfjs-editor-alt-text-button-label"));const i=e.#c._uiManager._signal;r.addEventListener("contextmenu",Fo,{signal:i}),r.addEventListener("pointerdown",a=>a.stopPropagation(),{signal:i});const s=a=>{a.preventDefault(),e.#c._uiManager.editAltText(e.#c),e.#d&&e.#c._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_clicked",data:{label:e.#m}})};return r.addEventListener("click",s,{capture:!0,signal:i}),r.addEventListener("keydown",a=>{a.target===r&&"Enter"===a.key&&(e.#o=!0,s(a))},{signal:i}),yield e.#g(),r})()}get#m(){return(this.#e?"added":null===this.#e&&this.guessedText&&"review")||"missing"}finish(){this.#r&&(this.#r.focus({focusVisible:this.#o}),this.#o=!1)}isEmpty(){return this.#d?null===this.#e:!this.#e&&!this.#t}hasData(){return this.#d?null!==this.#e||!!this.#l:this.isEmpty()}get guessedText(){return this.#l}setGuessedText(e){var r=this;return B(function*(){null===r.#e&&(r.#l=e,r.#h=yield n._l10n.get("pdfjs-editor-new-alt-text-generated-alt-text-with-disclaimer",{generatedAltText:e}),r.#g())})()}toggleAltTextBadge(e=!1){if(!this.#d||this.#e)return this.#a?.remove(),void(this.#a=null);if(!this.#a){const r=this.#a=document.createElement("div");r.className="noAltTextBadge",this.#c.div.append(r)}this.#a.classList.toggle("hidden",!e)}serialize(e){let r=this.#e;return!e&&this.#l===r&&(r=this.#h),{altText:r,decorative:this.#t,guessedText:this.#l,textWithDisclaimer:this.#h}}get data(){return{altText:this.#e,decorative:this.#t}}set data({altText:e,decorative:r,guessedText:o,textWithDisclaimer:i,cancel:s=!1}){o&&(this.#l=o,this.#h=i),(this.#e!==e||this.#t!==r)&&(s||(this.#e=e,this.#t=r),this.#g())}toggle(e=!1){this.#r&&(!e&&this.#i&&(clearTimeout(this.#i),this.#i=null),this.#r.disabled=!e)}shown(){this.#c._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_displayed",data:{label:this.#m}})}destroy(){this.#r?.remove(),this.#r=null,this.#n=null,this.#s=null,this.#a?.remove(),this.#a=null}#g(){var e=this;return B(function*(){const r=e.#r;if(!r)return;if(e.#d){if(r.classList.toggle("done",!!e.#e),r.setAttribute("data-l10n-id",n.#f[e.#m]),e.#n?.setAttribute("data-l10n-id",n.#f[`${e.#m}-label`]),!e.#e)return void e.#s?.remove()}else{if(!e.#e&&!e.#t)return r.classList.remove("done"),void e.#s?.remove();r.classList.add("done"),r.setAttribute("data-l10n-id","pdfjs-editor-alt-text-edit-button")}let o=e.#s;if(!o){e.#s=o=document.createElement("span"),o.className="tooltip",o.setAttribute("role","tooltip"),o.id=`alt-text-tooltip-${e.#c.id}`;const s=100,a=e.#c._uiManager._signal;a.addEventListener("abort",()=>{clearTimeout(e.#i),e.#i=null},{once:!0}),r.addEventListener("mouseenter",()=>{e.#i=setTimeout(()=>{e.#i=null,e.#s.classList.add("show"),e.#c._reportTelemetry({action:"alt_text_tooltip"})},s)},{signal:a}),r.addEventListener("mouseleave",()=>{e.#i&&(clearTimeout(e.#i),e.#i=null),e.#s?.classList.remove("show")},{signal:a})}e.#t?o.setAttribute("data-l10n-id","pdfjs-editor-alt-text-decorative-tooltip"):(o.removeAttribute("data-l10n-id"),o.textContent=e.#e),o.parentNode||r.append(o),e.#c.getElementForAltText()?.setAttribute("aria-describedby",o.id)})()}}return n})();class ip{#e=null;#t=null;#r=!1;#n=null;#s=null;#i=null;#o=null;#a=null;#c=!1;#l=null;constructor(t){this.#n=t}renderForToolbar(){const t=this.#t=document.createElement("button");return t.className="comment",this.#h(t,!1)}renderForStandalone(){const t=this.#e=document.createElement("button");t.className="annotationCommentButton";const e=this.#n.commentButtonPosition;if(e){const{style:r}=t;r.insetInlineEnd=`calc(${100*("ltr"===this.#n._uiManager.direction?1-e[0]:e[0])}% - var(--comment-button-dim))`,r.top=`calc(${100*e[1]}% - var(--comment-button-dim))`;const o=this.#n.commentButtonColor;o&&(r.backgroundColor=o)}return this.#h(t,!0)}focusButton(){setTimeout(()=>{(this.#e??this.#t)?.focus()},0)}onUpdatedColor(){if(!this.#e)return;const t=this.#n.commentButtonColor;t&&(this.#e.style.backgroundColor=t),this.#n._uiManager.updatePopupColor(this.#n)}get commentButtonWidth(){return(this.#e?.getBoundingClientRect().width??0)/this.#n.parent.boundingClientRect.width}get commentPopupPositionInLayer(){if(this.#l)return this.#l;if(!this.#e)return null;const{x:t,y:e,height:r}=this.#e.getBoundingClientRect(),{x:o,y:i,width:s,height:a}=this.#n.parent.boundingClientRect;return[(t-o)/s,(e+r-i)/a]}set commentPopupPositionInLayer(t){this.#l=t}hasDefaultPopupPosition(){return null===this.#l}removeStandaloneCommentButton(){this.#e?.remove(),this.#e=null}removeToolbarCommentButton(){this.#t?.remove(),this.#t=null}setCommentButtonStates({selected:t,hasPopup:e}){this.#e&&(this.#e.classList.toggle("selected",t),this.#e.ariaExpanded=e)}#h(t,e){if(!this.#n._uiManager.hasCommentManager())return null;t.tabIndex="0",t.ariaHasPopup="dialog",e?(t.ariaControls="commentPopup",t.setAttribute("data-l10n-id","pdfjs-show-comment-button")):(t.ariaControlsElements=[this.#n._uiManager.getCommentDialogElement()],t.setAttribute("data-l10n-id","pdfjs-editor-add-comment-button"));const r=this.#n._uiManager._signal;if(!(r instanceof AbortSignal)||r.aborted)return t;t.addEventListener("contextmenu",Fo,{signal:r}),e&&(t.addEventListener("focusin",i=>{this.#n._focusEventsAllowed=!1,Rn(i)},{capture:!0,signal:r}),t.addEventListener("focusout",i=>{this.#n._focusEventsAllowed=!0,Rn(i)},{capture:!0,signal:r})),t.addEventListener("pointerdown",i=>i.stopPropagation(),{signal:r});const o=i=>{i.preventDefault(),t===this.#t?this.edit():this.#n.toggleComment(!0)};return t.addEventListener("click",o,{capture:!0,signal:r}),t.addEventListener("keydown",i=>{i.target===t&&"Enter"===i.key&&(this.#r=!0,o(i))},{signal:r}),t.addEventListener("pointerenter",()=>{this.#n.toggleComment(!1,!0)},{signal:r}),t.addEventListener("pointerleave",()=>{this.#n.toggleComment(!1,!1)},{signal:r}),t}edit(t){const e=this.commentPopupPositionInLayer;let r,o;if(e)[r,o]=e;else{[r,o]=this.#n.commentButtonPosition;const{width:u,height:d,x:h,y:f}=this.#n;r=h+r*u,o=f+o*d}const i=this.#n.parent.boundingClientRect,{x:s,y:a,width:l,height:c}=i;this.#n._uiManager.editComment(this.#n,s+r*l,a+o*c,{...t,parentDimensions:i})}finish(){this.#t&&(this.#t.focus({focusVisible:this.#r}),this.#r=!1)}isDeleted(){return this.#c||""===this.#o}isEmpty(){return null===this.#o}hasBeenEdited(){return this.isDeleted()||this.#o!==this.#s}serialize(){return this.data}get data(){return{text:this.#o,richText:this.#i,date:this.#a,deleted:this.isDeleted()}}set data(t){if(t!==this.#o&&(this.#i=null),null===t)return this.#o="",void(this.#c=!0);this.#o=t,this.#a=new Date,this.#c=!1}setInitialText(t,e=null){this.#s=t,this.data=t,this.#a=null,this.#i=e}shown(){}destroy(){this.#t?.remove(),this.#t=null,this.#e?.remove(),this.#e=null,this.#o="",this.#i=null,this.#a=null,this.#n=null,this.#r=!1,this.#c=!1}}class sp{#e;#t=!1;#r=null;#n;#s;#i;#o;#a=null;#c;#l=null;#h;#d=null;constructor({container:t,isPinchingDisabled:e=null,isPinchingStopped:r=null,onPinchStart:o=null,onPinching:i=null,onPinchEnd:s=null,signal:a}){this.#e=t,this.#r=r,this.#n=e,this.#s=o,this.#i=i,this.#o=s,this.#h=new AbortController,this.#c=AbortSignal.any([a,this.#h.signal]),t.addEventListener("touchstart",this.#f.bind(this),{passive:!1,signal:this.#c})}get MIN_TOUCH_DISTANCE_TO_PINCH(){return 35/Ci.pixelRatio}#f(t){if(this.#n?.())return;if(1===t.touches.length){if(this.#a)return;const o=this.#a=new AbortController,i=AbortSignal.any([this.#c,o.signal]),s=this.#e,a={capture:!0,signal:i,passive:!1},l=c=>{"touch"===c.pointerType&&(this.#a?.abort(),this.#a=null)};return s.addEventListener("pointerdown",c=>{"touch"===c.pointerType&&(Rn(c),l(c))},a),s.addEventListener("pointerup",l,a),void s.addEventListener("pointercancel",l,a)}if(!this.#d){this.#d=new AbortController;const o=AbortSignal.any([this.#c,this.#d.signal]),i=this.#e,s={signal:o,capture:!1,passive:!1};i.addEventListener("touchmove",this.#m.bind(this),s);const a=this.#g.bind(this);i.addEventListener("touchend",a,s),i.addEventListener("touchcancel",a,s),s.capture=!0,i.addEventListener("pointerdown",Rn,s),i.addEventListener("pointermove",Rn,s),i.addEventListener("pointercancel",Rn,s),i.addEventListener("pointerup",Rn,s),this.#s?.()}if(Rn(t),2!==t.touches.length||this.#r?.())return void(this.#l=null);let[e,r]=t.touches;e.identifier>r.identifier&&([e,r]=[r,e]),this.#l={touch0X:e.screenX,touch0Y:e.screenY,touch1X:r.screenX,touch1Y:r.screenY}}#m(t){if(!this.#l||2!==t.touches.length)return;Rn(t);let[e,r]=t.touches;e.identifier>r.identifier&&([e,r]=[r,e]);const{screenX:o,screenY:i}=e,{screenX:s,screenY:a}=r,l=this.#l,{touch0X:c,touch0Y:u,touch1X:d,touch1Y:h}=l,f=d-c,p=h-u,b=Math.hypot(s-o,a-i)||1,v=Math.hypot(f,p)||1;if(!this.#t&&Math.abs(v-b)<=sp.MIN_TOUCH_DISTANCE_TO_PINCH)return;if(l.touch0X=o,l.touch0Y=i,l.touch1X=s,l.touch1Y=a,!this.#t)return void(this.#t=!0);const y=[(o+s)/2,(i+a)/2];this.#i?.(y,v,b)}#g(t){t.touches.length>=2||(this.#d&&(this.#d.abort(),this.#d=null,this.#o?.()),this.#l&&(Rn(t),this.#l=null,this.#t=!1))}destroy(){this.#h?.abort(),this.#h=null,this.#a?.abort(),this.#a=null}}class _e{#e=null;#t=null;#r=null;#n=null;#s=null;#i=!1;#o=null;#a="";#c=null;#l=null;#h=null;#d=null;#f=null;#m="";#g=!1;#u=null;#p=!1;#b=!1;#y=!1;#v=null;#S=0;#E=0;#C=null;#T=null;isSelected=!1;_isCopy=!1;_editToolbar=null;_initialOptions=Object.create(null);_initialData=null;_isVisible=!0;_uiManager=null;_focusEventsAllowed=!0;static _l10n=null;static _l10nResizer=null;#_=!1;#D=_e._zIndex++;static _borderLineWidth=-1;static _colorManager=new my;static _zIndex=1;static _telemetryTimeout=1e3;static get _resizerKeyboardManager(){const t=_e.prototype._resizeWithKeyboard,e=Hu.TRANSLATE_SMALL,r=Hu.TRANSLATE_BIG;return Ue(this,"_resizerKeyboardManager",new Bu([[["ArrowLeft","mac+ArrowLeft"],t,{args:[-e,0]}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],t,{args:[-r,0]}],[["ArrowRight","mac+ArrowRight"],t,{args:[e,0]}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],t,{args:[r,0]}],[["ArrowUp","mac+ArrowUp"],t,{args:[0,-e]}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],t,{args:[0,-r]}],[["ArrowDown","mac+ArrowDown"],t,{args:[0,e]}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],t,{args:[0,r]}],[["Escape","mac+Escape"],_e.prototype._stopResizingWithKeyboard]]))}constructor(t){this.parent=t.parent,this.id=t.id,this.width=this.height=null,this.pageIndex=t.parent.pageIndex,this.name=t.name,this.div=null,this._uiManager=t.uiManager,this.annotationElementId=null,this._willKeepAspectRatio=!1,this._initialOptions.isCentered=t.isCentered,this._structTreeParentId=null,this.annotationElementId=t.annotationElementId||null,this.creationDate=t.creationDate||new Date,this.modificationDate=t.modificationDate||null,this.canAddComment=!0;const{rotation:e,rawDims:{pageWidth:r,pageHeight:o,pageX:i,pageY:s}}=this.parent.viewport;this.rotation=e,this.pageRotation=(360+e-this._uiManager.viewParameters.rotation)%360,this.pageDimensions=[r,o],this.pageTranslation=[i,s];const[a,l]=this.parentDimensions;this.x=t.x/a,this.y=t.y/l,this.isAttachedToDOM=!1,this.deleted=!1}get editorType(){return Object.getPrototypeOf(this).constructor._type}get mode(){return Object.getPrototypeOf(this).constructor._editorType}static get isDrawer(){return!1}static get _defaultLineColor(){return Ue(this,"_defaultLineColor",this._colorManager.getHexCode("CanvasText"))}static deleteAnnotationElement(t){const e=new k7({id:t.parent.getNextId(),parent:t.parent,uiManager:t._uiManager});e.annotationElementId=t.annotationElementId,e.deleted=!0,e._uiManager.addToAnnotationStorage(e)}static initialize(t,e){if(_e._l10n??=t,_e._l10nResizer||=Object.freeze({topLeft:"pdfjs-editor-resizer-top-left",topMiddle:"pdfjs-editor-resizer-top-middle",topRight:"pdfjs-editor-resizer-top-right",middleRight:"pdfjs-editor-resizer-middle-right",bottomRight:"pdfjs-editor-resizer-bottom-right",bottomMiddle:"pdfjs-editor-resizer-bottom-middle",bottomLeft:"pdfjs-editor-resizer-bottom-left",middleLeft:"pdfjs-editor-resizer-middle-left"}),-1!==_e._borderLineWidth)return;const r=getComputedStyle(document.documentElement);_e._borderLineWidth=parseFloat(r.getPropertyValue("--outline-width"))||0}static updateDefaultParams(t,e){}static get defaultPropertiesToUpdate(){return[]}static isHandlingMimeForPasting(t){return!1}static paste(t,e){Jt("Not implemented")}get propertiesToUpdate(){return[]}get _isDraggable(){return this.#_}set _isDraggable(t){this.#_=t,this.div?.classList.toggle("draggable",t)}get uid(){return this.annotationElementId||this.id}get isEnterHandled(){return!0}center(){const[t,e]=this.pageDimensions;switch(this.parentRotation){case 90:this.x-=this.height*e/(2*t),this.y+=this.width*t/(2*e);break;case 180:this.x+=this.width/2,this.y+=this.height/2;break;case 270:this.x+=this.height*e/(2*t),this.y-=this.width*t/(2*e);break;default:this.x-=this.width/2,this.y-=this.height/2}this.fixAndSetPosition()}addCommands(t){this._uiManager.addCommands(t)}get currentLayer(){return this._uiManager.currentLayer}setInBackground(){this.div.style.zIndex=0}setInForeground(){this.div.style.zIndex=this.#D}setParent(t){null!==t?(this.pageIndex=t.pageIndex,this.pageDimensions=t.pageDimensions):(this.#P(),this.#d?.remove(),this.#d=null),this.parent=t}focusin(t){this._focusEventsAllowed&&(this.#g?this.#g=!1:this.parent.setSelected(this))}focusout(t){!this._focusEventsAllowed||!this.isAttachedToDOM||t.relatedTarget?.closest(`#${this.id}`)||(t.preventDefault(),this.parent?.isMultipleSelection||this.commitOrRemove())}commitOrRemove(){this.isEmpty()?this.remove():this.commit()}commit(){this.isInEditMode()&&this.addToAnnotationStorage()}addToAnnotationStorage(){this._uiManager.addToAnnotationStorage(this)}setAt(t,e,r,o){const[i,s]=this.parentDimensions;[r,o]=this.screenToPageTranslation(r,o),this.x=(t+r)/i,this.y=(e+o)/s,this.fixAndSetPosition()}_moveAfterPaste(t,e){const[r,o]=this.parentDimensions;this.setAt(t*r,e*o,this.width*r,this.height*o),this._onTranslated()}#x([t,e],r,o){[r,o]=this.screenToPageTranslation(r,o),this.x+=r/t,this.y+=o/e,this._onTranslating(this.x,this.y),this.fixAndSetPosition()}translate(t,e){this.#x(this.parentDimensions,t,e)}translateInPage(t,e){this.#u||=[this.x,this.y,this.width,this.height],this.#x(this.pageDimensions,t,e),this.div.scrollIntoView({block:"nearest"})}translationDone(){this._onTranslated(this.x,this.y)}drag(t,e){this.#u||=[this.x,this.y,this.width,this.height];const{div:r,parentDimensions:[o,i]}=this;if(this.x+=t/o,this.y+=e/i,this.parent&&(this.x<0||this.x>1||this.y<0||this.y>1)){const{x:d,y:h}=this.div.getBoundingClientRect();this.parent.findNewParent(this,d,h)&&(this.x-=Math.floor(this.x),this.y-=Math.floor(this.y))}let{x:s,y:a}=this;const[l,c]=this.getBaseTranslation();s+=l,a+=c;const{style:u}=r;u.left=`${(100*s).toFixed(2)}%`,u.top=`${(100*a).toFixed(2)}%`,this._onTranslating(s,a),r.scrollIntoView({block:"nearest"})}_onTranslating(t,e){}_onTranslated(t,e){}get _hasBeenMoved(){return!!this.#u&&(this.#u[0]!==this.x||this.#u[1]!==this.y)}get _hasBeenResized(){return!!this.#u&&(this.#u[2]!==this.width||this.#u[3]!==this.height)}getBaseTranslation(){const[t,e]=this.parentDimensions,{_borderLineWidth:r}=_e,o=r/t,i=r/e;switch(this.rotation){case 90:return[-o,i];case 180:return[o,i];case 270:return[o,-i];default:return[-o,-i]}}get _mustFixPosition(){return!0}fixAndSetPosition(t=this.rotation){const{div:{style:e},pageDimensions:[r,o]}=this;let{x:i,y:s,width:a,height:l}=this;if(a*=r,l*=o,i*=r,s*=o,this._mustFixPosition)switch(t){case 0:i=jr(i,0,r-a),s=jr(s,0,o-l);break;case 90:i=jr(i,0,r-l),s=jr(s,a,o);break;case 180:i=jr(i,a,r),s=jr(s,l,o);break;case 270:i=jr(i,l,r),s=jr(s,0,o-a)}this.x=i/=r,this.y=s/=o;const[c,u]=this.getBaseTranslation();i+=c,s+=u,e.left=`${(100*i).toFixed(2)}%`,e.top=`${(100*s).toFixed(2)}%`,this.moveInDOM()}static#A(t,e,r){switch(r){case 90:return[e,-t];case 180:return[-t,-e];case 270:return[-e,t];default:return[t,e]}}screenToPageTranslation(t,e){return _e.#A(t,e,this.parentRotation)}pageTranslationToScreen(t,e){return _e.#A(t,e,360-this.parentRotation)}#I(t){switch(t){case 90:{const[e,r]=this.pageDimensions;return[0,-e/r,r/e,0]}case 180:return[-1,0,0,-1];case 270:{const[e,r]=this.pageDimensions;return[0,e/r,-r/e,0]}default:return[1,0,0,1]}}get parentScale(){return this._uiManager.viewParameters.realScale}get parentRotation(){return(this._uiManager.viewParameters.rotation+this.pageRotation)%360}get parentDimensions(){const{parentScale:t,pageDimensions:[e,r]}=this;return[e*t,r*t]}setDims(){const{div:{style:t},width:e,height:r}=this;t.width=`${(100*e).toFixed(2)}%`,t.height=`${(100*r).toFixed(2)}%`}getInitialTranslation(){return[0,0]}#F(){if(this.#c)return;this.#c=document.createElement("div"),this.#c.classList.add("resizers");const t=this._willKeepAspectRatio?["topLeft","topRight","bottomRight","bottomLeft"]:["topLeft","topMiddle","topRight","middleRight","bottomRight","bottomMiddle","bottomLeft","middleLeft"],e=this._uiManager._signal;for(const r of t){const o=document.createElement("div");this.#c.append(o),o.classList.add("resizer",r),o.setAttribute("data-resizer-name",r),o.addEventListener("pointerdown",this.#R.bind(this,r),{signal:e}),o.addEventListener("contextmenu",Fo,{signal:e}),o.tabIndex=-1}this.div.prepend(this.#c)}#R(t,e){e.preventDefault();const{isMac:r}=pr.platform;if(0!==e.button||e.ctrlKey&&r)return;this.#r?.toggle(!1);const o=this._isDraggable;this._isDraggable=!1,this.#l=[e.screenX,e.screenY];const i=new AbortController,s=this._uiManager.combinedSignal(i);this.parent.togglePointerEvents(!1),window.addEventListener("pointermove",this.#L.bind(this,t),{passive:!0,capture:!0,signal:s}),window.addEventListener("touchmove",Rn,{passive:!1,signal:s}),window.addEventListener("contextmenu",Fo,{signal:s}),this.#h={savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height};const a=this.parent.div.style.cursor,l=this.div.style.cursor;this.div.style.cursor=this.parent.div.style.cursor=window.getComputedStyle(e.target).cursor;const c=()=>{i.abort(),this.parent.togglePointerEvents(!0),this.#r?.toggle(!0),this._isDraggable=o,this.parent.div.style.cursor=a,this.div.style.cursor=l,this.#B()};window.addEventListener("pointerup",c,{signal:s}),window.addEventListener("blur",c,{signal:s})}#O(t,e,r,o){this.width=r,this.height=o,this.x=t,this.y=e,this.setDims(),this.fixAndSetPosition(),this._onResized()}_onResized(){}#B(){if(!this.#h)return;const{savedX:t,savedY:e,savedWidth:r,savedHeight:o}=this.#h;this.#h=null;const i=this.x,s=this.y,a=this.width,l=this.height;i===t&&s===e&&a===r&&l===o||this.addCommands({cmd:this.#O.bind(this,i,s,a,l),undo:this.#O.bind(this,t,e,r,o),mustExec:!0})}static _round(t){return Math.round(1e4*t)/1e4}#L(t,e){const[r,o]=this.parentDimensions,i=this.x,s=this.y,a=this.width,l=this.height,c=_e.MIN_SIZE/r,u=_e.MIN_SIZE/o,d=this.#I(this.rotation),h=(be,Ee)=>[d[0]*be+d[2]*Ee,d[1]*be+d[3]*Ee],f=this.#I(360-this.rotation);let g,m,b=!1,v=!1;switch(t){case"topLeft":b=!0,g=(be,Ee)=>[0,0],m=(be,Ee)=>[be,Ee];break;case"topMiddle":g=(be,Ee)=>[be/2,0],m=(be,Ee)=>[be/2,Ee];break;case"topRight":b=!0,g=(be,Ee)=>[be,0],m=(be,Ee)=>[0,Ee];break;case"middleRight":v=!0,g=(be,Ee)=>[be,Ee/2],m=(be,Ee)=>[0,Ee/2];break;case"bottomRight":b=!0,g=(be,Ee)=>[be,Ee],m=(be,Ee)=>[0,0];break;case"bottomMiddle":g=(be,Ee)=>[be/2,Ee],m=(be,Ee)=>[be/2,0];break;case"bottomLeft":b=!0,g=(be,Ee)=>[0,Ee],m=(be,Ee)=>[be,0];break;case"middleLeft":v=!0,g=(be,Ee)=>[0,Ee/2],m=(be,Ee)=>[be,Ee/2]}const y=g(a,l),C=m(a,l);let _=h(...C);const w=_e._round(i+_[0]),k=_e._round(s+_[1]);let K,z,A=1,$=1;if(e.fromKeyboard)({deltaX:K,deltaY:z}=e);else{const{screenX:be,screenY:Ee}=e,[jt,zt]=this.#l;[K,z]=this.screenToPageTranslation(be-jt,Ee-zt),this.#l[0]=be,this.#l[1]=Ee}if([K,z]=[f[0]*(be=K/r)+f[2]*(Ee=z/o),f[1]*be+f[3]*Ee],b){const be=Math.hypot(a,l);A=$=Math.max(Math.min(Math.hypot(C[0]-y[0]-K,C[1]-y[1]-z)/be,1/a,1/l),c/a,u/l)}else v?A=jr(Math.abs(C[0]-y[0]-K),c,1)/a:$=jr(Math.abs(C[1]-y[1]-z),u,1)/l;var be,Ee;const st=_e._round(a*A),at=_e._round(l*$);_=h(...m(st,at));const Ct=w-_[0],Nt=k-_[1];this.#u||=[this.x,this.y,this.width,this.height],this.width=st,this.height=at,this.x=Ct,this.y=Nt,this.setDims(),this.fixAndSetPosition(),this._onResizing()}_onResizing(){}altTextFinish(){this.#r?.finish()}get toolbarButtons(){return null}addEditToolbar(){var t=this;return B(function*(){if(t._editToolbar||t.#b)return t._editToolbar;t._editToolbar=new Fu(t),t.div.append(t._editToolbar.render());const{toolbarButtons:e}=t;if(e)for(const[r,o]of e)yield t._editToolbar.addButton(r,o);return t.hasComment||t._editToolbar.addButton("comment",t.addCommentButton()),t._editToolbar.addButton("delete"),t._editToolbar})()}addCommentButtonInToolbar(){this._editToolbar?.addButtonBefore("comment",this.addCommentButton(),".deleteButton")}removeCommentButtonFromToolbar(){this._editToolbar?.removeButton("comment")}removeEditToolbar(){this._editToolbar?.remove(),this._editToolbar=null,this.#r?.destroy()}addContainer(t){const e=this._editToolbar?.div;e?e.before(t):this.div.append(t)}getClientDimensions(){return this.div.getBoundingClientRect()}createAltText(){return this.#r||(hI.initialize(_e._l10n),this.#r=new hI(this),this.#e&&(this.#r.data=this.#e,this.#e=null)),this.#r}get altTextData(){return this.#r?.data}set altTextData(t){this.#r&&(this.#r.data=t)}get guessedAltText(){return this.#r?.guessedText}setGuessedAltText(t){var e=this;return B(function*(){yield e.#r?.setGuessedText(t)})()}serializeAltText(t){return this.#r?.serialize(t)}hasAltText(){return!!this.#r&&!this.#r.isEmpty()}hasAltTextData(){return this.#r?.hasData()??!1}focusCommentButton(){this.#n?.focusButton()}addCommentButton(){return this.canAddComment?this.#n||=new ip(this):null}addStandaloneCommentButton(){if(this._uiManager.hasCommentManager()){if(this.#s)return void(this._uiManager.isEditingMode()&&this.#s.classList.remove("hidden"));this.hasComment&&(this.#s=this.#n.renderForStandalone(),this.div.append(this.#s))}}removeStandaloneCommentButton(){this.#n.removeStandaloneCommentButton(),this.#s=null}hideStandaloneCommentButton(){this.#s?.classList.add("hidden")}get comment(){const{data:{richText:t,text:e,date:r,deleted:o}}=this.#n;return{text:e,richText:t,date:r,deleted:o,color:this.getNonHCMColor(),opacity:this.opacity??1}}set comment(t){this.#n||=new ip(this),this.#n.data=t,this.hasComment?(this.removeCommentButtonFromToolbar(),this.addStandaloneCommentButton(),this._uiManager.updateComment(this)):(this.addCommentButtonInToolbar(),this.removeStandaloneCommentButton(),this._uiManager.removeComment(this))}setCommentData({comment:t,popupRef:e,richText:r}){if(!e||(this.#n||=new ip(this),this.#n.setInitialText(t,r),!this.annotationElementId))return;const o=this._uiManager.getAndRemoveDataFromAnnotationStorage(this.annotationElementId);o&&this.updateFromAnnotationLayer(o)}get hasEditedComment(){return this.#n?.hasBeenEdited()}get hasDeletedComment(){return this.#n?.isDeleted()}get hasComment(){return!!this.#n&&!this.#n.isEmpty()&&!this.#n.isDeleted()}editComment(t){var e=this;return B(function*(){e.#n||=new ip(e),e.#n.edit(t)})()}toggleComment(t,e=void 0){this.hasComment&&this._uiManager.toggleComment(this,t,e)}setSelectedCommentButton(t){this.#n.setSelectedButton(t)}addComment(t){if(this.hasEditedComment){const[,,,o]=t.rect,[i]=this.pageDimensions,[s]=this.pageTranslation,a=s+i+1;t.popup={contents:this.comment.text,deleted:this.comment.deleted,rect:[a,o-100,a+180,o]}}}updateFromAnnotationLayer({popup:{contents:t,deleted:e}}){this.#n.data=e?null:t}get parentBoundingClientRect(){return this.parent.boundingClientRect}render(){const t=this.div=document.createElement("div");t.setAttribute("data-editor-rotation",(360-this.rotation)%360),t.className=this.name,t.setAttribute("id",this.id),t.tabIndex=this.#i?-1:0,t.setAttribute("role","application"),this.defaultL10nId&&t.setAttribute("data-l10n-id",this.defaultL10nId),this._isVisible||t.classList.add("hidden"),this.setInForeground(),this.#$();const[e,r]=this.parentDimensions;this.parentRotation%180!=0&&(t.style.maxWidth=`${(100*r/e).toFixed(2)}%`,t.style.maxHeight=`${(100*e/r).toFixed(2)}%`);const[o,i]=this.getInitialTranslation();return this.translate(o,i),dI(this,t,["keydown","pointerdown","dblclick"]),this.isResizable&&this._uiManager._supportsPinchToZoom&&(this.#T||=new sp({container:t,isPinchingDisabled:()=>!this.isSelected,onPinchStart:this.#z.bind(this),onPinching:this.#k.bind(this),onPinchEnd:this.#w.bind(this),signal:this._uiManager._signal})),this.addStandaloneCommentButton(),this._uiManager._editorUndoBar?.hide(),t}#z(){this.#h={savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height},this.#r?.toggle(!1),this.parent.togglePointerEvents(!1)}#k(t,e,r){let i=r/e*.7+1-.7;if(1===i)return;const s=this.#I(this.rotation),a=(w,k)=>[s[0]*w+s[2]*k,s[1]*w+s[3]*k],[l,c]=this.parentDimensions,u=this.x,d=this.y,h=this.width,f=this.height,p=_e.MIN_SIZE/l,g=_e.MIN_SIZE/c;i=Math.max(Math.min(i,1/h,1/f),p/h,g/f);const m=_e._round(h*i),b=_e._round(f*i);if(m===h&&b===f)return;this.#u||=[u,d,h,f];const v=a(h/2,f/2),y=_e._round(u+v[0]),C=_e._round(d+v[1]),_=a(m/2,b/2);this.x=y-_[0],this.y=C-_[1],this.width=m,this.height=b,this.setDims(),this.fixAndSetPosition(),this._onResizing()}#w(){this.#r?.toggle(!0),this.parent.togglePointerEvents(!0),this.#B()}pointerdown(t){const{isMac:e}=pr.platform;0!==t.button||t.ctrlKey&&e?t.preventDefault():(this.#g=!0,this._isDraggable?this.#H(t):this.#N(t))}#N(t){const{isMac:e}=pr.platform;t.ctrlKey&&!e||t.shiftKey||t.metaKey&&e?this.parent.toggleSelected(this):this.parent.setSelected(this)}#H(t){const{isSelected:e}=this;this._uiManager.setUpDragSession();let r=!1;const o=new AbortController,i=this._uiManager.combinedSignal(o),s={capture:!0,passive:!1,signal:i},a=c=>{o.abort(),this.#o=null,this.#g=!1,this._uiManager.endDragSession()||this.#N(c),r&&this._onStopDragging()};e&&(this.#S=t.clientX,this.#E=t.clientY,this.#o=t.pointerId,this.#a=t.pointerType,window.addEventListener("pointermove",c=>{r||(r=!0,this._uiManager.toggleComment(this,!0,!1),this._onStartDragging());const{clientX:u,clientY:d,pointerId:h}=c;if(h!==this.#o)return void Rn(c);const[f,p]=this.screenToPageTranslation(u-this.#S,d-this.#E);this.#S=u,this.#E=d,this._uiManager.dragSelectedEditors(f,p)},s),window.addEventListener("touchmove",Rn,s),window.addEventListener("pointerdown",c=>{c.pointerType===this.#a&&(this.#T||c.isPrimary)&&a(c),Rn(c)},s));const l=c=>{this.#o&&this.#o!==c.pointerId?Rn(c):a(c)};window.addEventListener("pointerup",l,{signal:i}),window.addEventListener("blur",l,{signal:i})}_onStartDragging(){}_onStopDragging(){}moveInDOM(){this.#v&&clearTimeout(this.#v),this.#v=setTimeout(()=>{this.#v=null,this.parent?.moveEditorInDOM(this)},0)}_setParentAndPosition(t,e,r){t.changeParent(this),this.x=e,this.y=r,this.fixAndSetPosition(),this._onTranslated()}getRect(t,e,r=this.rotation){const o=this.parentScale,[i,s]=this.pageDimensions,[a,l]=this.pageTranslation,c=t/o,u=e/o,d=this.x*i,h=this.y*s,f=this.width*i,p=this.height*s;switch(r){case 0:return[d+c+a,s-h-u-p+l,d+c+f+a,s-h-u+l];case 90:return[d+u+a,s-h+c+l,d+u+p+a,s-h+c+f+l];case 180:return[d-c-f+a,s-h+u+l,d-c+a,s-h+u+p+l];case 270:return[d-u-p+a,s-h-c-f+l,d-u+a,s-h-c+l];default:throw new Error("Invalid rotation")}}getRectInCurrentCoords(t,e){const[r,o,i,s]=t,a=i-r,l=s-o;switch(this.rotation){case 0:return[r,e-s,a,l];case 90:return[r,e-o,l,a];case 180:return[i,e-o,a,l];case 270:return[i,e-s,l,a];default:throw new Error("Invalid rotation")}}getPDFRect(){return this.getRect(0,0)}getNonHCMColor(){return this.color&&_e._colorManager.convert(this._uiManager.getNonHCMColor(this.color))}onUpdatedColor(){this.#n?.onUpdatedColor()}getData(){const{comment:{text:t,color:e,date:r,opacity:o,deleted:i,richText:s},uid:a,pageIndex:l,creationDate:c,modificationDate:u}=this;return{id:a,pageIndex:l,rect:this.getPDFRect(),richText:s,contentsObj:{str:t},creationDate:c,modificationDate:r||u,popupRef:!i,color:e,opacity:o}}onceAdded(t){}isEmpty(){return!1}enableEditMode(){return!this.isInEditMode()&&(this.parent.setEditingState(!1),this.#b=!0,!0)}disableEditMode(){return!!this.isInEditMode()&&(this.parent.setEditingState(!0),this.#b=!1,!0)}isInEditMode(){return this.#b}shouldGetKeyboardEvents(){return this.#y}needsToBeRebuilt(){return this.div&&!this.isAttachedToDOM}get isOnScreen(){const{top:t,left:e,bottom:r,right:o}=this.getClientDimensions(),{innerHeight:i,innerWidth:s}=window;return e<s&&o>0&&t<i&&r>0}#$(){if(this.#f||!this.div)return;this.#f=new AbortController;const t=this._uiManager.combinedSignal(this.#f);this.div.addEventListener("focusin",this.focusin.bind(this),{signal:t}),this.div.addEventListener("focusout",this.focusout.bind(this),{signal:t})}rebuild(){this.#$()}rotate(t){}resize(){}serializeDeleted(){return{id:this.annotationElementId,deleted:!0,pageIndex:this.pageIndex,popupRef:this._initialData?.popupRef||""}}serialize(t=!1,e=null){return{annotationType:this.mode,pageIndex:this.pageIndex,rect:this.getPDFRect(),rotation:this.rotation,structTreeParentId:this._structTreeParentId,popupRef:this._initialData?.popupRef||""}}static deserialize(t,e,r){var o=this;return B(function*(){const i=new o.prototype.constructor({parent:e,id:e.getNextId(),uiManager:r,annotationElementId:t.annotationElementId,creationDate:t.creationDate,modificationDate:t.modificationDate});i.rotation=t.rotation,i.#e=t.accessibilityData,i._isCopy=t.isCopy||!1;const[s,a]=i.pageDimensions,[l,c,u,d]=i.getRectInCurrentCoords(t.rect,a);return i.x=l/s,i.y=c/a,i.width=u/s,i.height=d/a,i})()}get hasBeenModified(){return!!this.annotationElementId&&(this.deleted||null!==this.serialize())}remove(){if(this.#f?.abort(),this.#f=null,this.isEmpty()||this.commit(),this.parent?this.parent.remove(this):this._uiManager.removeEditor(this),this.hideCommentPopup(),this.#v&&(clearTimeout(this.#v),this.#v=null),this.#P(),this.removeEditToolbar(),this.#C){for(const t of this.#C.values())clearTimeout(t);this.#C=null}this.parent=null,this.#T?.destroy(),this.#T=null,this.#d?.remove(),this.#d=null}get isResizable(){return!1}makeResizable(){this.isResizable&&(this.#F(),this.#c.classList.remove("hidden"))}get toolbarPosition(){return null}get commentButtonPosition(){return"ltr"===this._uiManager.direction?[1,0]:[0,0]}get commentButtonPositionInPage(){const{commentButtonPosition:[t,e]}=this,[r,o,i,s]=this.getPDFRect();return[_e._round(r+(i-r)*t),_e._round(o+(s-o)*(1-e))]}get commentButtonColor(){return this._uiManager.makeCommentColor(this.getNonHCMColor(),this.opacity)}get commentPopupPosition(){return this.#n.commentPopupPositionInLayer}set commentPopupPosition(t){this.#n.commentPopupPositionInLayer=t}hasDefaultPopupPosition(){return this.#n.hasDefaultPopupPosition()}get commentButtonWidth(){return this.#n.commentButtonWidth}get elementBeforePopup(){return this.div}setCommentButtonStates(t){this.#n?.setCommentButtonStates(t)}keydown(t){if(!this.isResizable||t.target!==this.div||"Enter"!==t.key)return;this._uiManager.setSelected(this),this.#h={savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height};const e=this.#c.children;if(!this.#t){this.#t=Array.from(e);const s=this.#q.bind(this),a=this.#G.bind(this),l=this._uiManager._signal;for(const c of this.#t){const u=c.getAttribute("data-resizer-name");c.setAttribute("role","spinbutton"),c.addEventListener("keydown",s,{signal:l}),c.addEventListener("blur",a,{signal:l}),c.addEventListener("focus",this.#Y.bind(this,u),{signal:l}),c.setAttribute("data-l10n-id",_e._l10nResizer[u])}}const r=this.#t[0];let o=0;for(const s of e){if(s===r)break;o++}const i=(360-this.rotation+this.parentRotation)%360/90*(this.#t.length/4);if(i!==o){if(i<o)for(let a=0;a<o-i;a++)this.#c.append(this.#c.firstElementChild);else if(i>o)for(let a=0;a<i-o;a++)this.#c.firstElementChild.before(this.#c.lastElementChild);let s=0;for(const a of e){const c=this.#t[s++].getAttribute("data-resizer-name");a.setAttribute("data-l10n-id",_e._l10nResizer[c])}}this.#U(0),this.#y=!0,this.#c.firstElementChild.focus({focusVisible:!0}),t.preventDefault(),t.stopImmediatePropagation()}#q(t){_e._resizerKeyboardManager.exec(this,t)}#G(t){this.#y&&t.relatedTarget?.parentNode!==this.#c&&this.#P()}#Y(t){this.#m=this.#y?t:""}#U(t){if(this.#t)for(const e of this.#t)e.tabIndex=t}_resizeWithKeyboard(t,e){this.#y&&this.#L(this.#m,{deltaX:t,deltaY:e,fromKeyboard:!0})}#P(){this.#y=!1,this.#U(-1),this.#B()}_stopResizingWithKeyboard(){this.#P(),this.div.focus()}select(){this.isSelected&&this._editToolbar?this._editToolbar.show():(this.isSelected=!0,this.makeResizable(),this.div?.classList.add("selectedEditor"),this._editToolbar?(this._editToolbar?.show(),this.#r?.toggleAltTextBadge(!1)):this.addEditToolbar().then(()=>{this.div?.classList.contains("selectedEditor")&&this._editToolbar?.show()}))}focus(){this.div&&!this.div.contains(document.activeElement)&&setTimeout(()=>this.div?.focus({preventScroll:!0}),0)}unselect(){this.isSelected&&(this.isSelected=!1,this.#c?.classList.add("hidden"),this.div?.classList.remove("selectedEditor"),this.div?.contains(document.activeElement)&&this._uiManager.currentLayer.div.focus({preventScroll:!0}),this._editToolbar?.hide(),this.#r?.toggleAltTextBadge(!0),this.hideCommentPopup())}hideCommentPopup(){this.hasComment&&this._uiManager.toggleComment(null)}updateParams(t,e){}disableEditing(){}enableEditing(){}get canChangeContent(){return!1}enterInEditMode(){this.canChangeContent&&(this.enableEditMode(),this.div.focus())}dblclick(t){"BUTTON"!==t.target.nodeName&&(this.enterInEditMode(),this.parent.updateToolbar({mode:this.constructor._editorType,editId:this.uid}))}getElementForAltText(){return this.div}get contentDiv(){return this.div}get isEditing(){return this.#p}set isEditing(t){this.#p=t,this.parent&&(t?(this.parent.setSelected(this),this.parent.setActiveEditor(this)):this.parent.setActiveEditor(null))}static get MIN_SIZE(){return 16}static canCreateNewEmptyEditor(){return!0}get telemetryInitialData(){return{action:"added"}}get telemetryFinalData(){return null}_reportTelemetry(t,e=!1){if(e){this.#C||=new Map;const{action:r}=t;let o=this.#C.get(r);return o&&clearTimeout(o),o=setTimeout(()=>{this._reportTelemetry(t),this.#C.delete(r),0===this.#C.size&&(this.#C=null)},_e._telemetryTimeout),void this.#C.set(r,o)}t.type||=this.editorType,this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:t}})}show(t=this._isVisible){this.div.classList.toggle("hidden",!t),this._isVisible=t}enable(){this.div&&(this.div.tabIndex=0),this.#i=!1}disable(){this.div&&(this.div.tabIndex=-1),this.#i=!0}updateFakeAnnotationElement(t){if(this.#d||this.deleted)return this.deleted?(this.#d.remove(),void(this.#d=null)):void((this.hasEditedComment||this._hasBeenMoved||this._hasBeenResized)&&this.#d.updateEdited({rect:this.getPDFRect(),popup:this.comment}));this.#d=t.addFakeAnnotation(this)}renderAnnotationElement(t){if(this.deleted)return t.hide(),null;let e=t.container.querySelector(".annotationContent");if(e){if("CANVAS"===e.nodeName){const r=e;e=document.createElement("div"),e.classList.add("annotationContent",this.editorType),r.before(e)}}else e=document.createElement("div"),e.classList.add("annotationContent",this.editorType),t.container.prepend(e);return e}resetAnnotationElement(t){const{firstElementChild:e}=t.container;"DIV"===e?.nodeName&&e.classList.contains("annotationContent")&&e.remove()}}class k7 extends _e{constructor(t){super(t),this.annotationElementId=t.annotationElementId,this.deleted=!0}serialize(){return this.serializeDeleted()}}const fI=3285377520,Bo=4294901760,wi=65535;class pI{constructor(t){this.h1=t?4294967295&t:fI,this.h2=t?4294967295&t:fI}update(t){let e,r;if("string"==typeof t){e=new Uint8Array(2*t.length),r=0;for(let g=0,m=t.length;g<m;g++){const b=t.charCodeAt(g);b<=255?e[r++]=b:(e[r++]=b>>>8,e[r++]=255&b)}}else{if(!ArrayBuffer.isView(t))throw new Error("Invalid data format, must be a string or TypedArray.");e=t.slice(),r=e.byteLength}const o=r>>2,i=r-4*o,s=new Uint32Array(e.buffer,0,o);let a=0,l=0,c=this.h1,u=this.h2;const d=3432918353,h=461845907,f=d&wi,p=h&wi;for(let g=0;g<o;g++)1&g?(a=s[g],a=a*d&Bo|a*f&wi,a=a<<15|a>>>17,a=a*h&Bo|a*p&wi,c^=a,c=c<<13|c>>>19,c=5*c+3864292196):(l=s[g],l=l*d&Bo|l*f&wi,l=l<<15|l>>>17,l=l*h&Bo|l*p&wi,u^=l,u=u<<13|u>>>19,u=5*u+3864292196);switch(a=0,i){case 3:a^=e[4*o+2]<<16;case 2:a^=e[4*o+1]<<8;case 1:a^=e[4*o],a=a*d&Bo|a*f&wi,a=a<<15|a>>>17,a=a*h&Bo|a*p&wi,1&o?c^=a:u^=a}this.h1=c,this.h2=u}hexdigest(){let t=this.h1,e=this.h2;return t^=e>>>1,t=3981806797*t&Bo|36045*t&wi,e=4283543511*e&Bo|(2950163797*(e<<16|t>>>16)&Bo)>>>16,t^=e>>>1,t=444984403*t&Bo|60499*t&wi,e=3301882366*e&Bo|(3120437893*(e<<16|t>>>16)&Bo)>>>16,t^=e>>>1,(t>>>0).toString(16).padStart(8,"0")+(e>>>0).toString(16).padStart(8,"0")}}const by=Object.freeze({map:null,hash:"",transfer:void 0});class vy{#e=!1;#t=null;#r=null;#n=new Map;constructor(){this.onSetModified=null,this.onResetModified=null,this.onAnnotationEditor=null}getValue(t,e){const r=this.#n.get(t);return void 0===r?e:Object.assign(e,r)}getRawValue(t){return this.#n.get(t)}remove(t){const e=this.#n.get(t);if(void 0!==e&&(e instanceof _e&&this.#r.delete(e.annotationElementId),this.#n.delete(t),0===this.#n.size&&this.resetModified(),"function"==typeof this.onAnnotationEditor)){for(const r of this.#n.values())if(r instanceof _e)return;this.onAnnotationEditor(null)}}setValue(t,e){const r=this.#n.get(t);let o=!1;if(void 0!==r)for(const[i,s]of Object.entries(e))r[i]!==s&&(o=!0,r[i]=s);else o=!0,this.#n.set(t,e);o&&this.#s(),e instanceof _e&&((this.#r||=new Map).set(e.annotationElementId,e),"function"==typeof this.onAnnotationEditor&&this.onAnnotationEditor(e.constructor._type))}has(t){return this.#n.has(t)}get size(){return this.#n.size}#s(){this.#e||(this.#e=!0,"function"==typeof this.onSetModified&&this.onSetModified())}resetModified(){this.#e&&(this.#e=!1,"function"==typeof this.onResetModified&&this.onResetModified())}get print(){return new gI(this)}get serializable(){if(0===this.#n.size)return by;const t=new Map,e=new pI,r=[],o=Object.create(null);let i=!1;for(const[s,a]of this.#n){const l=a instanceof _e?a.serialize(!1,o):a;l&&(t.set(s,l),e.update(`${s}:${JSON.stringify(l)}`),i||=!!l.bitmap)}if(i)for(const s of t.values())s.bitmap&&r.push(s.bitmap);return t.size>0?{map:t,hash:e.hexdigest(),transfer:r}:by}get editorStats(){let t=null;const e=new Map;let r=0,o=0;for(const i of this.#n.values()){if(!(i instanceof _e)){i.popup&&(i.popup.deleted?o+=1:r+=1);continue}i.isCommentDeleted?o+=1:i.hasEditedComment&&(r+=1);const s=i.telemetryFinalData;if(!s)continue;const{type:a}=s;e.has(a)||e.set(a,Object.getPrototypeOf(i).constructor),t||=Object.create(null);const l=t[a]||=new Map;for(const[c,u]of Object.entries(s)){if("type"===c)continue;let d=l.get(c);d||(d=new Map,l.set(c,d));const h=d.get(u)??0;d.set(u,h+1)}}if((o>0||r>0)&&(t||=Object.create(null),t.comments={deleted:o,edited:r}),!t)return null;for(const[i,s]of e)t[i]=s.computeTelemetryFinalData(t[i]);return t}resetModifiedIds(){this.#t=null}updateEditor(t,e){const r=this.#r?.get(t);return!!r&&(r.updateFromAnnotationLayer(e),!0)}getEditor(t){return this.#r?.get(t)||null}get modifiedIds(){if(this.#t)return this.#t;const t=[];if(this.#r)for(const e of this.#r.values())e.serialize()&&t.push(e.annotationElementId);return this.#t={ids:new Set(t),hash:t.join(",")}}[Symbol.iterator](){return this.#n.entries()}}class gI extends vy{#e;constructor(t){super();const{map:e,hash:r,transfer:o}=t.serializable,i=structuredClone(e,o?{transfer:o}:null);this.#e={map:i,hash:r,transfer:o}}get print(){Jt("Should not call PrintAnnotationStorage.print")}get serializable(){return this.#e}get modifiedIds(){return Ue(this,"modifiedIds",{ids:new Set,hash:""})}}class T7{#e=new Set;constructor({ownerDocument:t=globalThis.document,styleElement:e=null}){this._document=t,this.nativeFontFaces=new Set,this.styleElement=null,this.loadingRequests=[],this.loadTestFontId=0}addNativeFontFace(t){this.nativeFontFaces.add(t),this._document.fonts.add(t)}removeNativeFontFace(t){this.nativeFontFaces.delete(t),this._document.fonts.delete(t)}insertRule(t){this.styleElement||(this.styleElement=this._document.createElement("style"),this._document.documentElement.getElementsByTagName("head")[0].append(this.styleElement));const e=this.styleElement.sheet;e.insertRule(t,e.cssRules.length)}clear(){for(const t of this.nativeFontFaces)this._document.fonts.delete(t);this.nativeFontFaces.clear(),this.#e.clear(),this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}loadSystemFont(t){var e=this;return B(function*({systemFontInfo:r,disableFontFace:o,_inspectFont:i}){if(r&&!e.#e.has(r.loadedName)){if(yt(!o,"loadSystemFont shouldn't be called when `disableFontFace` is set."),e.isFontLoadingAPISupported){const{loadedName:s,src:a,style:l}=r,c=new FontFace(s,a,l);e.addNativeFontFace(c);try{yield c.load(),e.#e.add(s),i?.(r)}catch{je(`Cannot load system font: ${r.baseFontName}, installing it could help to improve PDF rendering.`),e.removeNativeFontFace(c)}return}Jt("Not implemented: loadSystemFont without the Font Loading API.")}}).apply(this,arguments)}bind(t){var e=this;return B(function*(){if(t.attached||t.missingFile&&!t.systemFontInfo)return;if(t.attached=!0,t.systemFontInfo)return void(yield e.loadSystemFont(t));if(e.isFontLoadingAPISupported){const o=t.createNativeFontFace();if(o){e.addNativeFontFace(o);try{yield o.loaded}catch(i){throw je(`Failed to load font '${o.family}': '${i}'.`),t.disableFontFace=!0,i}}return}const r=t.createFontFaceRule();if(r){if(e.insertRule(r),e.isSyncFontLoadingSupported)return;yield new Promise(o=>{const i=e._queueLoadingCallback(o);e._prepareFontLoadEvent(t,i)})}})()}get isFontLoadingAPISupported(){return Ue(this,"isFontLoadingAPISupported",!!this._document?.fonts)}get isSyncFontLoadingSupported(){return Ue(this,"isSyncFontLoadingSupported",Hr||pr.platform.isFirefox)}_queueLoadingCallback(t){const{loadingRequests:r}=this,o={done:!1,complete:function e(){for(yt(!o.done,"completeRequest() cannot be called twice."),o.done=!0;r.length>0&&r[0].done;){const i=r.shift();setTimeout(i.callback,0)}},callback:t};return r.push(o),o}get _loadTestFont(){return Ue(this,"_loadTestFont",atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA=="))}_prepareFontLoadEvent(t,e){function r(C,_){return C.charCodeAt(_)<<24|C.charCodeAt(_+1)<<16|C.charCodeAt(_+2)<<8|255&C.charCodeAt(_+3)}function o(C,_,w,k){return C.substring(0,_)+k+C.substring(_+w)}let i,s;const a=this._document.createElement("canvas");a.width=1,a.height=1;const l=a.getContext("2d");let c=0;const d=`lt${Date.now()}${this.loadTestFontId++}`;let h=this._loadTestFont;h=o(h,976,d.length,d);const g=1482184792;let m=r(h,16);for(i=0,s=d.length-3;i<s;i+=4)m=m-g+r(d,i)|0;i<d.length&&(m=m-g+r(d+"XXX",i)|0),h=o(h,16,4,function s7(n){return String.fromCharCode(n>>24&255,n>>16&255,n>>8&255,255&n)}(m));const b=`url(data:font/opentype;base64,${btoa(h)});`;this.insertRule(`@font-face {font-family:"${d}";src:${b}}`);const y=this._document.createElement("div");y.style.visibility="hidden",y.style.width=y.style.height="10px",y.style.position="absolute",y.style.top=y.style.left="0px";for(const C of[t.loadedName,d]){const _=this._document.createElement("span");_.textContent="Hi",_.style.fontFamily=C,y.append(_)}this._document.body.append(y),function u(C,_){if(++c>30)return je("Load test font never loaded."),void _();l.font="30px "+C,l.fillText(".",0,20),l.getImageData(0,0,1,1).data[3]>0?_():setTimeout(u.bind(null,C,_))}(d,()=>{y.remove(),e.complete()})}}class A7{#e;constructor(t,e=null,r,o){this.compiledGlyphs=Object.create(null),this.#e=t,this._inspectFont=e,r&&Object.assign(this,r),o&&(this.charProcOperatorList=o)}createNativeFontFace(){if(!this.data||this.disableFontFace)return null;let t;if(this.cssFontInfo){const e={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(e.style=`oblique ${this.cssFontInfo.italicAngle}deg`),t=new FontFace(this.cssFontInfo.fontFamily,this.data,e)}else t=new FontFace(this.loadedName,this.data,{});return this._inspectFont?.(this),t}createFontFaceRule(){if(!this.data||this.disableFontFace)return null;const t=`url(data:${this.mimetype};base64,${nI(this.data)});`;let e;if(this.cssFontInfo){let r=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(r+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),e=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${r}src:${t}}`}else e=`@font-face {font-family:"${this.loadedName}";src:${t}}`;return this._inspectFont?.(this,t),e}getPathGenerator(t,e){if(void 0!==this.compiledGlyphs[e])return this.compiledGlyphs[e];const r=this.loadedName+"_path_"+e;let o;try{o=t.get(r)}catch(s){je(`getPathGenerator - ignoring character: "${s}".`)}const i=uI(o);return this.fontExtraProperties||t.delete(r),this.compiledGlyphs[e]=i}get black(){return this.#e.black}get bold(){return this.#e.bold}get disableFontFace(){return this.#e.disableFontFace??!1}set disableFontFace(t){Ue(this,"disableFontFace",!!t)}get fontExtraProperties(){return this.#e.fontExtraProperties??!1}get isInvalidPDFjsFont(){return this.#e.isInvalidPDFjsFont}get isType3Font(){return this.#e.isType3Font}get italic(){return this.#e.italic}get missingFile(){return this.#e.missingFile}get remeasure(){return this.#e.remeasure}get vertical(){return this.#e.vertical}get ascent(){return this.#e.ascent}get defaultWidth(){return this.#e.defaultWidth}get descent(){return this.#e.descent}get bbox(){return this.#e.bbox}set bbox(t){Ue(this,"bbox",t)}get fontMatrix(){return this.#e.fontMatrix}get fallbackName(){return this.#e.fallbackName}get loadedName(){return this.#e.loadedName}get mimetype(){return this.#e.mimetype}get name(){return this.#e.name}get data(){return this.#e.data}clearData(){this.#e.clearData()}get cssFontInfo(){return this.#e.cssFontInfo}get systemFontInfo(){return this.#e.systemFontInfo}get defaultVMetrics(){return this.#e.defaultVMetrics}}let mI=(()=>{class n{#e;#t;#r;static strings=["fontFamily","fontWeight","italicAngle"];static write(e){const r=new TextEncoder,o={};let i=0;for(const u of n.strings){const d=r.encode(e[u]);o[u]=d,i+=4+d.length}const s=new ArrayBuffer(i),a=new Uint8Array(s),l=new DataView(s);let c=0;for(const u of n.strings){const d=o[u],h=d.length;l.setUint32(c,h),a.set(d,c+4),c+=4+h}return yt(c===s.byteLength,"CssFontInfo.write: Buffer overflow"),s}constructor(e){this.#e=e,this.#t=new DataView(this.#e),this.#r=new TextDecoder}#n(e){yt(e<n.strings.length,"Invalid string index");let r=0;for(let i=0;i<e;i++)r+=this.#t.getUint32(r)+4;const o=this.#t.getUint32(r);return this.#r.decode(new Uint8Array(this.#e,r+4,o))}get fontFamily(){return this.#n(0)}get fontWeight(){return this.#n(1)}get italicAngle(){return this.#n(2)}}return n})(),bI=(()=>{class n{#e;#t;#r;static strings=["css","loadedName","baseFontName","src"];static write(e){const r=new TextEncoder,o={};let i=0;for(const f of n.strings){const p=r.encode(e[f]);o[f]=p,i+=4+p.length}i+=4;let s,a,l=1+i;e.style&&(s=r.encode(e.style.style),a=r.encode(e.style.weight),l+=4+s.length+4+a.length);const c=new ArrayBuffer(l),u=new Uint8Array(c),d=new DataView(c);let h=0;d.setUint8(h++,e.guessFallback?1:0),d.setUint32(h,0),h+=4,i=0;for(const f of n.strings){const p=o[f],g=p.length;i+=4+g,d.setUint32(h,g),u.set(p,h+4),h+=4+g}return d.setUint32(h-i-4,i),e.style&&(d.setUint32(h,s.length),u.set(s,h+4),h+=4+s.length,d.setUint32(h,a.length),u.set(a,h+4),h+=4+a.length),yt(h<=c.byteLength,"SubstitionInfo.write: Buffer overflow"),c.transferToFixedLength(h)}constructor(e){this.#e=e,this.#t=new DataView(this.#e),this.#r=new TextDecoder}get guessFallback(){return 0!==this.#t.getUint8(0)}#n(e){yt(e<n.strings.length,"Invalid string index");let r=5;for(let i=0;i<e;i++)r+=this.#t.getUint32(r)+4;const o=this.#t.getUint32(r);return this.#r.decode(new Uint8Array(this.#e,r+4,o))}get css(){return this.#n(0)}get loadedName(){return this.#n(1)}get baseFontName(){return this.#n(2)}get src(){return this.#n(3)}get style(){let e=1;e+=4+this.#t.getUint32(e);const r=this.#t.getUint32(e),o=this.#r.decode(new Uint8Array(this.#e,e+4,r));e+=4+r;const i=this.#t.getUint32(e);return{style:o,weight:this.#r.decode(new Uint8Array(this.#e,e+4,i))}}}return n})(),I7=(()=>{class n{static bools=["black","bold","disableFontFace","fontExtraProperties","isInvalidPDFjsFont","isType3Font","italic","missingFile","remeasure","vertical"];static numbers=["ascent","defaultWidth","descent"];static strings=["fallbackName","loadedName","mimetype","name"];static#e=Math.ceil(2*this.bools.length/8);static#t=this.#e+8*this.numbers.length;static#r=this.#t+1+8;static#n=this.#r+1+48;static#s=this.#n+1+6;#i;#o;#a;constructor({data:e,extra:r}){this.#i=e,this.#o=new TextDecoder,this.#a=new DataView(this.#i),r&&Object.assign(this,r)}#c(e){yt(e<n.bools.length,"Invalid boolean index");const r=Math.floor(e/4),o=2*e%8,i=this.#a.getUint8(r)>>o&3;return 0===i?void 0:2===i}get black(){return this.#c(0)}get bold(){return this.#c(1)}get disableFontFace(){return this.#c(2)}get fontExtraProperties(){return this.#c(3)}get isInvalidPDFjsFont(){return this.#c(4)}get isType3Font(){return this.#c(5)}get italic(){return this.#c(6)}get missingFile(){return this.#c(7)}get remeasure(){return this.#c(8)}get vertical(){return this.#c(9)}#l(e){return yt(e<n.numbers.length,"Invalid number index"),this.#a.getFloat64(n.#e+8*e)}get ascent(){return this.#l(0)}get defaultWidth(){return this.#l(1)}get descent(){return this.#l(2)}get bbox(){let e=n.#t;if(0===this.#a.getUint8(e))return;e+=1;const o=[];for(let i=0;i<4;i++)o.push(this.#a.getInt16(e,!0)),e+=2;return o}get fontMatrix(){let e=n.#r;if(0===this.#a.getUint8(e))return;e+=1;const o=[];for(let i=0;i<6;i++)o.push(this.#a.getFloat64(e,!0)),e+=8;return o}get defaultVMetrics(){let e=n.#n;if(0===this.#a.getUint8(e))return;e+=1;const o=[];for(let i=0;i<3;i++)o.push(this.#a.getInt16(e,!0)),e+=2;return o}#h(e){yt(e<n.strings.length,"Invalid string index");let r=n.#s+4;for(let s=0;s<e;s++)r+=this.#a.getUint32(r)+4;const o=this.#a.getUint32(r),i=new Uint8Array(o);return i.set(new Uint8Array(this.#i,r+4,o)),this.#o.decode(i)}get fallbackName(){return this.#h(0)}get loadedName(){return this.#h(1)}get mimetype(){return this.#h(2)}get name(){return this.#h(3)}get data(){let e=n.#s;e+=4+this.#a.getUint32(e),e+=4+this.#a.getUint32(e),e+=4+this.#a.getUint32(e);const s=this.#a.getUint32(e);if(0!==s)return new Uint8Array(this.#i,e+4,s)}clearData(){let e=n.#s;e+=4+this.#a.getUint32(e),e+=4+this.#a.getUint32(e),e+=4+this.#a.getUint32(e);const s=this.#a.getUint32(e);new Uint8Array(this.#i,e+4,s).fill(0),this.#a.setUint32(e,0)}get cssFontInfo(){let e=n.#s;e+=4+this.#a.getUint32(e),e+=4+this.#a.getUint32(e);const i=this.#a.getUint32(e);if(0===i)return null;const s=new Uint8Array(i);return s.set(new Uint8Array(this.#i,e+4,i)),new mI(s.buffer)}get systemFontInfo(){let e=n.#s;e+=4+this.#a.getUint32(e);const o=this.#a.getUint32(e);if(0===o)return null;const i=new Uint8Array(o);return i.set(new Uint8Array(this.#i,e+4,o)),new bI(i.buffer)}static write(e){const r=e.systemFontInfo?bI.write(e.systemFontInfo):null,o=e.cssFontInfo?mI.write(e.cssFontInfo):null,i=new TextEncoder,s={};let a=0;for(const m of n.strings)s[m]=i.encode(e[m]),a+=4+s[m].length;const l=n.#s+4+a+4+(r?r.byteLength:0)+4+(o?o.byteLength:0)+4+(e.data?e.data.length:0),c=new ArrayBuffer(l),u=new Uint8Array(c),d=new DataView(c);let h=0;const f=n.bools.length;let p=0,g=0;for(let m=0;m<f;m++){const b=e[n.bools[m]];p|=(void 0===b?0:b?2:1)<<g,g+=2,(8===g||m===f-1)&&(d.setUint8(h++,p),p=0,g=0)}yt(h===n.#e,"FontInfo.write: Boolean properties offset mismatch");for(const m of n.numbers)d.setFloat64(h,e[m]),h+=8;if(yt(h===n.#t,"FontInfo.write: Number properties offset mismatch"),e.bbox){d.setUint8(h++,4);for(const m of e.bbox)d.setInt16(h,m,!0),h+=2}else d.setUint8(h++,0),h+=8;if(yt(h===n.#r,"FontInfo.write: BBox properties offset mismatch"),e.fontMatrix){d.setUint8(h++,6);for(const m of e.fontMatrix)d.setFloat64(h,m,!0),h+=8}else d.setUint8(h++,0),h+=48;if(yt(h===n.#n,"FontInfo.write: FontMatrix properties offset mismatch"),e.defaultVMetrics){d.setUint8(h++,1);for(const m of e.defaultVMetrics)d.setInt16(h,m,!0),h+=2}else d.setUint8(h++,0),h+=6;yt(h===n.#s,"FontInfo.write: DefaultVMetrics properties offset mismatch"),d.setUint32(n.#s,0),h+=4;for(const m of n.strings){const b=s[m],v=b.length;d.setUint32(h,v),u.set(b,h+4),h+=4+v}if(d.setUint32(n.#s,h-n.#s-4),r){const m=r.byteLength;d.setUint32(h,m),yt(h+4+m<=c.byteLength,"FontInfo.write: Buffer overflow at systemFontInfo"),u.set(new Uint8Array(r),h+4),h+=4+m}else d.setUint32(h,0),h+=4;if(o){const m=o.byteLength;d.setUint32(h,m),yt(h+4+m<=c.byteLength,"FontInfo.write: Buffer overflow at cssFontInfo"),u.set(new Uint8Array(o),h+4),h+=4+m}else d.setUint32(h,0),h+=4;return void 0===e.data?(d.setUint32(h,0),h+=4):(d.setUint32(h,e.data.length),u.set(e.data,h+4),h+=4+e.data.length),yt(h<=c.byteLength,"FontInfo.write: Buffer overflow"),c.transferToFixedLength(h)}}return n})();class ir{static#e=0;static#t=1;static#r=2;static#n=3;static#s=4;static#i=8;static#o=12;static#a=16;constructor(t){this.buffer=t,this.view=new DataView(t),this.data=new Uint8Array(t)}static write(t){let e,r=null,o=[],i=[],s=[],a=[],l=null,c=null;switch(t[0]){case"RadialAxial":e="axial"===t[1]?1:2,r=t[2],s=t[3],1===e?o.push(...t[4],...t[5]):o.push(t[4][0],t[4][1],t[6],t[5][0],t[5][1],t[7]);break;case"Mesh":e=3,l=t[1],o=t[2],i=t[3],a=t[4]||[],r=t[6],c=t[7];break;default:throw new Error(`Unsupported pattern type: ${t[0]}`)}const u=Math.floor(o.length/2),d=Math.floor(i.length/3),h=s.length,f=a.length;let p=0;for(const _ of a)p+=1,p=4*Math.ceil(p/4),p+=4+4*_.coords.length,p+=4+4*_.colors.length,void 0!==_.verticesPerRow&&(p+=4);const m=new ArrayBuffer(20+8*u+3*d+8*h+(r?16:0)+(c?3:0)+p),b=new DataView(m),v=new Uint8Array(m);b.setUint8(ir.#e,e),b.setUint8(ir.#t,r?1:0),b.setUint8(ir.#r,c?1:0),b.setUint8(ir.#n,l),b.setUint32(ir.#s,u,!0),b.setUint32(ir.#i,d,!0),b.setUint32(ir.#o,h,!0),b.setUint32(ir.#a,f,!0);let y=20;new Float32Array(m,y,2*u).set(o),y+=8*u,v.set(i,y),y+=3*d;for(const[_,w]of s)b.setFloat32(y,_,!0),y+=4,b.setUint32(y,parseInt(w.slice(1),16),!0),y+=4;if(r)for(const _ of r)b.setFloat32(y,_,!0),y+=4;c&&(v.set(c,y),y+=3);for(let _=0;_<a.length;_++){const w=a[_];b.setUint8(y,w.type),y+=1,y=4*Math.ceil(y/4),b.setUint32(y,w.coords.length,!0),y+=4,new Int32Array(m,y,w.coords.length).set(w.coords),y+=4*w.coords.length,b.setUint32(y,w.colors.length,!0),y+=4,new Int32Array(m,y,w.colors.length).set(w.colors),y+=4*w.colors.length,void 0!==w.verticesPerRow&&(b.setUint32(y,w.verticesPerRow,!0),y+=4)}return m}getIR(){const t=this.view,e=this.data[ir.#e],r=!!this.data[ir.#t],o=!!this.data[ir.#r],i=t.getUint32(ir.#s,!0),s=t.getUint32(ir.#i,!0),a=t.getUint32(ir.#o,!0),l=t.getUint32(ir.#a,!0);let c=20;const u=new Float32Array(this.buffer,c,2*i);c+=8*i;const d=new Uint8Array(this.buffer,c,3*s);c+=3*s;const h=[];for(let m=0;m<a;++m){const b=t.getFloat32(c,!0);c+=4;const v=t.getUint32(c,!0);c+=4,h.push([b,`#${v.toString(16).padStart(6,"0")}`])}let f=null;if(r){f=[];for(let m=0;m<4;++m)f.push(t.getFloat32(c,!0)),c+=4}let p=null;o&&(p=new Uint8Array(this.buffer,c,3),c+=3);const g=[];for(let m=0;m<l;++m){const b=t.getUint8(c);c+=1,c=4*Math.ceil(c/4);const v=t.getUint32(c,!0);c+=4;const y=new Int32Array(this.buffer,c,v);c+=4*v;const C=t.getUint32(c,!0);c+=4;const _=new Int32Array(this.buffer,c,C);c+=4*C;const w={type:b,coords:y,colors:_};2===b&&(w.verticesPerRow=t.getUint32(c,!0),c+=4),g.push(w)}if(1===e)return["RadialAxial","axial",f,h,Array.from(u.slice(0,2)),Array.from(u.slice(2,4)),null,null];if(2===e)return["RadialAxial","radial",f,h,[u[0],u[1]],[u[3],u[4]],u[2],u[5]];if(3===e){const m=this.data[ir.#n];let b=null;if(u.length>0){let v=u[0],y=u[0],C=u[1],_=u[1];for(let w=0;w<u.length;w+=2){const k=u[w],A=u[w+1];v=v>k?k:v,C=C>A?A:C,y=y<k?k:y,_=_<A?A:_}b=[v,C,y,_]}return["Mesh",m,u,d,g,b,f,p]}throw new Error(`Unsupported pattern kind: ${e}`)}}function ap(n){if("string"!=typeof n)return null;if(n.endsWith("/"))return n;throw new Error(`Invalid factory url: "${n}" must include trailing slash.`)}const yy=n=>"object"==typeof n&&Number.isInteger(n?.num)&&n.num>=0&&Number.isInteger(n?.gen)&&n.gen>=0,N7=function h7(n,t,e){if(!Array.isArray(e)||e.length<2)return!1;const[r,o,...i]=e;if(!n(r)&&!Number.isInteger(r)||!t(o))return!1;const s=i.length;let a=!0;switch(o.name){case"XYZ":if(s<2||s>3)return!1;break;case"Fit":case"FitB":return 0===s;case"FitH":case"FitBH":case"FitV":case"FitBV":if(s>1)return!1;break;case"FitR":if(4!==s)return!1;a=!1;break;default:return!1}for(const l of i)if(!("number"==typeof l||a&&null===l))return!1;return!0}.bind(null,yy,n=>"object"==typeof n&&"string"==typeof n?.name);class O7{#e=new Map;#t=Promise.resolve();postMessage(t,e){const r={data:structuredClone(t,e?{transfer:e}:null)};this.#t.then(()=>{for(const[o]of this.#e)o.call(this,r)})}addEventListener(t,e,r=null){let o=null;if(r?.signal instanceof AbortSignal){const{signal:i}=r;if(i.aborted)return void je("LoopbackPort - cannot use an `aborted` signal.");const s=()=>this.removeEventListener(t,e);o=()=>i.removeEventListener("abort",s),i.addEventListener("abort",s)}this.#e.set(e,o)}removeEventListener(t,e){this.#e.get(e)?.(),this.#e.delete(e)}terminate(){for(const[,t]of this.#e)t?.();this.#e.clear()}}function vI(){}function oo(n){if(n instanceof _s||n instanceof ay||n instanceof QA||n instanceof np||n instanceof sy)return n;switch(n instanceof Error||"object"==typeof n&&null!==n||Jt('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),n.name){case"AbortException":return new _s(n.message);case"InvalidPDFException":return new ay(n.message);case"PasswordException":return new QA(n.message,n.code);case"ResponseException":return new np(n.message,n.status,n.missing);case"UnknownErrorException":return new sy(n.message,n.details)}return new sy(n.message,n.toString())}class ju{#e=new AbortController;constructor(t,e,r){this.sourceName=t,this.targetName=e,this.comObj=r,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),r.addEventListener("message",this.#t.bind(this),{signal:this.#e.signal})}#t({data:t}){if(t.targetName!==this.sourceName)return;if(t.stream)return void this.#n(t);if(t.callback){const r=t.callbackId,o=this.callbackCapabilities[r];if(!o)throw new Error(`Cannot resolve callback ${r}`);if(delete this.callbackCapabilities[r],1===t.callback)o.resolve(t.data);else{if(2!==t.callback)throw new Error("Unexpected callback case");o.reject(oo(t.reason))}return}const e=this.actionHandler[t.action];if(!e)throw new Error(`Unknown action from worker: ${t.action}`);if(t.callbackId){const r=this.sourceName,o=t.sourceName,i=this.comObj;return void Promise.try(e,t.data).then(function(s){i.postMessage({sourceName:r,targetName:o,callback:1,callbackId:t.callbackId,data:s})},function(s){i.postMessage({sourceName:r,targetName:o,callback:2,callbackId:t.callbackId,reason:oo(s)})})}t.streamId?this.#r(t):e(t.data)}on(t,e){const r=this.actionHandler;if(r[t])throw new Error(`There is already an actionName called "${t}"`);r[t]=e}send(t,e,r){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:t,data:e},r)}sendWithPromise(t,e,r){const o=this.callbackId++,i=Promise.withResolvers();this.callbackCapabilities[o]=i;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:t,callbackId:o,data:e},r)}catch(s){i.reject(s)}return i.promise}sendWithStream(t,e,r,o){const i=this.streamId++,s=this.sourceName,a=this.targetName,l=this.comObj;return new ReadableStream({start:c=>{const u=Promise.withResolvers();return this.streamControllers[i]={controller:c,startCall:u,pullCall:null,cancelCall:null,isClosed:!1},l.postMessage({sourceName:s,targetName:a,action:t,streamId:i,data:e,desiredSize:c.desiredSize},o),u.promise},pull:c=>{const u=Promise.withResolvers();return this.streamControllers[i].pullCall=u,l.postMessage({sourceName:s,targetName:a,stream:6,streamId:i,desiredSize:c.desiredSize}),u.promise},cancel:c=>{yt(c instanceof Error,"cancel must have a valid reason");const u=Promise.withResolvers();return this.streamControllers[i].cancelCall=u,this.streamControllers[i].isClosed=!0,l.postMessage({sourceName:s,targetName:a,stream:1,streamId:i,reason:oo(c)}),u.promise}},r)}#r(t){const e=t.streamId,r=this.sourceName,o=t.sourceName,i=this.comObj,s=this,a=this.actionHandler[t.action],l={enqueue(c,u=1,d){if(this.isCancelled)return;const h=this.desiredSize;this.desiredSize-=u,h>0&&this.desiredSize<=0&&(this.sinkCapability=Promise.withResolvers(),this.ready=this.sinkCapability.promise),i.postMessage({sourceName:r,targetName:o,stream:4,streamId:e,chunk:c},d)},close(){this.isCancelled||(this.isCancelled=!0,i.postMessage({sourceName:r,targetName:o,stream:3,streamId:e}),delete s.streamSinks[e])},error(c){yt(c instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,i.postMessage({sourceName:r,targetName:o,stream:5,streamId:e,reason:oo(c)}))},sinkCapability:Promise.withResolvers(),onPull:null,onCancel:null,isCancelled:!1,desiredSize:t.desiredSize,ready:null};l.sinkCapability.resolve(),l.ready=l.sinkCapability.promise,this.streamSinks[e]=l,Promise.try(a,t.data,l).then(function(){i.postMessage({sourceName:r,targetName:o,stream:8,streamId:e,success:!0})},function(c){i.postMessage({sourceName:r,targetName:o,stream:8,streamId:e,reason:oo(c)})})}#n(t){const e=t.streamId,r=this.sourceName,o=t.sourceName,i=this.comObj,s=this.streamControllers[e],a=this.streamSinks[e];switch(t.stream){case 8:t.success?s.startCall.resolve():s.startCall.reject(oo(t.reason));break;case 7:t.success?s.pullCall.resolve():s.pullCall.reject(oo(t.reason));break;case 6:if(!a){i.postMessage({sourceName:r,targetName:o,stream:7,streamId:e,success:!0});break}a.desiredSize<=0&&t.desiredSize>0&&a.sinkCapability.resolve(),a.desiredSize=t.desiredSize,Promise.try(a.onPull||vI).then(function(){i.postMessage({sourceName:r,targetName:o,stream:7,streamId:e,success:!0})},function(c){i.postMessage({sourceName:r,targetName:o,stream:7,streamId:e,reason:oo(c)})});break;case 4:if(yt(s,"enqueue should have stream controller"),s.isClosed)break;s.controller.enqueue(t.chunk);break;case 3:if(yt(s,"close should have stream controller"),s.isClosed)break;s.isClosed=!0,s.controller.close(),this.#s(s,e);break;case 5:yt(s,"error should have stream controller"),s.controller.error(oo(t.reason)),this.#s(s,e);break;case 2:t.success?s.cancelCall.resolve():s.cancelCall.reject(oo(t.reason)),this.#s(s,e);break;case 1:if(!a)break;const l=oo(t.reason);Promise.try(a.onCancel||vI,l).then(function(){i.postMessage({sourceName:r,targetName:o,stream:2,streamId:e,success:!0})},function(c){i.postMessage({sourceName:r,targetName:o,stream:2,streamId:e,reason:oo(c)})}),a.sinkCapability.reject(l),a.isCancelled=!0,delete this.streamSinks[e];break;default:throw new Error("Unexpected stream case")}}#s(t,e){var r=this;return B(function*(){yield Promise.allSettled([t.startCall?.promise,t.pullCall?.promise,t.cancelCall?.promise]),delete r.streamControllers[e]})()}destroy(){this.#e?.abort(),this.#e=null}}class yI{#e=!1;constructor({enableHWA:t=!1}){this.#e=t}create(t,e){if(t<=0||e<=0)throw new Error("Invalid canvas size");const r=this._createCanvas(t,e);return{canvas:r,context:r.getContext("2d",{willReadFrequently:!this.#e})}}reset(t,e,r){if(!t.canvas)throw new Error("Canvas is not specified");if(e<=0||r<=0)throw new Error("Invalid canvas size");t.canvas.width=e,t.canvas.height=r}destroy(t){if(!t.canvas)throw new Error("Canvas is not specified");t.canvas.width=0,t.canvas.height=0,t.canvas=null,t.context=null}_createCanvas(t,e){Jt("Abstract method `_createCanvas` called.")}}class L7 extends yI{constructor({ownerDocument:t=globalThis.document,enableHWA:e=!1}){super({enableHWA:e}),this._document=t}_createCanvas(t,e){const r=this._document.createElement("canvas");return r.width=t,r.height=e,r}}class _I{constructor({baseUrl:t=null,isCompressed:e=!0}){this.baseUrl=t,this.isCompressed=e}fetch(t){var e=this;return B(function*({name:r}){if(!e.baseUrl)throw new Error("Ensure that the `cMapUrl` and `cMapPacked` API parameters are provided.");if(!r)throw new Error("CMap name must be specified.");const o=e.baseUrl+r+(e.isCompressed?".bcmap":"");return e._fetch(o).then(i=>({cMapData:i,isCompressed:e.isCompressed})).catch(i=>{throw new Error(`Unable to load ${e.isCompressed?"binary ":""}CMap at: ${o}`)})}).apply(this,arguments)}_fetch(t){return B(function*(){Jt("Abstract method `_fetch` called.")})()}}class CI extends _I{_fetch(t){var e=this;return B(function*(){const r=yield Nu(t,e.isCompressed?"arraybuffer":"text");return r instanceof ArrayBuffer?new Uint8Array(r):zl(r)})()}}class wI{addFilter(t){return"none"}addHCMFilter(t,e){return"none"}addAlphaFilter(t){return"none"}addLuminosityFilter(t){return"none"}addHighlightHCMFilter(t,e,r,o,i){return"none"}destroy(t=!1){}}class P7 extends wI{#e;#t;#r;#n;#s;#i;#o=0;constructor({docId:t,ownerDocument:e=globalThis.document}){super(),this.#n=t,this.#s=e}get#a(){return this.#t||=new Map}get#c(){return this.#i||=new Map}get#l(){if(!this.#r){const t=this.#s.createElement("div"),{style:e}=t;e.visibility="hidden",e.contain="strict",e.width=e.height=0,e.position="absolute",e.top=e.left=0,e.zIndex=-1;const r=this.#s.createElementNS(Gi,"svg");r.setAttribute("width",0),r.setAttribute("height",0),this.#r=this.#s.createElementNS(Gi,"defs"),t.append(r),r.append(this.#r),this.#s.body.append(t)}return this.#r}#h(t){if(1===t.length){const l=t[0],c=new Array(256);for(let d=0;d<256;d++)c[d]=l[d]/255;const u=c.join(",");return[u,u,u]}const[e,r,o]=t,i=new Array(256),s=new Array(256),a=new Array(256);for(let l=0;l<256;l++)i[l]=e[l]/255,s[l]=r[l]/255,a[l]=o[l]/255;return[i.join(","),s.join(","),a.join(",")]}#d(t){if(void 0===this.#e){this.#e="";const e=this.#s.URL;e!==this.#s.baseURI&&(op(e)?je('#createUrl: ignore "data:"-URL for performance reasons.'):this.#e=ZA(e,""))}return`url(${this.#e}#${t})`}addFilter(t){if(!t)return"none";let e=this.#a.get(t);if(e)return e;const[r,o,i]=this.#h(t),s=1===t.length?r:`${r}${o}${i}`;if(e=this.#a.get(s),e)return this.#a.set(t,e),e;const a=`g_${this.#n}_transfer_map_${this.#o++}`,l=this.#d(a);this.#a.set(t,l),this.#a.set(s,l);const c=this.#g(a);return this.#p(r,o,i,c),l}addHCMFilter(t,e){const r=`${t}-${e}`,o="base";let i=this.#c.get(o);if(i?.key===r||(i?(i.filter?.remove(),i.key=r,i.url="none",i.filter=null):(i={key:r,url:"none",filter:null},this.#c.set(o,i)),!t||!e))return i.url;const s=this.#y(t);t=he.makeHexColor(...s);const a=this.#y(e);if(e=he.makeHexColor(...a),this.#l.style.color="","#000000"===t&&"#ffffff"===e||t===e)return i.url;const l=new Array(256);for(let f=0;f<=255;f++){const p=f/255;l[f]=p<=.03928?p/12.92:((p+.055)/1.055)**2.4}const c=l.join(","),u=`g_${this.#n}_hcm_filter`,d=i.filter=this.#g(u);this.#p(c,c,c,d),this.#m(d);const h=(f,p)=>{const g=s[f]/255,m=a[f]/255,b=new Array(p+1);for(let v=0;v<=p;v++)b[v]=g+v/p*(m-g);return b.join(",")};return this.#p(h(0,5),h(1,5),h(2,5),d),i.url=this.#d(u),i.url}addAlphaFilter(t){let e=this.#a.get(t);if(e)return e;const[r]=this.#h([t]),o=`alpha_${r}`;if(e=this.#a.get(o),e)return this.#a.set(t,e),e;const i=`g_${this.#n}_alpha_map_${this.#o++}`,s=this.#d(i);this.#a.set(t,s),this.#a.set(o,s);const a=this.#g(i);return this.#b(r,a),s}addLuminosityFilter(t){let r,o,e=this.#a.get(t||"luminosity");if(e)return e;if(t?([r]=this.#h([t]),o=`luminosity_${r}`):o="luminosity",e=this.#a.get(o),e)return this.#a.set(t,e),e;const i=`g_${this.#n}_luminosity_map_${this.#o++}`,s=this.#d(i);this.#a.set(t,s),this.#a.set(o,s);const a=this.#g(i);return this.#f(a),t&&this.#b(r,a),s}addHighlightHCMFilter(t,e,r,o,i){const s=`${e}-${r}-${o}-${i}`;let a=this.#c.get(t);if(a?.key===s||(a?(a.filter?.remove(),a.key=s,a.url="none",a.filter=null):(a={key:s,url:"none",filter:null},this.#c.set(t,a)),!e||!r))return a.url;const[l,c]=[e,r].map(this.#y.bind(this));let u=Math.round(.2126*l[0]+.7152*l[1]+.0722*l[2]),d=Math.round(.2126*c[0]+.7152*c[1]+.0722*c[2]),[h,f]=[o,i].map(this.#y.bind(this));d<u&&([u,d,h,f]=[d,u,f,h]),this.#l.style.color="";const p=(b,v,y)=>{const C=new Array(256),_=(d-u)/y,w=b/255,k=(v-b)/(255*y);let A=0;for(let $=0;$<=y;$++){const K=Math.round(u+$*_),z=w+$*k;for(let st=A;st<=K;st++)C[st]=z;A=K+1}for(let $=A;$<256;$++)C[$]=C[A-1];return C.join(",")},g=`g_${this.#n}_hcm_${t}_filter`,m=a.filter=this.#g(g);return this.#m(m),this.#p(p(h[0],f[0],5),p(h[1],f[1],5),p(h[2],f[2],5),m),a.url=this.#d(g),a.url}destroy(t=!1){t&&this.#i?.size||(this.#r?.parentNode.parentNode.remove(),this.#r=null,this.#t?.clear(),this.#t=null,this.#i?.clear(),this.#i=null,this.#o=0)}#f(t){const e=this.#s.createElementNS(Gi,"feColorMatrix");e.setAttribute("type","matrix"),e.setAttribute("values","0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.3 0.59 0.11 0 0"),t.append(e)}#m(t){const e=this.#s.createElementNS(Gi,"feColorMatrix");e.setAttribute("type","matrix"),e.setAttribute("values","0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0 0 0 1 0"),t.append(e)}#g(t){const e=this.#s.createElementNS(Gi,"filter");return e.setAttribute("color-interpolation-filters","sRGB"),e.setAttribute("id",t),this.#l.append(e),e}#u(t,e,r){const o=this.#s.createElementNS(Gi,e);o.setAttribute("type","discrete"),o.setAttribute("tableValues",r),t.append(o)}#p(t,e,r,o){const i=this.#s.createElementNS(Gi,"feComponentTransfer");o.append(i),this.#u(i,"feFuncR",t),this.#u(i,"feFuncG",e),this.#u(i,"feFuncB",r)}#b(t,e){const r=this.#s.createElementNS(Gi,"feComponentTransfer");e.append(r),this.#u(r,"feFuncA",t)}#y(t){return this.#l.style.color=t,Pu(getComputedStyle(this.#l).getPropertyValue("color"))}}class EI{constructor({baseUrl:t=null}){this.baseUrl=t}fetch(t){var e=this;return B(function*({filename:r}){if(!e.baseUrl)throw new Error("Ensure that the `standardFontDataUrl` API parameter is provided.");if(!r)throw new Error("Font filename must be specified.");const o=`${e.baseUrl}${r}`;return e._fetch(o).catch(i=>{throw new Error(`Unable to load font data at: ${o}`)})}).apply(this,arguments)}_fetch(t){return B(function*(){Jt("Abstract method `_fetch` called.")})()}}class DI extends EI{_fetch(t){return B(function*(){const e=yield Nu(t,"arraybuffer");return new Uint8Array(e)})()}}class SI{constructor({baseUrl:t=null}){this.baseUrl=t}fetch(t){var e=this;return B(function*({filename:r}){if(!e.baseUrl)throw new Error("Ensure that the `wasmUrl` API parameter is provided.");if(!r)throw new Error("Wasm filename must be specified.");const o=`${e.baseUrl}${r}`;return e._fetch(o).catch(i=>{throw new Error(`Unable to load wasm data at: ${o}`)})}).apply(this,arguments)}_fetch(t){return B(function*(){Jt("Abstract method `_fetch` called.")})()}}class kI extends SI{_fetch(t){return B(function*(){const e=yield Nu(t,"arraybuffer");return new Uint8Array(e)})()}}function _y(n){return Cy.apply(this,arguments)}function Cy(){return(Cy=B(function*(n){const e=yield process.getBuiltinModule("fs").promises.readFile(n);return new Uint8Array(e)})).apply(this,arguments)}Hr&&je("Please use the `legacy` build in Node.js environments.");class F7 extends wI{}class B7 extends yI{_createCanvas(t,e){return process.getBuiltinModule("module").createRequire("file:///C:/temp/ng-carlos-odoo/node_modules/pdfjs-dist/build/pdf.mjs")("@napi-rs/canvas").createCanvas(t,e)}}class H7 extends _I{_fetch(t){return B(function*(){return _y(t)})()}}class j7 extends EI{_fetch(t){return B(function*(){return _y(t)})()}}class $7 extends SI{_fetch(t){return B(function*(){return _y(t)})()}}const ql="__forcedDependency",{floor:TI,ceil:AI}=Math;function cp(n,t,e,r,o,i){n[4*t+0]=Math.min(n[4*t+0],e),n[4*t+1]=Math.min(n[4*t+1],r),n[4*t+2]=Math.max(n[4*t+2],o),n[4*t+3]=Math.max(n[4*t+3],i)}const wy=new Uint32Array(new Uint8Array([255,255,0,0]).buffer)[0];class U7{#e;#t;constructor(t,e){this.#e=t,this.#t=e}get length(){return this.#e.length}isEmpty(t){return this.#e[t]===wy}minX(t){return this.#t[4*t+0]/256}minY(t){return this.#t[4*t+1]/256}maxX(t){return(this.#t[4*t+2]+1)/256}maxY(t){return(this.#t[4*t+3]+1)/256}}const up=(n,t)=>{if(!n)return;let e=n.get(t);return e||(e={dependencies:new Set,isRenderingOperation:!1},n.set(t,e)),e};class V7{#e={__proto__:null};#t={__proto__:null,transform:[],moveText:[],sameLineText:[],[ql]:[]};#r=new Map;#n=[];#s=[];#i=[[1,0,0,1,0,0]];#o=[-1/0,-1/0,1/0,1/0];#a=new Float64Array([1/0,1/0,-1/0,-1/0]);#c=-1;#l=new Set;#h=new Map;#d=new Map;#f;#m;#g;#u;#p;constructor(t,e,r=!1){this.#f=t.width,this.#m=t.height,this.#b(e),r&&(this.#p=new Map)}growOperationsCount(t){t>=this.#u.length&&this.#b(t,this.#u)}#b(t,e){const r=new ArrayBuffer(4*t);this.#g=new Uint8ClampedArray(r),this.#u=new Uint32Array(r),e&&e.length>0?(this.#u.set(e),this.#u.fill(wy,e.length)):this.#u.fill(wy)}save(t){return this.#e={__proto__:this.#e},this.#t={__proto__:this.#t,transform:{__proto__:this.#t.transform},moveText:{__proto__:this.#t.moveText},sameLineText:{__proto__:this.#t.sameLineText},[ql]:{__proto__:this.#t[ql]}},this.#o={__proto__:this.#o},this.#n.push(t),this}restore(t){const e=Object.getPrototypeOf(this.#e);if(null===e)return this;this.#e=e,this.#t=Object.getPrototypeOf(this.#t),this.#o=Object.getPrototypeOf(this.#o);const r=this.#n.pop();return void 0!==r&&(up(this.#p,t)?.dependencies.add(r),this.#u[t]=this.#u[r]),this}recordOpenMarker(t){return this.#n.push(t),this}getOpenMarker(){return 0===this.#n.length?null:this.#n.at(-1)}recordCloseMarker(t){const e=this.#n.pop();return void 0!==e&&(up(this.#p,t)?.dependencies.add(e),this.#u[t]=this.#u[e]),this}beginMarkedContent(t){return this.#s.push(t),this}endMarkedContent(t){const e=this.#s.pop();return void 0!==e&&(up(this.#p,t)?.dependencies.add(e),this.#u[t]=this.#u[e]),this}pushBaseTransform(t){return this.#i.push(he.multiplyByDOMMatrix(this.#i.at(-1),t.getTransform())),this}popBaseTransform(){return this.#i.length>1&&this.#i.pop(),this}recordSimpleData(t,e){return this.#e[t]=e,this}recordIncrementalData(t,e){return this.#t[t].push(e),this}resetIncrementalData(t,e){return this.#t[t].length=0,this}recordNamedData(t,e){return this.#r.set(t,e),this}recordSimpleDataFromNamed(t,e,r){this.#e[t]=this.#r.get(e)??r}recordFutureForcedDependency(t,e){return this.recordIncrementalData(ql,e),this}inheritSimpleDataAsFutureForcedDependencies(t){for(const e of t)e in this.#e&&this.recordFutureForcedDependency(e,this.#e[e]);return this}inheritPendingDependenciesAsFutureForcedDependencies(){for(const t of this.#l)this.recordFutureForcedDependency(ql,t);return this}resetBBox(t){return this.#c!==t&&(this.#c=t,this.#a[0]=1/0,this.#a[1]=1/0,this.#a[2]=-1/0,this.#a[3]=-1/0),this}recordClipBox(t,e,r,o,i,s){const a=he.multiplyByDOMMatrix(this.#i.at(-1),e.getTransform()),l=[1/0,1/0,-1/0,-1/0];he.axialAlignedBoundingBox([r,i,o,s],a,l);const c=he.intersect(this.#o,l);return c?(this.#o[0]=c[0],this.#o[1]=c[1],this.#o[2]=c[2],this.#o[3]=c[3]):(this.#o[0]=this.#o[1]=1/0,this.#o[2]=this.#o[3]=-1/0),this}recordBBox(t,e,r,o,i,s){const a=this.#o;if(a[0]===1/0)return this;const l=he.multiplyByDOMMatrix(this.#i.at(-1),e.getTransform());if(a[0]===-1/0)return he.axialAlignedBoundingBox([r,i,o,s],l,this.#a),this;const c=[1/0,1/0,-1/0,-1/0];return he.axialAlignedBoundingBox([r,i,o,s],l,c),this.#a[0]=Math.min(this.#a[0],Math.max(c[0],a[0])),this.#a[1]=Math.min(this.#a[1],Math.max(c[1],a[1])),this.#a[2]=Math.max(this.#a[2],Math.min(c[2],a[2])),this.#a[3]=Math.max(this.#a[3],Math.min(c[3],a[3])),this}recordCharacterBBox(t,e,r,o=1,i=0,s=0,a){const l=r.bbox;let c,u;if(l&&(c=l[2]!==l[0]&&l[3]!==l[1]&&this.#d.get(r),!1!==c&&(u=[0,0,0,0],he.axialAlignedBoundingBox(l,r.fontMatrix,u),(1!==o||0!==i||0!==s)&&he.scaleMinMax([o,0,0,-o,i,s],u),c)))return this.recordBBox(t,e,u[0],u[2],u[1],u[3]);if(!a)return this.recordFullPageBBox(t);const d=a();return l&&u&&void 0===c&&(c=u[0]<=i-d.actualBoundingBoxLeft&&u[2]>=i+d.actualBoundingBoxRight&&u[1]<=s-d.actualBoundingBoxAscent&&u[3]>=s+d.actualBoundingBoxDescent,this.#d.set(r,c),c)?this.recordBBox(t,e,u[0],u[2],u[1],u[3]):this.recordBBox(t,e,i-d.actualBoundingBoxLeft,i+d.actualBoundingBoxRight,s-d.actualBoundingBoxAscent,s+d.actualBoundingBoxDescent)}recordFullPageBBox(t){return this.#a[0]=Math.max(0,this.#o[0]),this.#a[1]=Math.max(0,this.#o[1]),this.#a[2]=Math.min(this.#f,this.#o[2]),this.#a[3]=Math.min(this.#m,this.#o[3]),this}getSimpleIndex(t){return this.#e[t]}recordDependencies(t,e){const r=this.#l,o=this.#e,i=this.#t;for(const s of e)s in this.#e?r.add(o[s]):s in i&&i[s].forEach(r.add,r);return this}recordNamedDependency(t,e){return this.#r.has(e)&&this.#l.add(this.#r.get(e)),this}recordOperation(t,e=!1){if(this.recordDependencies(t,[ql]),this.#p){const r=up(this.#p,t),{dependencies:o}=r;this.#l.forEach(o.add,o),this.#n.forEach(o.add,o),this.#s.forEach(o.add,o),o.delete(t),r.isRenderingOperation=!0}if(this.#c===t){const r=TI(256*this.#a[0]/this.#f),o=TI(256*this.#a[1]/this.#m),i=AI(256*this.#a[2]/this.#f),s=AI(256*this.#a[3]/this.#m);cp(this.#g,t,r,o,i,s);for(const a of this.#l)a!==t&&cp(this.#g,a,r,o,i,s);for(const a of this.#n)a!==t&&cp(this.#g,a,r,o,i,s);for(const a of this.#s)a!==t&&cp(this.#g,a,r,o,i,s);e||(this.#l.clear(),this.#c=-1)}return this}recordShowTextOperation(t,e=!1){const r=Array.from(this.#l);this.recordOperation(t,e),this.recordIncrementalData("sameLineText",t);for(const o of r)this.recordIncrementalData("sameLineText",o);return this}bboxToClipBoxDropOperation(t,e=!1){return this.#c===t&&(this.#c=-1,this.#o[0]=Math.max(this.#o[0],this.#a[0]),this.#o[1]=Math.max(this.#o[1],this.#a[1]),this.#o[2]=Math.min(this.#o[2],this.#a[2]),this.#o[3]=Math.min(this.#o[3],this.#a[3]),e||this.#l.clear()),this}_takePendingDependencies(){const t=this.#l;return this.#l=new Set,t}_extractOperation(t){const e=this.#h.get(t);return this.#h.delete(t),e}_pushPendingDependencies(t){for(const e of t)this.#l.add(e)}take(){return this.#d.clear(),new U7(this.#u,this.#g)}takeDebugMetadata(){return this.#p}}class dp{#e;#t;#r;#n=0;#s=0;constructor(t,e,r){if(t instanceof dp&&t.#r===!!r)return t;this.#e=t,this.#t=e,this.#r=!!r}growOperationsCount(){throw new Error("Unreachable")}save(t){return this.#s++,this.#e.save(this.#t),this}restore(t){return this.#s>0&&(this.#e.restore(this.#t),this.#s--),this}recordOpenMarker(t){return this.#n++,this}getOpenMarker(){return this.#n>0?this.#t:this.#e.getOpenMarker()}recordCloseMarker(t){return this.#n--,this}beginMarkedContent(t){return this}endMarkedContent(t){return this}pushBaseTransform(t){return this.#e.pushBaseTransform(t),this}popBaseTransform(){return this.#e.popBaseTransform(),this}recordSimpleData(t,e){return this.#e.recordSimpleData(t,this.#t),this}recordIncrementalData(t,e){return this.#e.recordIncrementalData(t,this.#t),this}resetIncrementalData(t,e){return this.#e.resetIncrementalData(t,this.#t),this}recordNamedData(t,e){return this}recordSimpleDataFromNamed(t,e,r){return this.#e.recordSimpleDataFromNamed(t,e,this.#t),this}recordFutureForcedDependency(t,e){return this.#e.recordFutureForcedDependency(t,this.#t),this}inheritSimpleDataAsFutureForcedDependencies(t){return this.#e.inheritSimpleDataAsFutureForcedDependencies(t),this}inheritPendingDependenciesAsFutureForcedDependencies(){return this.#e.inheritPendingDependenciesAsFutureForcedDependencies(),this}resetBBox(t){return this.#r||this.#e.resetBBox(this.#t),this}recordClipBox(t,e,r,o,i,s){return this.#r||this.#e.recordClipBox(this.#t,e,r,o,i,s),this}recordBBox(t,e,r,o,i,s){return this.#r||this.#e.recordBBox(this.#t,e,r,o,i,s),this}recordCharacterBBox(t,e,r,o,i,s,a){return this.#r||this.#e.recordCharacterBBox(this.#t,e,r,o,i,s,a),this}recordFullPageBBox(t){return this.#r||this.#e.recordFullPageBBox(this.#t),this}getSimpleIndex(t){return this.#e.getSimpleIndex(t)}recordDependencies(t,e){return this.#e.recordDependencies(this.#t,e),this}recordNamedDependency(t,e){return this.#e.recordNamedDependency(this.#t,e),this}recordOperation(t){return this.#e.recordOperation(this.#t,!0),this}recordShowTextOperation(t){return this.#e.recordShowTextOperation(this.#t,!0),this}bboxToClipBoxDropOperation(t){return this.#r||this.#e.bboxToClipBoxDropOperation(this.#t,!0),this}take(){throw new Error("Unreachable")}takeDebugMetadata(){throw new Error("Unreachable")}}const Ho_stroke=["path","transform","filter","strokeColor","strokeAlpha","lineWidth","lineCap","lineJoin","miterLimit","dash"],Ho_fill=["path","transform","filter","fillColor","fillAlpha","globalCompositeOperation","SMask"],Ho_imageXObject=["transform","SMask","filter","fillAlpha","strokeAlpha","globalCompositeOperation"],Ho_rawFillPath=["filter","fillColor","fillAlpha"],Ho_showText=["transform","leading","charSpacing","wordSpacing","hScale","textRise","moveText","textMatrix","font","fontObj","filter","fillColor","textRenderingMode","SMask","fillAlpha","strokeAlpha","globalCompositeOperation","sameLineText"],Ho_transform=["transform"],Ho_transformAndFill=["transform","fillColor"];function Ey(n,t){if(!t)return;const e=t[2]-t[0],r=t[3]-t[1],o=new Path2D;o.rect(t[0],t[1],e,r),n.clip(o)}class Dy{isModifyingCurrentTransform(){return!1}getPattern(){Jt("Abstract method `getPattern` called.")}}class z7 extends Dy{constructor(t){super(),this._type=t[1],this._bbox=t[2],this._colorStops=t[3],this._p0=t[4],this._p1=t[5],this._r0=t[6],this._r1=t[7],this.matrix=null}_createGradient(t){let e;"axial"===this._type?e=t.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):"radial"===this._type&&(e=t.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(const r of this._colorStops)e.addColorStop(r[0],r[1]);return e}getPattern(t,e,r,o){let i;if("Stroke"===o||"Fill"===o){const s=e.current.getClippedPathBoundingBox(o,En(t))||[0,0,0,0],a=Math.ceil(s[2]-s[0])||1,l=Math.ceil(s[3]-s[1])||1,c=e.cachedCanvases.getCanvas("pattern",a,l),u=c.context;u.clearRect(0,0,u.canvas.width,u.canvas.height),u.beginPath(),u.rect(0,0,u.canvas.width,u.canvas.height),u.translate(-s[0],-s[1]),r=he.transform(r,[1,0,0,1,s[0],s[1]]),u.transform(...e.baseTransform),this.matrix&&u.transform(...this.matrix),Ey(u,this._bbox),u.fillStyle=this._createGradient(u),u.fill(),i=t.createPattern(c.canvas,"no-repeat");const d=new DOMMatrix(r);i.setTransform(d)}else Ey(t,this._bbox),i=this._createGradient(t);return i}}function Sy(n,t,e,r,o,i,s,a){const l=t.coords,c=t.colors,u=n.data,d=4*n.width;let h;l[e+1]>l[r+1]&&(h=e,e=r,r=h,h=i,i=s,s=h),l[r+1]>l[o+1]&&(h=r,r=o,o=h,h=s,s=a,a=h),l[e+1]>l[r+1]&&(h=e,e=r,r=h,h=i,i=s,s=h);const f=(l[e]+t.offsetX)*t.scaleX,p=(l[e+1]+t.offsetY)*t.scaleY,g=(l[r]+t.offsetX)*t.scaleX,m=(l[r+1]+t.offsetY)*t.scaleY,b=(l[o]+t.offsetX)*t.scaleX,v=(l[o+1]+t.offsetY)*t.scaleY;if(p>=v)return;const y=c[i],C=c[i+1],_=c[i+2],w=c[s],k=c[s+1],A=c[s+2],$=c[a],K=c[a+1],z=c[a+2],st=Math.round(p),at=Math.round(v);let Ct,Nt,be,Ee,jt,zt,Co,wo;for(let $n=st;$n<=at;$n++){if($n<m){const Nn=$n<p?0:(p-$n)/(p-m);Ct=f-(f-g)*Nn,Nt=y-(y-w)*Nn,be=C-(C-k)*Nn,Ee=_-(_-A)*Nn}else{let Nn;Nn=$n>v?1:m===v?0:(m-$n)/(m-v),Ct=g-(g-b)*Nn,Nt=w-(w-$)*Nn,be=k-(k-K)*Nn,Ee=A-(A-z)*Nn}let an;an=$n<p?0:$n>v?1:(p-$n)/(p-v),jt=f-(f-b)*an,zt=y-(y-$)*an,Co=C-(C-K)*an,wo=_-(_-z)*an;const Vo=Math.round(Math.min(Ct,jt)),zo=Math.round(Math.max(Ct,jt));let li=d*$n+4*Vo;for(let Nn=Vo;Nn<=zo;Nn++)an=(Ct-Nn)/(Ct-jt),an<0?an=0:an>1&&(an=1),u[li++]=Nt-(Nt-zt)*an|0,u[li++]=be-(be-Co)*an|0,u[li++]=Ee-(Ee-wo)*an|0,u[li++]=255}}function W7(n,t,e){const r=t.coords,o=t.colors;let i,s;switch(t.type){case 2:const a=t.verticesPerRow,l=Math.floor(r.length/a)-1,c=a-1;for(i=0;i<l;i++){let u=i*a;for(let d=0;d<c;d++,u++)Sy(n,e,r[u],r[u+1],r[u+a],o[u],o[u+1],o[u+a]),Sy(n,e,r[u+a+1],r[u+1],r[u+a],o[u+a+1],o[u+1],o[u+a])}break;case 1:for(i=0,s=r.length;i<s;i+=3)Sy(n,e,r[i],r[i+1],r[i+2],o[i],o[i+1],o[i+2]);break;default:throw new Error("illegal figure")}}class G7 extends Dy{constructor(t){super(),this._coords=t[2],this._colors=t[3],this._figures=t[4],this._bounds=t[5],this._bbox=t[6],this._background=t[7],this.matrix=null}_createMeshCanvas(t,e,r){const a=Math.floor(this._bounds[0]),l=Math.floor(this._bounds[1]),c=Math.ceil(this._bounds[2])-a,u=Math.ceil(this._bounds[3])-l,d=Math.min(Math.ceil(Math.abs(c*t[0]*1.1)),3e3),h=Math.min(Math.ceil(Math.abs(u*t[1]*1.1)),3e3),f=c/d,p=u/h,g={coords:this._coords,colors:this._colors,offsetX:-a,offsetY:-l,scaleX:1/f,scaleY:1/p},v=r.getCanvas("mesh",d+4,h+4),y=v.context,C=y.createImageData(d,h);if(e){const w=C.data;for(let k=0,A=w.length;k<A;k+=4)w[k]=e[0],w[k+1]=e[1],w[k+2]=e[2],w[k+3]=255}for(const w of this._figures)W7(C,w,g);return y.putImageData(C,2,2),{canvas:v.canvas,offsetX:a-2*f,offsetY:l-2*p,scaleX:f,scaleY:p}}isModifyingCurrentTransform(){return!0}getPattern(t,e,r,o){Ey(t,this._bbox);const i=new Float32Array(2);if("Shading"===o)he.singularValueDecompose2dScale(En(t),i);else if(this.matrix){he.singularValueDecompose2dScale(this.matrix,i);const[a,l]=i;he.singularValueDecompose2dScale(e.baseTransform,i),i[0]*=a,i[1]*=l}else he.singularValueDecompose2dScale(e.baseTransform,i);const s=this._createMeshCanvas(i,"Shading"===o?null:this._background,e.cachedCanvases);return"Shading"!==o&&(t.setTransform(...e.baseTransform),this.matrix&&t.transform(...this.matrix)),t.translate(s.offsetX,s.offsetY),t.scale(s.scaleX,s.scaleY),t.createPattern(s.canvas,"no-repeat")}}class q7 extends Dy{getPattern(){return"hotpink"}}let K7=(()=>{class n{static MAX_PATTERN_SIZE=3e3;constructor(e,r,o,i){this.color=e[1],this.operatorList=e[2],this.matrix=e[3],this.bbox=e[4],this.xstep=e[5],this.ystep=e[6],this.paintType=e[7],this.tilingType=e[8],this.ctx=r,this.canvasGraphicsFactory=o,this.baseTransform=i}createPatternCanvas(e,r){const{bbox:o,operatorList:i,paintType:s,tilingType:a,color:l,canvasGraphicsFactory:c}=this;let{xstep:u,ystep:d}=this;u=Math.abs(u),d=Math.abs(d),tp("TilingType: "+a);const h=o[0],f=o[1],p=o[2],g=o[3],m=p-h,b=g-f,v=new Float32Array(2);he.singularValueDecompose2dScale(this.matrix,v);const[y,C]=v;he.singularValueDecompose2dScale(this.baseTransform,v);const _=y*v[0],w=C*v[1];let k=m,A=b,$=!1,K=!1;const z=Math.ceil(u*_),st=Math.ceil(d*w);z>=Math.ceil(m*_)?k=u:$=!0,st>=Math.ceil(b*w)?A=d:K=!0;const Nt=this.getSizeAndScale(k,this.ctx.canvas.width,_),be=this.getSizeAndScale(A,this.ctx.canvas.height,w),Ee=e.cachedCanvases.getCanvas("pattern",Nt.size,be.size),jt=Ee.context,zt=c.createCanvasGraphics(jt,r);if(zt.groupLevel=e.groupLevel,this.setFillAndStrokeStyleToContext(zt,s,l),jt.translate(-Nt.scale*h,-be.scale*f),zt.transform(0,Nt.scale,0,0,be.scale,0,0),jt.save(),zt.dependencyTracker?.save(),this.clipBbox(zt,h,f,p,g),zt.baseTransform=En(zt.ctx),zt.executeOperatorList(i),zt.endDrawing(),zt.dependencyTracker?.restore(),jt.restore(),$||K){const Co=Ee.canvas;$&&(k=u),K&&(A=d);const wo=this.getSizeAndScale(k,this.ctx.canvas.width,_),$n=this.getSizeAndScale(A,this.ctx.canvas.height,w),an=wo.size,Vo=$n.size,zo=e.cachedCanvases.getCanvas("pattern-workaround",an,Vo),li=zo.context,Nn=$?Math.floor(m/u):0,wd=K?Math.floor(b/d):0;for(let Ra=0;Ra<=Nn;Ra++)for(let Na=0;Na<=wd;Na++)li.drawImage(Co,an*Ra,Vo*Na,an,Vo,0,0,an,Vo);return{canvas:zo.canvas,scaleX:wo.scale,scaleY:$n.scale,offsetX:h,offsetY:f}}return{canvas:Ee.canvas,scaleX:Nt.scale,scaleY:be.scale,offsetX:h,offsetY:f}}getSizeAndScale(e,r,o){const i=Math.max(n.MAX_PATTERN_SIZE,r);let s=Math.ceil(e*o);return s>=i?s=i:o=s/e,{scale:o,size:s}}clipBbox(e,r,o,i,s){e.ctx.rect(r,o,i-r,s-o),he.axialAlignedBoundingBox([r,o,i,s],En(e.ctx),e.current.minMax),e.clip(),e.endPath()}setFillAndStrokeStyleToContext(e,r,o){const i=e.ctx,s=e.current;switch(r){case 1:const{fillStyle:a,strokeStyle:l}=this.ctx;i.fillStyle=s.fillColor=a,i.strokeStyle=s.strokeColor=l;break;case 2:i.fillStyle=i.strokeStyle=o,s.fillColor=s.strokeColor=o;break;default:throw new i7(`Unsupported paint type: ${r}`)}}isModifyingCurrentTransform(){return!1}getPattern(e,r,o,i,s){let a=o;"Shading"!==i&&(a=he.transform(a,r.baseTransform),this.matrix&&(a=he.transform(a,this.matrix)));const l=this.createPatternCanvas(r,s);let c=new DOMMatrix(a);c=c.translate(l.offsetX,l.offsetY),c=c.scale(1/l.scaleX,1/l.scaleY);const u=e.createPattern(l.canvas,"repeat");return u.setTransform(c),u}}return n})();function xI({src:n,srcPos:t=0,dest:e,width:r,height:o,nonBlackColor:i=4294967295,inverseDecode:s=!1}){const a=pr.isLittleEndian?4278190080:255,[l,c]=s?[i,a]:[a,i],u=r>>3,d=7&r,h=n.length;e=new Uint32Array(e.buffer);let f=0;for(let p=0;p<o;p++){for(const m=t+u;t<m;t++){const b=t<h?n[t]:255;e[f++]=128&b?c:l,e[f++]=64&b?c:l,e[f++]=32&b?c:l,e[f++]=16&b?c:l,e[f++]=8&b?c:l,e[f++]=4&b?c:l,e[f++]=2&b?c:l,e[f++]=1&b?c:l}if(0===d)continue;const g=t<h?n[t++]:255;for(let m=0;m<d;m++)e[f++]=g&1<<7-m?c:l}return{srcPos:t,destPos:f}}const ky=new DOMMatrix,go=new Float32Array(2),Yl=new Float32Array([1/0,1/0,-1/0,-1/0]);class J7{constructor(t){this.canvasFactory=t,this.cache=Object.create(null)}getCanvas(t,e,r){let o;return void 0!==this.cache[t]?(o=this.cache[t],this.canvasFactory.reset(o,e,r)):(o=this.canvasFactory.create(e,r),this.cache[t]=o),o}delete(t){delete this.cache[t]}clear(){for(const t in this.cache)this.canvasFactory.destroy(this.cache[t]),delete this.cache[t]}}function hp(n,t,e,r,o,i,s,a,l,c){const[u,d,h,f,p,g]=En(n);if(0===d&&0===h){const y=Math.round(s*u+p),_=Math.round(a*f+g),k=Math.abs(Math.round((s+l)*u+p)-y)||1,$=Math.abs(Math.round((a+c)*f+g)-_)||1;return n.setTransform(Math.sign(u),0,0,Math.sign(f),y,_),n.drawImage(t,e,r,o,i,0,0,k,$),n.setTransform(u,d,h,f,p,g),[k,$]}if(0===u&&0===f){const y=Math.round(a*h+p),_=Math.round(s*d+g),k=Math.abs(Math.round((a+c)*h+p)-y)||1,$=Math.abs(Math.round((s+l)*d+g)-_)||1;return n.setTransform(0,Math.sign(d),Math.sign(h),0,y,_),n.drawImage(t,e,r,o,i,0,0,$,k),n.setTransform(u,d,h,f,p,g),[$,k]}return n.drawImage(t,e,r,o,i,s,a,l,c),[Math.hypot(u,d)*l,Math.hypot(h,f)*c]}class OI{alphaIsShape=!1;fontSize=0;fontSizeScale=1;textMatrix=null;textMatrixScale=1;fontMatrix=oy;leading=0;x=0;y=0;lineX=0;lineY=0;charSpacing=0;wordSpacing=0;textHScale=1;textRenderingMode=0;textRise=0;fillColor="#000000";strokeColor="#000000";patternFill=!1;patternStroke=!1;fillAlpha=1;strokeAlpha=1;lineWidth=1;activeSMask=null;transferMaps="none";constructor(t,e,r){r?.(this),this.clipBox=new Float32Array([0,0,t,e]),this.minMax=Yl.slice()}clone(){const t=Object.create(this);return t.clipBox=this.clipBox.slice(),t.minMax=this.minMax.slice(),t}getPathBoundingBox(t="Fill",e=null){const r=this.minMax.slice();if("Stroke"===t){e||Jt("Stroke bounding box must include transform."),he.singularValueDecompose2dScale(e,go);const o=go[0]*this.lineWidth/2,i=go[1]*this.lineWidth/2;r[0]-=o,r[1]-=i,r[2]+=o,r[3]+=i}return r}updateClipFromPath(){const t=he.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(t||[0,0,0,0])}isEmptyClip(){return this.minMax[0]===1/0}startNewPathAndClipBox(t){this.clipBox.set(t,0),this.minMax.set(Yl,0)}getClippedPathBoundingBox(t="Fill",e=null){return he.intersect(this.clipBox,this.getPathBoundingBox(t,e))}}function LI(n,t){if(t instanceof ImageData)return void n.putImageData(t,0,0);const e=t.height,r=t.width,o=e%16,i=(e-o)/16,s=0===o?i:i+1,a=n.createImageData(r,16);let c,l=0;const u=t.data,d=a.data;let h,f,p,g;if(t.kind===Qf.GRAYSCALE_1BPP){const m=u.byteLength,b=new Uint32Array(d.buffer,0,d.byteLength>>2),v=b.length,y=r+7>>3,C=4294967295,_=pr.isLittleEndian?4278190080:255;for(h=0;h<s;h++){for(p=h<i?16:o,c=0,f=0;f<p;f++){const w=m-l;let k=0;const A=w>y?r:8*w-7,$=-8&A;let K=0,z=0;for(;k<$;k+=8)z=u[l++],b[c++]=128&z?C:_,b[c++]=64&z?C:_,b[c++]=32&z?C:_,b[c++]=16&z?C:_,b[c++]=8&z?C:_,b[c++]=4&z?C:_,b[c++]=2&z?C:_,b[c++]=1&z?C:_;for(;k<A;k++)0===K&&(z=u[l++],K=128),b[c++]=z&K?C:_,K>>=1}for(;c<v;)b[c++]=0;n.putImageData(a,0,16*h)}}else if(t.kind===Qf.RGBA_32BPP){for(f=0,g=16*r*4,h=0;h<i;h++)d.set(u.subarray(l,l+g)),l+=g,n.putImageData(a,0,f),f+=16;h<s&&(g=r*o*4,d.set(u.subarray(l,l+g)),n.putImageData(a,0,f))}else{if(t.kind!==Qf.RGB_24BPP)throw new Error(`bad image kind: ${t.kind}`);for(p=16,g=r*p,h=0;h<s;h++){for(h>=i&&(p=o,g=r*p),c=0,f=g;f--;)d[c++]=u[l++],d[c++]=u[l++],d[c++]=u[l++],d[c++]=255;n.putImageData(a,0,16*h)}}}function PI(n,t){if(t.bitmap)return void n.drawImage(t.bitmap,0,0);const e=t.height,r=t.width,o=e%16,i=(e-o)/16,s=0===o?i:i+1,a=n.createImageData(r,16);let l=0;const c=t.data,u=a.data;for(let d=0;d<s;d++){const h=d<i?16:o;({srcPos:l}=xI({src:c,srcPos:l,dest:u,width:r,height:h,nonBlackColor:0})),n.putImageData(a,0,16*d)}}function $u(n,t){const e=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font","filter"];for(const r of e)void 0!==n[r]&&(t[r]=n[r]);void 0!==n.setLineDash&&(t.setLineDash(n.getLineDash()),t.lineDashOffset=n.lineDashOffset)}function fp(n){n.strokeStyle=n.fillStyle="#000000",n.fillRule="nonzero",n.globalAlpha=1,n.lineWidth=1,n.lineCap="butt",n.lineJoin="miter",n.miterLimit=10,n.globalCompositeOperation="source-over",n.font="10px sans-serif",void 0!==n.setLineDash&&(n.setLineDash([]),n.lineDashOffset=0);const{filter:t}=n;"none"!==t&&""!==t&&(n.filter="none")}function FI(n,t){if(t)return!0;he.singularValueDecompose2dScale(n,go);const e=Math.fround(Ci.pixelRatio*Gl.PDF_TO_CSS_UNITS);return go[0]<=e&&go[1]<=e}const eU=["butt","round","square"],tU=["miter","round","bevel"],nU={},BI={};class Kl{constructor(t,e,r,o,i,{optionalContentConfig:s,markedContentStack:a=null},l,c,u){this.ctx=t,this.current=new OI(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=e,this.objs=r,this.canvasFactory=o,this.filterFactory=i,this.groupStack=[],this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=a||[],this.optionalContentConfig=s,this.cachedCanvases=new J7(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=l,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.pageColors=c,this._cachedScaleForStroking=[-1,0],this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map,this.dependencyTracker=u??null}getObject(t,e,r=null){return"string"==typeof e?(this.dependencyTracker?.recordNamedDependency(t,e),e.startsWith("g_")?this.commonObjs.get(e):this.objs.get(e)):r}beginDrawing({transform:t,viewport:e,transparency:r=!1,background:o=null}){const i=this.ctx.canvas.width,s=this.ctx.canvas.height,a=this.ctx.fillStyle;if(this.ctx.fillStyle=o||"#ffffff",this.ctx.fillRect(0,0,i,s),this.ctx.fillStyle=a,r){const l=this.cachedCanvases.getCanvas("transparent",i,s);this.compositeCtx=this.ctx,this.transparentCanvas=l.canvas,this.ctx=l.context,this.ctx.save(),this.ctx.transform(...En(this.compositeCtx))}this.ctx.save(),fp(this.ctx),t&&(this.ctx.transform(...t),this.outputScaleX=t[0],this.outputScaleY=t[0]),this.ctx.transform(...e.transform),this.viewportScale=e.scale,this.baseTransform=En(this.ctx)}executeOperatorList(t,e,r,o,i){const s=t.argsArray,a=t.fnArray;let l=e||0;const c=s.length;if(c===l)return l;const u=c-l>10&&"function"==typeof r,d=u?Date.now()+15:0;let h=0;const f=this.commonObjs,p=this.objs;let g,m;for(;;){if(void 0!==o&&l===o.nextBreakPoint)return o.breakIt(l,r),l;if(!i||i(l))if(g=a[l],m=s[l]??null,g!==xu.dependency)null===m?this[g](l):this[g](l,...m);else for(const b of m){this.dependencyTracker?.recordNamedData(b,l);const v=b.startsWith("g_")?f:p;if(!v.has(b))return v.get(b,r),l}if(l++,l===c)return l;if(u&&++h>10){if(Date.now()>d)return r(),l;h=0}}}#e(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.current.activeSMask=null,this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null)}endDrawing(){this.#e(),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(const t of this._cachedBitmapsMap.values()){for(const e of t.values())typeof HTMLCanvasElement<"u"&&e instanceof HTMLCanvasElement&&(e.width=e.height=0);t.clear()}this._cachedBitmapsMap.clear(),this.#t()}#t(){if(this.pageColors){const t=this.filterFactory.addHCMFilter(this.pageColors.foreground,this.pageColors.background);if("none"!==t){const e=this.ctx.filter;this.ctx.filter=t,this.ctx.drawImage(this.ctx.canvas,0,0),this.ctx.filter=e}}}_scaleImage(t,e){const r=t.width??t.displayWidth,o=t.height??t.displayHeight;let u,d,i=Math.max(Math.hypot(e[0],e[1]),1),s=Math.max(Math.hypot(e[2],e[3]),1),a=r,l=o,c="prescale1";for(;i>2&&a>1||s>2&&l>1;){let h=a,f=l;i>2&&a>1&&(h=a>=16384?Math.floor(a/2)-1||1:Math.ceil(a/2),i/=a/h),s>2&&l>1&&(f=l>=16384?Math.floor(l/2)-1||1:Math.ceil(l)/2,s/=l/f),u=this.cachedCanvases.getCanvas(c,h,f),d=u.context,d.clearRect(0,0,h,f),d.drawImage(t,0,0,a,l,0,0,h,f),t=u.canvas,a=h,l=f,c="prescale1"===c?"prescale2":"prescale1"}return{img:t,paintWidth:a,paintHeight:l}}_createMaskCanvas(t,e){const r=this.ctx,{width:o,height:i}=e,s=this.current.fillColor,a=this.current.patternFill,l=En(r);let c,u,d,h;if((e.bitmap||e.data)&&e.count>1){const K=e.bitmap||e.data.buffer;u=JSON.stringify(a?l:[l.slice(0,4),s]),c=this._cachedBitmapsMap.get(K),c||(c=new Map,this._cachedBitmapsMap.set(K,c));const z=c.get(u);if(z&&!a){const st=Math.round(Math.min(l[0],l[2])+l[4]),at=Math.round(Math.min(l[1],l[3])+l[5]);return this.dependencyTracker?.recordDependencies(t,Ho_transformAndFill),{canvas:z,offsetX:st,offsetY:at}}d=z}d||(h=this.cachedCanvases.getCanvas("maskCanvas",o,i),PI(h.context,e));let f=he.transform(l,[1/o,0,0,-1/i,0,0]);f=he.transform(f,[1,0,0,1,0,-i]);const p=Yl.slice();he.axialAlignedBoundingBox([0,0,o,i],f,p);const[g,m,b,v]=p,y=Math.round(b-g)||1,C=Math.round(v-m)||1,_=this.cachedCanvases.getCanvas("fillCanvas",y,C),w=_.context,k=g,A=m;w.translate(-k,-A),w.transform(...f),d||(d=this._scaleImage(h.canvas,_i(w)),d=d.img,c&&a&&c.set(u,d)),w.imageSmoothingEnabled=FI(En(w),e.interpolate),hp(w,d,0,0,d.width,d.height,0,0,o,i),w.globalCompositeOperation="source-in";const $=he.transform(_i(w),[1,0,0,1,-k,-A]);return w.fillStyle=a?s.getPattern(r,this,$,"Fill",t):s,w.fillRect(0,0,o,i),c&&!a&&(this.cachedCanvases.delete("fillCanvas"),c.set(u,_.canvas)),this.dependencyTracker?.recordDependencies(t,Ho_transformAndFill),{canvas:_.canvas,offsetX:Math.round(k),offsetY:Math.round(A)}}setLineWidth(t,e){this.dependencyTracker?.recordSimpleData("lineWidth",t),e!==this.current.lineWidth&&(this._cachedScaleForStroking[0]=-1),this.current.lineWidth=e,this.ctx.lineWidth=e}setLineCap(t,e){this.dependencyTracker?.recordSimpleData("lineCap",t),this.ctx.lineCap=eU[e]}setLineJoin(t,e){this.dependencyTracker?.recordSimpleData("lineJoin",t),this.ctx.lineJoin=tU[e]}setMiterLimit(t,e){this.dependencyTracker?.recordSimpleData("miterLimit",t),this.ctx.miterLimit=e}setDash(t,e,r){this.dependencyTracker?.recordSimpleData("dash",t);const o=this.ctx;void 0!==o.setLineDash&&(o.setLineDash(e),o.lineDashOffset=r)}setRenderingIntent(t,e){}setFlatness(t,e){}setGState(t,e){for(const[r,o]of e)switch(r){case"LW":this.setLineWidth(t,o);break;case"LC":this.setLineCap(t,o);break;case"LJ":this.setLineJoin(t,o);break;case"ML":this.setMiterLimit(t,o);break;case"D":this.setDash(t,o[0],o[1]);break;case"RI":this.setRenderingIntent(t,o);break;case"FL":this.setFlatness(t,o);break;case"Font":this.setFont(t,o[0],o[1]);break;case"CA":this.dependencyTracker?.recordSimpleData("strokeAlpha",t),this.current.strokeAlpha=o;break;case"ca":this.dependencyTracker?.recordSimpleData("fillAlpha",t),this.ctx.globalAlpha=this.current.fillAlpha=o;break;case"BM":this.dependencyTracker?.recordSimpleData("globalCompositeOperation",t),this.ctx.globalCompositeOperation=o;break;case"SMask":this.dependencyTracker?.recordSimpleData("SMask",t),this.current.activeSMask=o?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":this.dependencyTracker?.recordSimpleData("filter",t),this.ctx.filter=this.current.transferMaps=this.filterFactory.addFilter(o)}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const t=this.inSMaskMode;this.current.activeSMask&&!t?this.beginSMaskMode():!this.current.activeSMask&&t&&this.endSMaskMode()}beginSMaskMode(t){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const i=this.cachedCanvases.getCanvas("smaskGroupAt"+this.groupLevel,this.ctx.canvas.width,this.ctx.canvas.height);this.suspendedCtx=this.ctx;const s=this.ctx=i.context;s.setTransform(this.suspendedCtx.getTransform()),$u(this.suspendedCtx,s),function Q7(n,t){if(n._removeMirroring)throw new Error("Context is already forwarding operations.");n.__originalSave=n.save,n.__originalRestore=n.restore,n.__originalRotate=n.rotate,n.__originalScale=n.scale,n.__originalTranslate=n.translate,n.__originalTransform=n.transform,n.__originalSetTransform=n.setTransform,n.__originalResetTransform=n.resetTransform,n.__originalClip=n.clip,n.__originalMoveTo=n.moveTo,n.__originalLineTo=n.lineTo,n.__originalBezierCurveTo=n.bezierCurveTo,n.__originalRect=n.rect,n.__originalClosePath=n.closePath,n.__originalBeginPath=n.beginPath,n._removeMirroring=()=>{n.save=n.__originalSave,n.restore=n.__originalRestore,n.rotate=n.__originalRotate,n.scale=n.__originalScale,n.translate=n.__originalTranslate,n.transform=n.__originalTransform,n.setTransform=n.__originalSetTransform,n.resetTransform=n.__originalResetTransform,n.clip=n.__originalClip,n.moveTo=n.__originalMoveTo,n.lineTo=n.__originalLineTo,n.bezierCurveTo=n.__originalBezierCurveTo,n.rect=n.__originalRect,n.closePath=n.__originalClosePath,n.beginPath=n.__originalBeginPath,delete n._removeMirroring},n.save=function(){t.save(),this.__originalSave()},n.restore=function(){t.restore(),this.__originalRestore()},n.translate=function(e,r){t.translate(e,r),this.__originalTranslate(e,r)},n.scale=function(e,r){t.scale(e,r),this.__originalScale(e,r)},n.transform=function(e,r,o,i,s,a){t.transform(e,r,o,i,s,a),this.__originalTransform(e,r,o,i,s,a)},n.setTransform=function(e,r,o,i,s,a){t.setTransform(e,r,o,i,s,a),this.__originalSetTransform(e,r,o,i,s,a)},n.resetTransform=function(){t.resetTransform(),this.__originalResetTransform()},n.rotate=function(e){t.rotate(e),this.__originalRotate(e)},n.clip=function(e){t.clip(e),this.__originalClip(e)},n.moveTo=function(e,r){t.moveTo(e,r),this.__originalMoveTo(e,r)},n.lineTo=function(e,r){t.lineTo(e,r),this.__originalLineTo(e,r)},n.bezierCurveTo=function(e,r,o,i,s,a){t.bezierCurveTo(e,r,o,i,s,a),this.__originalBezierCurveTo(e,r,o,i,s,a)},n.rect=function(e,r,o,i){t.rect(e,r,o,i),this.__originalRect(e,r,o,i)},n.closePath=function(){t.closePath(),this.__originalClosePath()},n.beginPath=function(){t.beginPath(),this.__originalBeginPath()}}(s,this.suspendedCtx),this.setGState(t,[["BM","source-over"]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),$u(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(t){this.current.activeSMask&&(t?(t[0]=Math.floor(t[0]),t[1]=Math.floor(t[1]),t[2]=Math.ceil(t[2]),t[3]=Math.ceil(t[3])):t=[0,0,this.ctx.canvas.width,this.ctx.canvas.height],this.composeSMask(this.suspendedCtx,this.current.activeSMask,this.ctx,t),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore())}composeSMask(t,e,r,o){const i=o[0],s=o[1],a=o[2]-i,l=o[3]-s;0===a||0===l||(this.genericComposeSMask(e.context,r,a,l,e.subtype,e.backdrop,e.transferMap,i,s,e.offsetX,e.offsetY),t.save(),t.globalAlpha=1,t.globalCompositeOperation="source-over",t.setTransform(1,0,0,1,0,0),t.drawImage(r.canvas,0,0),t.restore())}genericComposeSMask(t,e,r,o,i,s,a,l,c,u,d){let h=t.canvas,f=l-u,p=c-d;if(s)if(f<0||p<0||f+r>h.width||p+o>h.height){const m=this.cachedCanvases.getCanvas("maskExtension",r,o),b=m.context;b.drawImage(h,-f,-p),b.globalCompositeOperation="destination-atop",b.fillStyle=s,b.fillRect(0,0,r,o),b.globalCompositeOperation="source-over",h=m.canvas,f=p=0}else{t.save(),t.globalAlpha=1,t.setTransform(1,0,0,1,0,0);const m=new Path2D;m.rect(f,p,r,o),t.clip(m),t.globalCompositeOperation="destination-atop",t.fillStyle=s,t.fillRect(f,p,r,o),t.restore()}e.save(),e.globalAlpha=1,e.setTransform(1,0,0,1,0,0),"Alpha"===i&&a?e.filter=this.filterFactory.addAlphaFilter(a):"Luminosity"===i&&(e.filter=this.filterFactory.addLuminosityFilter(a));const g=new Path2D;g.rect(l,c,r,o),e.clip(g),e.globalCompositeOperation="destination-in",e.drawImage(h,f,p,r,o,l,c,r,o),e.restore()}save(t){this.inSMaskMode&&$u(this.ctx,this.suspendedCtx),this.ctx.save();const e=this.current;this.stateStack.push(e),this.current=e.clone(),this.dependencyTracker?.save(t)}restore(t){this.dependencyTracker?.restore(t),0!==this.stateStack.length?(this.current=this.stateStack.pop(),this.ctx.restore(),this.inSMaskMode&&$u(this.suspendedCtx,this.ctx),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null):this.inSMaskMode&&this.endSMaskMode()}transform(t,e,r,o,i,s,a){this.dependencyTracker?.recordIncrementalData("transform",t),this.ctx.transform(e,r,o,i,s,a),this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}constructPath(t,e,r,o){let[i]=r;if(!o)return i||=r[0]=new Path2D,void this[e](t,i);if(null!==this.dependencyTracker){const s=e===xu.stroke?this.current.lineWidth/2:0;this.dependencyTracker.resetBBox(t).recordBBox(t,this.ctx,o[0]-s,o[2]+s,o[1]-s,o[3]+s).recordDependencies(t,["transform"])}i instanceof Path2D||(i=r[0]=uI(i)),he.axialAlignedBoundingBox(o,En(this.ctx),this.current.minMax),this[e](t,i),this._pathStartIdx=t}closePath(t){this.ctx.closePath()}stroke(t,e,r=!0){const o=this.ctx,i=this.current.strokeColor;if(o.globalAlpha=this.current.strokeAlpha,this.contentVisible)if("object"==typeof i&&i?.getPattern){const s=i.isModifyingCurrentTransform()?o.getTransform():null;if(o.save(),o.strokeStyle=i.getPattern(o,this,_i(o),"Stroke",t),s){const a=new Path2D;a.addPath(e,o.getTransform().invertSelf().multiplySelf(s)),e=a}this.rescaleAndStroke(e,!1),o.restore()}else this.rescaleAndStroke(e,!0);this.dependencyTracker?.recordDependencies(t,Ho_stroke),r&&this.consumePath(t,e,this.current.getClippedPathBoundingBox("Stroke",En(this.ctx))),o.globalAlpha=this.current.fillAlpha}closeStroke(t,e){this.stroke(t,e)}fill(t,e,r=!0){const o=this.ctx,i=this.current.fillColor;let a=!1;if(this.current.patternFill){const c=i.isModifyingCurrentTransform()?o.getTransform():null;if(this.dependencyTracker?.save(t),o.save(),o.fillStyle=i.getPattern(o,this,_i(o),"Fill",t),c){const u=new Path2D;u.addPath(e,o.getTransform().invertSelf().multiplySelf(c)),e=u}a=!0}const l=this.current.getClippedPathBoundingBox();this.contentVisible&&null!==l&&(this.pendingEOFill?(o.fill(e,"evenodd"),this.pendingEOFill=!1):o.fill(e)),this.dependencyTracker?.recordDependencies(t,Ho_fill),a&&(o.restore(),this.dependencyTracker?.restore(t)),r&&this.consumePath(t,e,l)}eoFill(t,e){this.pendingEOFill=!0,this.fill(t,e)}fillStroke(t,e){this.fill(t,e,!1),this.stroke(t,e,!1),this.consumePath(t,e)}eoFillStroke(t,e){this.pendingEOFill=!0,this.fillStroke(t,e)}closeFillStroke(t,e){this.fillStroke(t,e)}closeEOFillStroke(t,e){this.pendingEOFill=!0,this.fillStroke(t,e)}endPath(t,e){this.consumePath(t,e)}rawFillPath(t,e){this.ctx.fill(e),this.dependencyTracker?.recordDependencies(t,Ho_rawFillPath).recordOperation(t)}clip(t){this.dependencyTracker?.recordFutureForcedDependency("clipMode",t),this.pendingClip=nU}eoClip(t){this.dependencyTracker?.recordFutureForcedDependency("clipMode",t),this.pendingClip=BI}beginText(t){this.current.textMatrix=null,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0,this.dependencyTracker?.recordOpenMarker(t).resetIncrementalData("sameLineText").resetIncrementalData("moveText",t)}endText(t){const e=this.pendingTextPaths,r=this.ctx;if(this.dependencyTracker){const{dependencyTracker:o}=this;void 0!==e&&o.recordFutureForcedDependency("textClip",o.getOpenMarker()).recordFutureForcedDependency("textClip",t),o.recordCloseMarker(t)}if(void 0!==e){const o=new Path2D,i=r.getTransform().invertSelf();for(const{transform:s,x:a,y:l,fontSize:c,path:u}of e)u&&o.addPath(u,new DOMMatrix(s).preMultiplySelf(i).translate(a,l).scale(c,-c));r.clip(o)}delete this.pendingTextPaths}setCharSpacing(t,e){this.dependencyTracker?.recordSimpleData("charSpacing",t),this.current.charSpacing=e}setWordSpacing(t,e){this.dependencyTracker?.recordSimpleData("wordSpacing",t),this.current.wordSpacing=e}setHScale(t,e){this.dependencyTracker?.recordSimpleData("hScale",t),this.current.textHScale=e/100}setLeading(t,e){this.dependencyTracker?.recordSimpleData("leading",t),this.current.leading=-e}setFont(t,e,r){this.dependencyTracker?.recordSimpleData("font",t).recordSimpleDataFromNamed("fontObj",e,t);const o=this.commonObjs.get(e),i=this.current;if(!o)throw new Error(`Can't find font for ${e}`);if(i.fontMatrix=o.fontMatrix||oy,(0===i.fontMatrix[0]||0===i.fontMatrix[3])&&je("Invalid font matrix for font "+e),r<0?(r=-r,i.fontDirection=-1):i.fontDirection=1,this.current.font=o,this.current.fontSize=r,o.isType3Font)return;const s=o.loadedName||"sans-serif",a=o.systemFontInfo?.css||`"${s}", ${o.fallbackName}`;let l="normal";o.black?l="900":o.bold&&(l="bold");const c=o.italic?"italic":"normal";let u=r;r<16?u=16:r>100&&(u=100),this.current.fontSizeScale=r/u,this.ctx.font=`${c} ${l} ${u}px ${a}`}setTextRenderingMode(t,e){this.dependencyTracker?.recordSimpleData("textRenderingMode",t),this.current.textRenderingMode=e}setTextRise(t,e){this.dependencyTracker?.recordSimpleData("textRise",t),this.current.textRise=e}moveText(t,e,r){this.dependencyTracker?.resetIncrementalData("sameLineText").recordIncrementalData("moveText",t),this.current.x=this.current.lineX+=e,this.current.y=this.current.lineY+=r}setLeadingMoveText(t,e,r){this.setLeading(t,-r),this.moveText(t,e,r)}setTextMatrix(t,e){this.dependencyTracker?.resetIncrementalData("sameLineText").recordSimpleData("textMatrix",t);const{current:r}=this;r.textMatrix=e,r.textMatrixScale=Math.hypot(e[0],e[1]),r.x=r.lineX=0,r.y=r.lineY=0}nextLine(t){this.moveText(t,0,this.current.leading),this.dependencyTracker?.recordIncrementalData("moveText",this.dependencyTracker.getSimpleIndex("leading")??t)}#r(t,e,r){const o=new Path2D;return o.addPath(t,new DOMMatrix(r).invertSelf().multiplySelf(e)),o}paintChar(t,e,r,o,i,s){const a=this.ctx,l=this.current,c=l.font,u=l.textRenderingMode,d=l.fontSize/l.fontSizeScale,h=3&u,f=!!(4&u),p=l.patternFill&&!c.missingFile,g=l.patternStroke&&!c.missingFile;let m;if((c.disableFontFace||f||p||g)&&!c.missingFile&&(m=c.getPathGenerator(this.commonObjs,e)),m&&(c.disableFontFace||p||g)){let b;if(a.save(),a.translate(r,o),a.scale(d,-d),this.dependencyTracker?.recordCharacterBBox(t,a,c),0===h||2===h)if(i){b=a.getTransform(),a.setTransform(...i);const v=this.#r(m,b,i);a.fill(v)}else a.fill(m);if(1===h||2===h)if(s){b||=a.getTransform(),a.setTransform(...s);const{a:v,b:y,c:C,d:_}=b,w=he.inverseTransform(s),k=he.transform([v,y,C,_,0,0],w);he.singularValueDecompose2dScale(k,go),a.lineWidth*=Math.max(go[0],go[1])/d,a.stroke(this.#r(m,b,s))}else a.lineWidth/=d,a.stroke(m);a.restore()}else(0===h||2===h)&&(a.fillText(e,r,o),this.dependencyTracker?.recordCharacterBBox(t,a,c,d,r,o,()=>a.measureText(e))),(1===h||2===h)&&(this.dependencyTracker&&this.dependencyTracker?.recordCharacterBBox(t,a,c,d,r,o,()=>a.measureText(e)).recordDependencies(t,Ho_stroke),a.strokeText(e,r,o));f&&((this.pendingTextPaths||=[]).push({transform:En(a),x:r,y:o,fontSize:d,path:m}),this.dependencyTracker?.recordCharacterBBox(t,a,c,d,r,o))}get isFontSubpixelAAEnabled(){const{context:t}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);t.scale(1.5,1),t.fillText("I",0,10);const e=t.getImageData(0,0,10,10).data;let r=!1;for(let o=3;o<e.length;o+=4)if(e[o]>0&&e[o]<255){r=!0;break}return Ue(this,"isFontSubpixelAAEnabled",r)}showText(t,e){this.dependencyTracker&&(this.dependencyTracker.recordDependencies(t,Ho_showText).resetBBox(t),4&this.current.textRenderingMode&&this.dependencyTracker.recordFutureForcedDependency("textClip",t).inheritPendingDependenciesAsFutureForcedDependencies());const r=this.current,o=r.font;if(o.isType3Font)return this.showType3Text(t,e),void this.dependencyTracker?.recordShowTextOperation(t);const i=r.fontSize;if(0===i)return void this.dependencyTracker?.recordOperation(t);const s=this.ctx,a=r.fontSizeScale,l=r.charSpacing,c=r.wordSpacing,u=r.fontDirection,d=r.textHScale*u,h=e.length,f=o.vertical,p=f?1:-1,g=o.defaultVMetrics,m=i*r.fontMatrix[0],b=0===r.textRenderingMode&&!o.disableFontFace&&!r.patternFill;let v,y;if(s.save(),r.textMatrix&&s.transform(...r.textMatrix),s.translate(r.x,r.y+r.textRise),s.scale(d,u>0?-1:1),r.patternFill){s.save();const A=r.fillColor.getPattern(s,this,_i(s),"Fill",t);v=En(s),s.restore(),s.fillStyle=A}if(r.patternStroke){s.save();const A=r.strokeColor.getPattern(s,this,_i(s),"Stroke",t);y=En(s),s.restore(),s.strokeStyle=A}let C=r.lineWidth;const _=r.textMatrixScale;if(0===_||0===C){const A=3&r.textRenderingMode;(1===A||2===A)&&(C=this.getSinglePixelWidth())}else C/=_;if(1!==a&&(s.scale(a,a),C/=a),s.lineWidth=C,o.isInvalidPDFjsFont){const A=[];let $=0;for(const z of e)A.push(z.unicode),$+=z.width;const K=A.join("");if(s.fillText(K,0,0),null!==this.dependencyTracker){const z=s.measureText(K);this.dependencyTracker.recordBBox(t,this.ctx,-z.actualBoundingBoxLeft,z.actualBoundingBoxRight,-z.actualBoundingBoxAscent,z.actualBoundingBoxDescent).recordShowTextOperation(t)}return r.x+=$*m*d,s.restore(),void this.compose()}let k,w=0;for(k=0;k<h;++k){const A=e[k];if("number"==typeof A){w+=p*A*i/1e3;continue}let $=!1;const K=(A.isSpace?c:0)+l,z=A.fontChar,st=A.accent;let at,Ct,be,Nt=A.width;if(f){const jt=A.vmetric||g,zt=-(A.vmetric?jt[1]:.5*Nt)*m;Nt=jt?-jt[0]:Nt,at=zt/a,Ct=(w+jt[2]*m)/a}else at=w/a,Ct=0;if(o.remeasure&&Nt>0){be=s.measureText(z);const jt=1e3*be.width/i*a;if(Nt<jt&&this.isFontSubpixelAAEnabled){const zt=Nt/jt;$=!0,s.save(),s.scale(zt,1),at/=zt}else Nt!==jt&&(at+=(Nt-jt)/2e3*i/a)}this.contentVisible&&(A.isInFont||o.missingFile)&&(b&&!st?(s.fillText(z,at,Ct),this.dependencyTracker?.recordCharacterBBox(t,s,be?{bbox:null}:o,i/a,at,Ct,()=>be??s.measureText(z))):(this.paintChar(t,z,at,Ct,v,y),st&&this.paintChar(t,st.fontChar,at+i*st.offset.x/a,Ct-i*st.offset.y/a,v,y))),w+=f?Nt*m-K*u:Nt*m+K*u,$&&s.restore()}f?r.y-=w:r.x+=w*d,s.restore(),this.compose(),this.dependencyTracker?.recordShowTextOperation(t)}showType3Text(t,e){const r=this.ctx,o=this.current,i=o.font,s=o.fontSize,a=o.fontDirection,l=i.vertical?1:-1,c=o.charSpacing,u=o.wordSpacing,d=o.textHScale*a,h=o.fontMatrix||oy,f=e.length;let g,m,b,v;if(3===o.textRenderingMode||0===s)return;this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null,r.save(),o.textMatrix&&r.transform(...o.textMatrix),r.translate(o.x,o.y+o.textRise),r.scale(d,a);const y=this.dependencyTracker;for(this.dependencyTracker=y?new dp(y,t):null,g=0;g<f;++g){if(m=e[g],"number"==typeof m){v=l*m*s/1e3,this.ctx.translate(v,0),o.x+=v*d;continue}const C=(m.isSpace?u:0)+c,_=i.charProcOperatorList[m.operatorListId];_?this.contentVisible&&(this.save(),r.scale(s,s),r.transform(...h),this.executeOperatorList(_),this.restore()):je(`Type3 character "${m.operatorListId}" is not available.`);const w=[m.width,0];he.applyTransform(w,h),b=w[0]*s+C,r.translate(b,0),o.x+=b*d}r.restore(),y&&(this.dependencyTracker=y)}setCharWidth(t,e,r){}setCharWidthAndBounds(t,e,r,o,i,s,a){const l=new Path2D;l.rect(o,i,s-o,a-i),this.ctx.clip(l),this.dependencyTracker?.recordBBox(t,this.ctx,o,s,i,a).recordClipBox(t,this.ctx,o,s,i,a),this.endPath(t)}getColorN_Pattern(t,e){let r;if("TilingPattern"===e[0]){const o=this.baseTransform||En(this.ctx);r=new K7(e,this.ctx,{createCanvasGraphics:(s,a)=>new Kl(s,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:this.optionalContentConfig,markedContentStack:this.markedContentStack},void 0,void 0,this.dependencyTracker?new dp(this.dependencyTracker,a,!0):null)},o)}else r=this._getPattern(t,e[1],e[2]);return r}setStrokeColorN(t,...e){this.dependencyTracker?.recordSimpleData("strokeColor",t),this.current.strokeColor=this.getColorN_Pattern(t,e),this.current.patternStroke=!0}setFillColorN(t,...e){this.dependencyTracker?.recordSimpleData("fillColor",t),this.current.fillColor=this.getColorN_Pattern(t,e),this.current.patternFill=!0}setStrokeRGBColor(t,e){this.dependencyTracker?.recordSimpleData("strokeColor",t),this.ctx.strokeStyle=this.current.strokeColor=e,this.current.patternStroke=!1}setStrokeTransparent(t){this.dependencyTracker?.recordSimpleData("strokeColor",t),this.ctx.strokeStyle=this.current.strokeColor="transparent",this.current.patternStroke=!1}setFillRGBColor(t,e){this.dependencyTracker?.recordSimpleData("fillColor",t),this.ctx.fillStyle=this.current.fillColor=e,this.current.patternFill=!1}setFillTransparent(t){this.dependencyTracker?.recordSimpleData("fillColor",t),this.ctx.fillStyle=this.current.fillColor="transparent",this.current.patternFill=!1}_getPattern(t,e,r=null){let o;return this.cachedPatterns.has(e)?o=this.cachedPatterns.get(e):(o=function Y7(n){switch(n[0]){case"RadialAxial":return new z7(n);case"Mesh":return new G7(n);case"Dummy":return new q7}throw new Error(`Unknown IR type: ${n[0]}`)}(this.getObject(t,e)),this.cachedPatterns.set(e,o)),r&&(o.matrix=r),o}shadingFill(t,e){if(!this.contentVisible)return;const r=this.ctx;this.save(t);const o=this._getPattern(t,e);r.fillStyle=o.getPattern(r,this,_i(r),"Shading",t);const i=_i(r);if(i){const{width:s,height:a}=r.canvas,l=Yl.slice();he.axialAlignedBoundingBox([0,0,s,a],i,l);const[c,u,d,h]=l;this.ctx.fillRect(c,u,d-c,h-u)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.dependencyTracker?.resetBBox(t).recordFullPageBBox(t).recordDependencies(t,Ho_transform).recordDependencies(t,Ho_fill).recordOperation(t),this.compose(this.current.getClippedPathBoundingBox()),this.restore(t)}beginInlineImage(){Jt("Should not call beginInlineImage")}beginImageData(){Jt("Should not call beginImageData")}paintFormXObjectBegin(t,e,r){if(this.contentVisible&&(this.save(t),this.baseTransformStack.push(this.baseTransform),e&&this.transform(t,...e),this.baseTransform=En(this.ctx),r)){he.axialAlignedBoundingBox(r,this.baseTransform,this.current.minMax);const[o,i,s,a]=r,l=new Path2D;l.rect(o,i,s-o,a-i),this.ctx.clip(l),this.dependencyTracker?.recordClipBox(t,this.ctx,o,s,i,a),this.endPath(t)}}paintFormXObjectEnd(t){this.contentVisible&&(this.restore(t),this.baseTransform=this.baseTransformStack.pop())}beginGroup(t,e){if(!this.contentVisible)return;this.save(t),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const r=this.ctx;e.isolated||tp("TODO: Support non-isolated groups."),e.knockout&&je("Knockout groups not supported.");const o=En(r);if(e.matrix&&r.transform(...e.matrix),!e.bbox)throw new Error("Bounding box is required.");let i=Yl.slice();he.axialAlignedBoundingBox(e.bbox,En(r),i),i=he.intersect(i,[0,0,r.canvas.width,r.canvas.height])||[0,0,0,0];const a=Math.floor(i[0]),l=Math.floor(i[1]),c=Math.max(Math.ceil(i[2])-a,1),u=Math.max(Math.ceil(i[3])-l,1);this.current.startNewPathAndClipBox([0,0,c,u]);let d="groupAt"+this.groupLevel;e.smask&&(d+="_smask_"+this.smaskCounter++%2);const h=this.cachedCanvases.getCanvas(d,c,u),f=h.context;f.translate(-a,-l),f.transform(...o);let p=new Path2D;const[g,m,b,v]=e.bbox;if(p.rect(g,m,b-g,v-m),e.matrix){const y=new Path2D;y.addPath(p,new DOMMatrix(e.matrix)),p=y}f.clip(p),e.smask&&this.smaskStack.push({canvas:h.canvas,context:f,offsetX:a,offsetY:l,subtype:e.smask.subtype,backdrop:e.smask.backdrop,transferMap:e.smask.transferMap||null,startTransformInverse:null}),(!e.smask||this.dependencyTracker)&&(r.setTransform(1,0,0,1,0,0),r.translate(a,l),r.save()),$u(r,f),this.ctx=f,this.dependencyTracker?.inheritSimpleDataAsFutureForcedDependencies(["fillAlpha","strokeAlpha","globalCompositeOperation"]).pushBaseTransform(r),this.setGState(t,[["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(r),this.groupLevel++}endGroup(t,e){if(!this.contentVisible)return;this.groupLevel--;const r=this.ctx,o=this.groupStack.pop();if(this.ctx=o,this.ctx.imageSmoothingEnabled=!1,this.dependencyTracker?.popBaseTransform(),e.smask)this.tempSMask=this.smaskStack.pop(),this.restore(t),this.dependencyTracker&&this.ctx.restore();else{this.ctx.restore();const i=En(this.ctx);this.restore(t),this.ctx.save(),this.ctx.setTransform(...i);const s=Yl.slice();he.axialAlignedBoundingBox([0,0,r.canvas.width,r.canvas.height],i,s),this.ctx.drawImage(r.canvas,0,0),this.ctx.restore(),this.compose(s)}}beginAnnotation(t,e,r,o,i,s){if(this.#e(),fp(this.ctx),this.ctx.save(),this.save(t),this.baseTransform&&this.ctx.setTransform(...this.baseTransform),r){const a=r[2]-r[0],l=r[3]-r[1];if(s&&this.annotationCanvasMap){(o=o.slice())[4]-=r[0],o[5]-=r[1],(r=r.slice())[0]=r[1]=0,r[2]=a,r[3]=l,he.singularValueDecompose2dScale(En(this.ctx),go);const{viewportScale:c}=this,u=Math.ceil(a*this.outputScaleX*c),d=Math.ceil(l*this.outputScaleY*c);this.annotationCanvas=this.canvasFactory.create(u,d);const{canvas:h,context:f}=this.annotationCanvas;this.annotationCanvasMap.set(e,h),this.annotationCanvas.savedCtx=this.ctx,this.ctx=f,this.ctx.save(),this.ctx.setTransform(go[0],0,0,-go[1],0,l*go[1]),fp(this.ctx)}else{fp(this.ctx),this.endPath(t);const c=new Path2D;c.rect(r[0],r[1],a,l),this.ctx.clip(c)}}this.current=new OI(this.ctx.canvas.width,this.ctx.canvas.height),this.transform(t,...o),this.transform(t,...i)}endAnnotation(t){this.annotationCanvas&&(this.ctx.restore(),this.#t(),this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas)}paintImageMaskXObject(t,e){if(!this.contentVisible)return;const r=e.count;(e=this.getObject(t,e.data,e)).count=r;const o=this.ctx,i=this._createMaskCanvas(t,e),s=i.canvas;o.save(),o.setTransform(1,0,0,1,0,0),o.drawImage(s,i.offsetX,i.offsetY),this.dependencyTracker?.resetBBox(t).recordBBox(t,this.ctx,i.offsetX,i.offsetX+s.width,i.offsetY,i.offsetY+s.height).recordOperation(t),o.restore(),this.compose()}paintImageMaskXObjectRepeat(t,e,r,o=0,i=0,s,a){if(!this.contentVisible)return;e=this.getObject(t,e.data,e);const l=this.ctx;l.save();const c=En(l);l.transform(r,o,i,s,0,0);const u=this._createMaskCanvas(t,e);l.setTransform(1,0,0,1,u.offsetX-c[4],u.offsetY-c[5]),this.dependencyTracker?.resetBBox(t);for(let d=0,h=a.length;d<h;d+=2){const f=he.transform(c,[r,o,i,s,a[d],a[d+1]]);l.drawImage(u.canvas,f[4],f[5]),this.dependencyTracker?.recordBBox(t,this.ctx,f[4],f[4]+u.canvas.width,f[5],f[5]+u.canvas.height)}l.restore(),this.compose(),this.dependencyTracker?.recordOperation(t)}paintImageMaskXObjectGroup(t,e){if(!this.contentVisible)return;const r=this.ctx,o=this.current.fillColor,i=this.current.patternFill;this.dependencyTracker?.resetBBox(t).recordDependencies(t,Ho_transformAndFill);for(const s of e){const{data:a,width:l,height:c,transform:u}=s,d=this.cachedCanvases.getCanvas("maskCanvas",l,c),h=d.context;h.save(),PI(h,this.getObject(t,a,s)),h.globalCompositeOperation="source-in",h.fillStyle=i?o.getPattern(h,this,_i(r),"Fill",t):o,h.fillRect(0,0,l,c),h.restore(),r.save(),r.transform(...u),r.scale(1,-1),hp(r,d.canvas,0,0,l,c,0,-1,1,1),this.dependencyTracker?.recordBBox(t,r,0,l,0,c),r.restore()}this.compose(),this.dependencyTracker?.recordOperation(t)}paintImageXObject(t,e){if(!this.contentVisible)return;const r=this.getObject(t,e);r?this.paintInlineImageXObject(t,r):je("Dependent image isn't ready yet")}paintImageXObjectRepeat(t,e,r,o,i){if(!this.contentVisible)return;const s=this.getObject(t,e);if(!s)return void je("Dependent image isn't ready yet");const a=s.width,l=s.height,c=[];for(let u=0,d=i.length;u<d;u+=2)c.push({transform:[r,0,0,o,i[u],i[u+1]],x:0,y:0,w:a,h:l});this.paintInlineImageXObjectGroup(t,s,c)}applyTransferMapsToCanvas(t){return"none"!==this.current.transferMaps&&(t.filter=this.current.transferMaps,t.drawImage(t.canvas,0,0),t.filter="none"),t.canvas}applyTransferMapsToBitmap(t){if("none"===this.current.transferMaps)return t.bitmap;const{bitmap:e,width:r,height:o}=t,i=this.cachedCanvases.getCanvas("inlineImage",r,o),s=i.context;return s.filter=this.current.transferMaps,s.drawImage(e,0,0),s.filter="none",i.canvas}paintInlineImageXObject(t,e){if(!this.contentVisible)return;const r=e.width,o=e.height,i=this.ctx;this.save(t);const{filter:s}=i;let a;if("none"!==s&&""!==s&&(i.filter="none"),i.scale(1/r,-1/o),e.bitmap)a=this.applyTransferMapsToBitmap(e);else if("function"==typeof HTMLElement&&e instanceof HTMLElement||!e.data)a=e;else{const u=this.cachedCanvases.getCanvas("inlineImage",r,o).context;LI(u,e),a=this.applyTransferMapsToCanvas(u)}const l=this._scaleImage(a,_i(i));i.imageSmoothingEnabled=FI(En(i),e.interpolate),this.dependencyTracker?.resetBBox(t).recordBBox(t,i,0,r,-o,0).recordDependencies(t,Ho_imageXObject).recordOperation(t),hp(i,l.img,0,0,l.paintWidth,l.paintHeight,0,-o,r,o),this.compose(),this.restore(t)}paintInlineImageXObjectGroup(t,e,r){if(!this.contentVisible)return;const o=this.ctx;let i;if(e.bitmap)i=e.bitmap;else{const c=this.cachedCanvases.getCanvas("inlineImage",e.width,e.height).context;LI(c,e),i=this.applyTransferMapsToCanvas(c)}this.dependencyTracker?.resetBBox(t);for(const s of r)o.save(),o.transform(...s.transform),o.scale(1,-1),hp(o,i,s.x,s.y,s.w,s.h,0,-1,1,1),this.dependencyTracker?.recordBBox(t,o,0,1,-1,0),o.restore();this.dependencyTracker?.recordOperation(t),this.compose()}paintSolidColorImageMask(t){this.contentVisible&&(this.dependencyTracker?.resetBBox(t).recordBBox(t,this.ctx,0,1,0,1).recordDependencies(t,Ho_fill).recordOperation(t),this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(t,e){}markPointProps(t,e,r){}beginMarkedContent(t,e){this.dependencyTracker?.beginMarkedContent(t),this.markedContentStack.push({visible:!0})}beginMarkedContentProps(t,e,r){this.dependencyTracker?.beginMarkedContent(t),this.markedContentStack.push("OC"===e?{visible:this.optionalContentConfig.isVisible(r)}:{visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(t){this.dependencyTracker?.endMarkedContent(t),this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(t){}endCompat(t){}consumePath(t,e,r){const o=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(r);const i=this.ctx;this.pendingClip?(o||(this.pendingClip===BI?i.clip(e,"evenodd"):i.clip(e)),this.pendingClip=null,this.dependencyTracker?.bboxToClipBoxDropOperation(t).recordFutureForcedDependency("clipPath",t)):this.dependencyTracker?.recordOperation(t),this.current.startNewPathAndClipBox(this.current.clipBox)}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){const t=En(this.ctx);if(0===t[1]&&0===t[2])this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(t[0]),Math.abs(t[3]));else{const e=Math.abs(t[0]*t[3]-t[2]*t[1]),r=Math.hypot(t[0],t[2]),o=Math.hypot(t[1],t[3]);this._cachedGetSinglePixelWidth=Math.max(r,o)/e}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(-1===this._cachedScaleForStroking[0]){const{lineWidth:t}=this.current,{a:e,b:r,c:o,d:i}=this.ctx.getTransform();let s,a;if(0===r&&0===o){const l=Math.abs(e),c=Math.abs(i);if(l===c)if(0===t)s=a=1/l;else{const u=l*t;s=a=u<1?1/u:1}else if(0===t)s=1/l,a=1/c;else{const u=l*t,d=c*t;s=u<1?1/u:1,a=d<1?1/d:1}}else{const l=Math.abs(e*i-r*o),c=Math.hypot(e,r),u=Math.hypot(o,i);if(0===t)s=u/l,a=c/l;else{const d=t*l;s=u>d?u/d:1,a=c>d?c/d:1}}this._cachedScaleForStroking[0]=s,this._cachedScaleForStroking[1]=a}return this._cachedScaleForStroking}rescaleAndStroke(t,e){const{ctx:r,current:{lineWidth:o}}=this,[i,s]=this.getScaleForStroking();if(i===s)return r.lineWidth=(o||1)*i,void r.stroke(t);const a=r.getLineDash();e&&r.save(),r.scale(i,s),ky.a=1/i,ky.d=1/s;const l=new Path2D;if(l.addPath(t,ky),a.length>0){const c=Math.max(i,s);r.setLineDash(a.map(u=>u/c)),r.lineDashOffset/=c}r.lineWidth=o||1,r.stroke(l),e&&r.restore()}isContentVisible(){for(let t=this.markedContentStack.length-1;t>=0;t--)if(!this.markedContentStack[t].visible)return!1;return!0}}for(const n in xu)void 0!==Kl.prototype[n]&&(Kl.prototype[xu[n]]=Kl.prototype[n]);class Uu{static#e=null;static#t="";static get workerPort(){return this.#e}static set workerPort(t){if(!(typeof Worker<"u"&&t instanceof Worker)&&null!==t)throw new Error("Invalid `workerPort` type.");this.#e=t}static get workerSrc(){return this.#t}static set workerSrc(t){if("string"!=typeof t)throw new Error("Invalid `workerSrc` type.");this.#t=t}}class rU{#e;#t;constructor({parsedData:t,rawData:e}){this.#e=t,this.#t=e}getRaw(){return this.#t}get(t){return this.#e.get(t)??null}[Symbol.iterator](){return this.#e.entries()}}const Xl=Symbol("INTERNAL");class oU{#e=!1;#t=!1;#r=!1;#n=!0;constructor(t,{name:e,intent:r,usage:o,rbGroups:i}){this.#e=!!(2&t),this.#t=!!(4&t),this.name=e,this.intent=r,this.usage=o,this.rbGroups=i}get visible(){if(this.#r)return this.#n;if(!this.#n)return!1;const{print:t,view:e}=this.usage;return this.#e?"OFF"!==e?.viewState:!this.#t||"OFF"!==t?.printState}_setVisible(t,e,r=!1){t!==Xl&&Jt("Internal method `_setVisible` called."),this.#r=r,this.#n=e}}class iU{#e=null;#t=new Map;#r=null;#n=null;constructor(t,e=2){if(this.renderingIntent=e,this.name=null,this.creator=null,null!==t){this.name=t.name,this.creator=t.creator,this.#n=t.order;for(const r of t.groups)this.#t.set(r.id,new oU(e,r));if("OFF"===t.baseState)for(const r of this.#t.values())r._setVisible(Xl,!1);for(const r of t.on)this.#t.get(r)._setVisible(Xl,!0);for(const r of t.off)this.#t.get(r)._setVisible(Xl,!1);this.#r=this.getHash()}}#s(t){const e=t.length;if(e<2)return!0;const r=t[0];for(let o=1;o<e;o++){const i=t[o];let s;if(Array.isArray(i))s=this.#s(i);else{if(!this.#t.has(i))return je(`Optional content group not found: ${i}`),!0;s=this.#t.get(i).visible}switch(r){case"And":if(!s)return!1;break;case"Or":if(s)return!0;break;case"Not":return!s;default:return!0}}return"And"===r}isVisible(t){if(0===this.#t.size)return!0;if(!t)return tp("Optional content group not defined."),!0;if("OCG"===t.type)return this.#t.has(t.id)?this.#t.get(t.id).visible:(je(`Optional content group not found: ${t.id}`),!0);if("OCMD"===t.type){if(t.expression)return this.#s(t.expression);if(!t.policy||"AnyOn"===t.policy){for(const e of t.ids){if(!this.#t.has(e))return je(`Optional content group not found: ${e}`),!0;if(this.#t.get(e).visible)return!0}return!1}if("AllOn"===t.policy){for(const e of t.ids){if(!this.#t.has(e))return je(`Optional content group not found: ${e}`),!0;if(!this.#t.get(e).visible)return!1}return!0}if("AnyOff"===t.policy){for(const e of t.ids){if(!this.#t.has(e))return je(`Optional content group not found: ${e}`),!0;if(!this.#t.get(e).visible)return!0}return!1}if("AllOff"===t.policy){for(const e of t.ids){if(!this.#t.has(e))return je(`Optional content group not found: ${e}`),!0;if(this.#t.get(e).visible)return!1}return!0}return je(`Unknown optional content policy ${t.policy}.`),!0}return je(`Unknown group type ${t.type}.`),!0}setVisibility(t,e=!0,r=!0){const o=this.#t.get(t);if(o){if(r&&e&&o.rbGroups.length)for(const i of o.rbGroups)for(const s of i)s!==t&&this.#t.get(s)?._setVisible(Xl,!1,!0);o._setVisible(Xl,!!e,!0),this.#e=null}else je(`Optional content group not found: ${t}`)}setOCGState({state:t,preserveRB:e}){let r;for(const o of t){switch(o){case"ON":case"OFF":case"Toggle":r=o;continue}const i=this.#t.get(o);if(i)switch(r){case"ON":this.setVisibility(o,!0,e);break;case"OFF":this.setVisibility(o,!1,e);break;case"Toggle":this.setVisibility(o,!i.visible,e)}}this.#e=null}get hasInitialVisibility(){return null===this.#r||this.getHash()===this.#r}getOrder(){return this.#t.size?this.#n?this.#n.slice():[...this.#t.keys()]:null}getGroup(t){return this.#t.get(t)||null}getHash(){if(null!==this.#e)return this.#e;const t=new pI;for(const[e,r]of this.#t)t.update(`${e}:${r.visible}`);return this.#e=t.hexdigest()}[Symbol.iterator](){return this.#t.entries()}}class sU{constructor(t,{disableRange:e=!1,disableStream:r=!1}){yt(t,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.');const{length:o,initialData:i,progressiveDone:s,contentDispositionFilename:a}=t;if(this._queuedChunks=[],this._progressiveDone=s,this._contentDispositionFilename=a,i?.length>0){const l=i instanceof Uint8Array&&i.byteLength===i.buffer.byteLength?i.buffer:new Uint8Array(i).buffer;this._queuedChunks.push(l)}this._pdfDataRangeTransport=t,this._isStreamingSupported=!r,this._isRangeSupported=!e,this._contentLength=o,this._fullRequestReader=null,this._rangeReaders=[],t.addRangeListener((l,c)=>{this._onReceiveData({begin:l,chunk:c})}),t.addProgressListener((l,c)=>{this._onProgress({loaded:l,total:c})}),t.addProgressiveReadListener(l=>{this._onReceiveData({chunk:l})}),t.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),t.transportReady()}_onReceiveData({begin:t,chunk:e}){const r=e instanceof Uint8Array&&e.byteLength===e.buffer.byteLength?e.buffer:new Uint8Array(e).buffer;void 0===t?this._fullRequestReader?this._fullRequestReader._enqueue(r):this._queuedChunks.push(r):yt(this._rangeReaders.some(function(i){return i._begin===t&&(i._enqueue(r),!0)}),"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}_onProgress(t){void 0===t.total?this._rangeReaders[0]?.onProgress?.({loaded:t.loaded}):this._fullRequestReader?.onProgress?.({loaded:t.loaded,total:t.total})}_onProgressiveDone(){this._fullRequestReader?.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(t){const e=this._rangeReaders.indexOf(t);e>=0&&this._rangeReaders.splice(e,1)}getFullReader(){yt(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const t=this._queuedChunks;return this._queuedChunks=null,new aU(this,t,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(t,e){if(e<=this._progressiveDataLength)return null;const r=new lU(this,t,e);return this._pdfDataRangeTransport.requestDataRange(t,e),this._rangeReaders.push(r),r}cancelAllRequests(t){this._fullRequestReader?.cancel(t);for(const e of this._rangeReaders.slice(0))e.cancel(t);this._pdfDataRangeTransport.abort()}}class aU{constructor(t,e,r=!1,o=null){this._stream=t,this._done=r||!1,this._filename=dy(o)?o:null,this._queuedChunks=e||[],this._loaded=0;for(const i of this._queuedChunks)this._loaded+=i.byteLength;this._requests=[],this._headersReady=Promise.resolve(),t._fullRequestReader=this,this.onProgress=null}_enqueue(t){this._done||(this._requests.length>0?this._requests.shift().resolve({value:t,done:!1}):this._queuedChunks.push(t),this._loaded+=t.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}read(){var t=this;return B(function*(){if(t._queuedChunks.length>0)return{value:t._queuedChunks.shift(),done:!1};if(t._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return t._requests.push(e),e.promise})()}cancel(t){this._done=!0;for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class lU{constructor(t,e,r){this._stream=t,this._begin=e,this._end=r,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(t){if(!this._done){if(0===this._requests.length)this._queuedChunk=t;else{this._requests.shift().resolve({value:t,done:!1});for(const r of this._requests)r.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}read(){var t=this;return B(function*(){if(t._queuedChunk){const r=t._queuedChunk;return t._queuedChunk=null,{value:r,done:!1}}if(t._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return t._requests.push(e),e.promise})()}cancel(t){this._done=!0;for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}function HI(n,t){const e=new Headers;if(!n||!t||"object"!=typeof t)return e;for(const r in t){const o=t[r];void 0!==o&&e.append(r,o)}return e}function pp(n){return URL.parse(n)?.origin??null}function jI({responseHeaders:n,isHttp:t,rangeChunkSize:e,disableRange:r}){const o={allowRangeRequests:!1,suggestedLength:void 0},i=parseInt(n.get("Content-Length"),10);return!Number.isInteger(i)||(o.suggestedLength=i,i<=2*e)||r||!t||"bytes"!==n.get("Accept-Ranges")||"identity"!==(n.get("Content-Encoding")||"identity")||(o.allowRangeRequests=!0),o}function $I(n){const t=n.get("Content-Disposition");if(t){let e=function cU(n){let t=!0,e=r("filename\\*","i").exec(n);if(e){e=e[1];let u=a(e);return u=unescape(u),u=l(u),u=c(u),i(u)}if(e=function s(u){const d=[];let h;const f=r("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;null!==(h=f.exec(u));){let[,g,m,b]=h;if(g=parseInt(g,10),g in d){if(0===g)break}else d[g]=[m,b]}const p=[];for(let g=0;g<d.length&&g in d;++g){let[m,b]=d[g];b=a(b),m&&(b=unescape(b),0===g&&(b=l(b))),p.push(b)}return p.join("")}(n),e)return i(c(e));if(e=r("filename","i").exec(n),e){e=e[1];let u=a(e);return u=c(u),i(u)}function r(u,d){return new RegExp("(?:^|;)\\s*"+u+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',d)}function o(u,d){if(u){if(!/^[\x00-\xFF]+$/.test(d))return d;try{const h=new TextDecoder(u,{fatal:!0}),f=zl(d);d=h.decode(f),t=!1}catch{}}return d}function i(u){return t&&/[\x80-\xff]/.test(u)&&(u=o("utf-8",u),t&&(u=o("iso-8859-1",u))),u}function a(u){if(u.startsWith('"')){const d=u.slice(1).split('\\"');for(let h=0;h<d.length;++h){const f=d[h].indexOf('"');-1!==f&&(d[h]=d[h].slice(0,f),d.length=h+1),d[h]=d[h].replaceAll(/\\(.)/g,"$1")}u=d.join('"')}return u}function l(u){const d=u.indexOf("'");return-1===d?u:o(u.slice(0,d),u.slice(d+1).replace(/^[^']*'/,""))}function c(u){return!u.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(u)?u:u.replaceAll(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(d,h,f,p){if("q"===f||"Q"===f)return o(h,p=(p=p.replaceAll("_"," ")).replaceAll(/=([0-9a-fA-F]{2})/g,function(g,m){return String.fromCharCode(parseInt(m,16))}));try{p=atob(p)}catch{}return o(h,p)})}return""}(t);if(e.includes("%"))try{e=decodeURIComponent(e)}catch{}if(dy(e))return e}return null}function Vu(n,t){return new np(`Unexpected server response (${n}) while retrieving PDF "${t}".`,n,404===n||0===n&&t.startsWith("file:"))}function UI(n){return 200===n||206===n}function VI(n,t,e){return{method:"GET",headers:n,signal:e.signal,mode:"cors",credentials:t?"include":"same-origin",redirect:"follow"}}function zI(n){return n instanceof Uint8Array?n.buffer:n instanceof ArrayBuffer?n:(je(`getArrayBuffer - unexpected data format: ${n}`),new Uint8Array(n).buffer)}class uU{_responseOrigin=null;constructor(t){this.source=t,this.isHttp=/^https?:/i.test(t.url),this.headers=HI(this.isHttp,t.httpHeaders),this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}getFullReader(){return yt(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new dU(this),this._fullRequestReader}getRangeReader(t,e){if(e<=this._progressiveDataLength)return null;const r=new hU(this,t,e);return this._rangeRequestReaders.push(r),r}cancelAllRequests(t){this._fullRequestReader?.cancel(t);for(const e of this._rangeRequestReaders.slice(0))e.cancel(t)}}class dU{constructor(t){this._stream=t,this._reader=null,this._loaded=0,this._filename=null;const e=t.source;this._withCredentials=e.withCredentials||!1,this._contentLength=e.length,this._headersCapability=Promise.withResolvers(),this._disableRange=e.disableRange||!1,this._rangeChunkSize=e.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._abortController=new AbortController,this._isStreamingSupported=!e.disableStream,this._isRangeSupported=!e.disableRange;const r=new Headers(t.headers),o=e.url;fetch(o,VI(r,this._withCredentials,this._abortController)).then(i=>{if(t._responseOrigin=pp(i.url),!UI(i.status))throw Vu(i.status,o);this._reader=i.body.getReader(),this._headersCapability.resolve();const s=i.headers,{allowRangeRequests:a,suggestedLength:l}=jI({responseHeaders:s,isHttp:t.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=a,this._contentLength=l||this._contentLength,this._filename=$I(s),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new _s("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}read(){var t=this;return B(function*(){yield t._headersCapability.promise;const{value:e,done:r}=yield t._reader.read();return r?{value:e,done:r}:(t._loaded+=e.byteLength,t.onProgress?.({loaded:t._loaded,total:t._contentLength}),{value:zI(e),done:!1})})()}cancel(t){this._reader?.cancel(t),this._abortController.abort()}}class hU{constructor(t,e,r){this._stream=t,this._reader=null,this._loaded=0;const o=t.source;this._withCredentials=o.withCredentials||!1,this._readCapability=Promise.withResolvers(),this._isStreamingSupported=!o.disableStream,this._abortController=new AbortController;const i=new Headers(t.headers);i.append("Range",`bytes=${e}-${r-1}`);const s=o.url;fetch(s,VI(i,this._withCredentials,this._abortController)).then(a=>{const l=pp(a.url);if(l!==t._responseOrigin)throw new Error(`Expected range response-origin "${l}" to match "${t._responseOrigin}".`);if(!UI(a.status))throw Vu(a.status,s);this._readCapability.resolve(),this._reader=a.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}read(){var t=this;return B(function*(){yield t._readCapability.promise;const{value:e,done:r}=yield t._reader.read();return r?{value:e,done:r}:(t._loaded+=e.byteLength,t.onProgress?.({loaded:t._loaded}),{value:zI(e),done:!1})})()}cancel(t){this._reader?.cancel(t),this._abortController.abort()}}class pU{_responseOrigin=null;constructor({url:t,httpHeaders:e,withCredentials:r}){this.url=t,this.isHttp=/^https?:/i.test(t),this.headers=HI(this.isHttp,e),this.withCredentials=r||!1,this.currXhrId=0,this.pendingRequests=Object.create(null)}request(t){const e=new XMLHttpRequest,r=this.currXhrId++,o=this.pendingRequests[r]={xhr:e};e.open("GET",this.url),e.withCredentials=this.withCredentials;for(const[i,s]of this.headers)e.setRequestHeader(i,s);return this.isHttp&&"begin"in t&&"end"in t?(e.setRequestHeader("Range",`bytes=${t.begin}-${t.end-1}`),o.expectedStatus=206):o.expectedStatus=200,e.responseType="arraybuffer",yt(t.onError,"Expected `onError` callback to be provided."),e.onerror=()=>{t.onError(e.status)},e.onreadystatechange=this.onStateChange.bind(this,r),e.onprogress=this.onProgress.bind(this,r),o.onHeadersReceived=t.onHeadersReceived,o.onDone=t.onDone,o.onError=t.onError,o.onProgress=t.onProgress,e.send(null),r}onProgress(t,e){const r=this.pendingRequests[t];r&&r.onProgress?.(e)}onStateChange(t,e){const r=this.pendingRequests[t];if(!r)return;const o=r.xhr;if(o.readyState>=2&&r.onHeadersReceived&&(r.onHeadersReceived(),delete r.onHeadersReceived),4!==o.readyState||!(t in this.pendingRequests))return;if(delete this.pendingRequests[t],0===o.status&&this.isHttp)return void r.onError(o.status);const i=o.status||200;if((200!==i||206!==r.expectedStatus)&&i!==r.expectedStatus)return void r.onError(o.status);const a=function fU(n){const t=n.response;return"string"!=typeof t?t:zl(t).buffer}(o);if(206===i){const l=o.getResponseHeader("Content-Range"),c=/bytes (\d+)-(\d+)\/(\d+)/.exec(l);c?r.onDone({begin:parseInt(c[1],10),chunk:a}):(je('Missing or invalid "Content-Range" header.'),r.onError(0))}else a?r.onDone({begin:0,chunk:a}):r.onError(o.status)}getRequestXhr(t){return this.pendingRequests[t].xhr}isPendingRequest(t){return t in this.pendingRequests}abortRequest(t){const e=this.pendingRequests[t].xhr;delete this.pendingRequests[t],e.abort()}}class gU{constructor(t){this._source=t,this._manager=new pU(t),this._rangeChunkSize=t.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(t){const e=this._rangeRequestReaders.indexOf(t);e>=0&&this._rangeRequestReaders.splice(e,1)}getFullReader(){return yt(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new mU(this._manager,this._source),this._fullRequestReader}getRangeReader(t,e){const r=new bU(this._manager,t,e);return r.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(r),r}cancelAllRequests(t){this._fullRequestReader?.cancel(t);for(const e of this._rangeRequestReaders.slice(0))e.cancel(t)}}class mU{constructor(t,e){this._manager=t,this._url=e.url,this._fullRequestId=t.request({onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)}),this._headersCapability=Promise.withResolvers(),this._disableRange=e.disableRange||!1,this._contentLength=e.length,this._rangeChunkSize=e.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const t=this._fullRequestId,e=this._manager.getRequestXhr(t);this._manager._responseOrigin=pp(e.responseURL);const r=e.getAllResponseHeaders(),o=new Headers(r?r.trimStart().replace(/[^\S ]+$/,"").split(/[\r\n]+/).map(a=>{const[l,...c]=a.split(": ");return[l,c.join(": ")]}):[]),{allowRangeRequests:i,suggestedLength:s}=jI({responseHeaders:o,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});i&&(this._isRangeSupported=!0),this._contentLength=s||this._contentLength,this._filename=$I(o),this._isRangeSupported&&this._manager.abortRequest(t),this._headersCapability.resolve()}_onDone(t){if(t&&(this._requests.length>0?this._requests.shift().resolve({value:t.chunk,done:!1}):this._cachedChunks.push(t.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(t){this._storedError=Vu(t,this._url),this._headersCapability.reject(this._storedError);for(const e of this._requests)e.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(t){this.onProgress?.({loaded:t.loaded,total:t.lengthComputable?t.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersCapability.promise}read(){var t=this;return B(function*(){if(yield t._headersCapability.promise,t._storedError)throw t._storedError;if(t._cachedChunks.length>0)return{value:t._cachedChunks.shift(),done:!1};if(t._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return t._requests.push(e),e.promise})()}cancel(t){this._done=!0,this._headersCapability.reject(t);for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class bU{constructor(t,e,r){this._manager=t,this._url=t.url,this._requestId=t.request({begin:e,end:r,onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)}),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_onHeadersReceived(){const t=pp(this._manager.getRequestXhr(this._requestId)?.responseURL);t!==this._manager._responseOrigin&&(this._storedError=new Error(`Expected range response-origin "${t}" to match "${this._manager._responseOrigin}".`),this._onError(0))}_close(){this.onClosed?.(this)}_onDone(t){const e=t.chunk;this._requests.length>0?this._requests.shift().resolve({value:e,done:!1}):this._queuedChunk=e,this._done=!0;for(const r of this._requests)r.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(t){this._storedError??=Vu(t,this._url);for(const e of this._requests)e.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(t){this.isStreamingSupported||this.onProgress?.({loaded:t.loaded})}get isStreamingSupported(){return!1}read(){var t=this;return B(function*(){if(t._storedError)throw t._storedError;if(null!==t._queuedChunk){const r=t._queuedChunk;return t._queuedChunk=null,{value:r,done:!1}}if(t._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return t._requests.push(e),e.promise})()}cancel(t){this._done=!0;for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}const vU=/^[a-z][a-z0-9\-+.]+:/i;class _U{constructor(t){this.source=t,this.url=function yU(n){if(vU.test(n))return new URL(n);const t=process.getBuiltinModule("url");return new URL(t.pathToFileURL(n))}(t.url),yt("file:"===this.url.protocol,"PDFNodeStream only supports file:// URLs."),this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}getFullReader(){return yt(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=new CU(this),this._fullRequestReader}getRangeReader(t,e){if(e<=this._progressiveDataLength)return null;const r=new wU(this,t,e);return this._rangeRequestReaders.push(r),r}cancelAllRequests(t){this._fullRequestReader?.cancel(t);for(const e of this._rangeRequestReaders.slice(0))e.cancel(t)}}class CU{constructor(t){this._url=t.url,this._done=!1,this._storedError=null,this.onProgress=null;const e=t.source;this._contentLength=e.length,this._loaded=0,this._filename=null,this._disableRange=e.disableRange||!1,this._rangeChunkSize=e.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!e.disableStream,this._isRangeSupported=!e.disableRange,this._readableStream=null,this._readCapability=Promise.withResolvers(),this._headersCapability=Promise.withResolvers();const r=process.getBuiltinModule("fs");r.promises.lstat(this._url).then(o=>{this._contentLength=o.size,this._setReadableStream(r.createReadStream(this._url)),this._headersCapability.resolve()},o=>{"ENOENT"===o.code&&(o=Vu(0,this._url.href)),this._storedError=o,this._headersCapability.reject(o)})}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}read(){var t=this;return B(function*(){if(yield t._readCapability.promise,t._done)return{value:void 0,done:!0};if(t._storedError)throw t._storedError;const e=t._readableStream.read();return null===e?(t._readCapability=Promise.withResolvers(),t.read()):(t._loaded+=e.length,t.onProgress?.({loaded:t._loaded,total:t._contentLength}),{value:new Uint8Array(e).buffer,done:!1})})()}cancel(t){this._readableStream?this._readableStream.destroy(t):this._error(t)}_error(t){this._storedError=t,this._readCapability.resolve()}_setReadableStream(t){this._readableStream=t,t.on("readable",()=>{this._readCapability.resolve()}),t.on("end",()=>{t.destroy(),this._done=!0,this._readCapability.resolve()}),t.on("error",e=>{this._error(e)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new _s("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class wU{constructor(t,e,r){this._url=t.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=Promise.withResolvers(),this._isStreamingSupported=!t.source.disableStream;const i=process.getBuiltinModule("fs");this._setReadableStream(i.createReadStream(this._url,{start:e,end:r-1}))}get isStreamingSupported(){return this._isStreamingSupported}read(){var t=this;return B(function*(){if(yield t._readCapability.promise,t._done)return{value:void 0,done:!0};if(t._storedError)throw t._storedError;const e=t._readableStream.read();return null===e?(t._readCapability=Promise.withResolvers(),t.read()):(t._loaded+=e.length,t.onProgress?.({loaded:t._loaded}),{value:new Uint8Array(e).buffer,done:!1})})()}cancel(t){this._readableStream?this._readableStream.destroy(t):this._error(t)}_error(t){this._storedError=t,this._readCapability.resolve()}_setReadableStream(t){this._readableStream=t,t.on("readable",()=>{this._readCapability.resolve()}),t.on("end",()=>{t.destroy(),this._done=!0,this._readCapability.resolve()}),t.on("error",e=>{this._error(e)}),this._storedError&&this._readableStream.destroy(this._storedError)}}const zu=Symbol("INITIAL_DATA");class WI{#e=Object.create(null);#t(t){return this.#e[t]||={...Promise.withResolvers(),data:zu}}get(t,e=null){if(e){const o=this.#t(t);return o.promise.then(()=>e(o.data)),null}const r=this.#e[t];if(!r||r.data===zu)throw new Error(`Requesting object that isn't resolved yet ${t}.`);return r.data}has(t){const e=this.#e[t];return!!e&&e.data!==zu}delete(t){const e=this.#e[t];return!(!e||e.data===zu||(delete this.#e[t],0))}resolve(t,e=null){const r=this.#t(t);r.data=e,r.resolve()}clear(){for(const t in this.#e){const{data:e}=this.#e[t];e?.bitmap?.close()}this.#e=Object.create(null)}*[Symbol.iterator](){for(const t in this.#e){const{data:e}=this.#e[t];e!==zu&&(yield[t,e])}}}class $r{#e=Promise.withResolvers();#t=null;#r=!1;#n=!!globalThis.FontInspector?.enabled;#s=null;#i=null;#o=0;#a=0;#c=null;#l=null;#h=0;#d=0;#f=Object.create(null);#m=[];#g=null;#u=[];#p=new WeakMap;#b=null;static#y=new Map;static#v=new Map;static#S=new WeakMap;static#E=null;static#C=new Set;constructor({textContentSource:t,container:e,viewport:r}){if(t instanceof ReadableStream)this.#g=t;else{if("object"!=typeof t)throw new Error('No "textContentSource" parameter specified.');this.#g=new ReadableStream({start(l){l.enqueue(t),l.close()}})}this.#t=this.#l=e,this.#d=r.scale*Ci.pixelRatio,this.#h=r.rotation,this.#i={div:null,properties:null,ctx:null};const{pageWidth:o,pageHeight:i,pageX:s,pageY:a}=r.rawDims;this.#b=[1,0,0,-1,-s,a+i],this.#a=o,this.#o=i,$r.#I(),ga(e,r),this.#e.promise.finally(()=>{$r.#C.delete(this),this.#i=null,this.#f=null}).catch(()=>{})}static get fontFamilyMap(){const{isWindows:t,isFirefox:e}=pr.platform;return Ue(this,"fontFamilyMap",new Map([["sans-serif",(t&&e?"Calibri, ":"")+"sans-serif"],["monospace",(t&&e?"Lucida Console, ":"")+"monospace"]]))}render(){const t=()=>{this.#c.read().then(({value:e,done:r})=>{r?this.#e.resolve():(this.#s??=e.lang,Object.assign(this.#f,e.styles),this.#T(e.items),t())},this.#e.reject)};return this.#c=this.#g.getReader(),$r.#C.add(this),t(),this.#e.promise}update({viewport:t,onBefore:e=null}){const r=t.scale*Ci.pixelRatio,o=t.rotation;if(o!==this.#h&&(e?.(),this.#h=o,ga(this.#l,{rotation:o})),r!==this.#d){e?.(),this.#d=r;const i={div:null,properties:null,ctx:$r.#x(this.#s)};for(const s of this.#u)i.properties=this.#p.get(s),i.div=s,this.#D(i)}}cancel(){const t=new _s("TextLayer task cancelled.");this.#c?.cancel(t).catch(()=>{}),this.#c=null,this.#e.reject(t)}get textDivs(){return this.#u}get textContentItemsStr(){return this.#m}#T(t){if(this.#r)return;this.#i.ctx??=$r.#x(this.#s);const e=this.#u,r=this.#m;for(const o of t){if(e.length>1e5)return je("Ignoring additional textDivs for performance reasons."),void(this.#r=!0);if(void 0!==o.str)r.push(o.str),this.#_(o);else if("beginMarkedContentProps"===o.type||"beginMarkedContent"===o.type){const i=this.#t;this.#t=document.createElement("span"),this.#t.classList.add("markedContent"),o.id&&this.#t.setAttribute("id",`${o.id}`),i.append(this.#t)}else"endMarkedContent"===o.type&&(this.#t=this.#t.parentNode)}}#_(t){const e=document.createElement("span"),r={angle:0,canvasWidth:0,hasText:""!==t.str,hasEOL:t.hasEOL,fontSize:0};this.#u.push(e);const o=he.transform(this.#b,t.transform);let i=Math.atan2(o[1],o[0]);const s=this.#f[t.fontName];s.vertical&&(i+=Math.PI/2);let a=this.#n&&s.fontSubstitution||s.fontFamily;a=$r.fontFamilyMap.get(a)||a;const l=Math.hypot(o[2],o[3]),c=l*$r.#F(a,s,this.#s);let u,d;0===i?(u=o[4],d=o[5]-c):(u=o[4]+c*Math.sin(i),d=o[5]-c*Math.cos(i));const h="calc(var(--total-scale-factor) *",f=e.style;this.#t===this.#l?(f.left=`${(100*u/this.#a).toFixed(2)}%`,f.top=`${(100*d/this.#o).toFixed(2)}%`):(f.left=`${h}${u.toFixed(2)}px)`,f.top=`${h}${d.toFixed(2)}px)`),f.fontSize=`${h}${($r.#E*l).toFixed(2)}px)`,f.fontFamily=a,r.fontSize=l,e.setAttribute("role","presentation"),e.textContent=t.str,e.dir=t.dir,this.#n&&(e.dataset.fontName=s.fontSubstitutionLoadedName||t.fontName),0!==i&&(r.angle=i*(180/Math.PI));let p=!1;if(t.str.length>1)p=!0;else if(" "!==t.str&&t.transform[0]!==t.transform[3]){const g=Math.abs(t.transform[0]),m=Math.abs(t.transform[3]);g!==m&&Math.max(g,m)/Math.min(g,m)>1.5&&(p=!0)}if(p&&(r.canvasWidth=s.vertical?t.height:t.width),this.#p.set(e,r),this.#i.div=e,this.#i.properties=r,this.#D(this.#i),r.hasText&&this.#t.append(e),r.hasEOL){const g=document.createElement("br");g.setAttribute("role","presentation"),this.#t.append(g)}}#D(t){const{div:e,properties:r,ctx:o}=t,{style:i}=e;let s="";if($r.#E>1&&(s=`scale(${1/$r.#E})`),0!==r.canvasWidth&&r.hasText){const{fontFamily:a}=i,{canvasWidth:l,fontSize:c}=r;$r.#A(o,c*this.#d,a);const{width:u}=o.measureText(e.textContent);u>0&&(s=`scaleX(${l*this.#d/u}) ${s}`)}0!==r.angle&&(s=`rotate(${r.angle}deg) ${s}`),s.length>0&&(i.transform=s)}static cleanup(){if(!(this.#C.size>0)){this.#y.clear();for(const{canvas:t}of this.#v.values())t.remove();this.#v.clear()}}static#x(t=null){let e=this.#v.get(t||="");if(!e){const r=document.createElement("canvas");r.className="hiddenCanvasElement",r.lang=t,document.body.append(r),e=r.getContext("2d",{alpha:!1,willReadFrequently:!0}),this.#v.set(t,e),this.#S.set(e,{size:0,family:""})}return e}static#A(t,e,r){const o=this.#S.get(t);e===o.size&&r===o.family||(t.font=`${e}px ${r}`,o.size=e,o.family=r)}static#I(){if(null!==this.#E)return;const t=document.createElement("div");t.style.opacity=0,t.style.lineHeight=1,t.style.fontSize="1px",t.style.position="absolute",t.textContent="X",document.body.append(t),this.#E=t.getBoundingClientRect().height,t.remove()}static#F(t,e,r){const o=this.#y.get(t);if(o)return o;const i=this.#x(r);i.canvas.width=i.canvas.height=30,this.#A(i,30,t);const s=i.measureText(""),a=s.fontBoundingBoxAscent,l=Math.abs(s.fontBoundingBoxDescent);i.canvas.width=i.canvas.height=0;let c=.8;return a?c=a/(a+l):(pr.platform.isFirefox&&je("Enable the `dom.textMetrics.fontBoundingBox.enabled` preference in `about:config` to improve TextLayer rendering."),e.ascent?c=e.ascent:e.descent&&(c=1+e.descent)),this.#y.set(t,c),c}}function qI(n={}){"string"==typeof n||n instanceof URL?n={url:n}:(n instanceof ArrayBuffer||ArrayBuffer.isView(n))&&(n={data:n});const t=new Iy,{docId:e}=t,r=n.url?function x7(n){if(n instanceof URL)return n.href;if("string"==typeof n){if(Hr)return n;const t=URL.parse(n,window.location);if(t)return t.href}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.")}(n.url):null,o=n.data?function M7(n){if(Hr&&typeof Buffer<"u"&&n instanceof Buffer)throw new Error("Please provide binary data as `Uint8Array`, rather than `Buffer`.");if(n instanceof Uint8Array&&n.byteLength===n.buffer.byteLength)return n;if("string"==typeof n)return zl(n);if(n instanceof ArrayBuffer||ArrayBuffer.isView(n)||"object"==typeof n&&!isNaN(n?.length))return new Uint8Array(n);throw new Error("Invalid PDF binary data: either TypedArray, string, or array-like object is expected in the data property.")}(n.data):null,i=n.httpHeaders||null,s=!0===n.withCredentials,a=n.password??null,l=n.range instanceof YI?n.range:null,c=Number.isInteger(n.rangeChunkSize)&&n.rangeChunkSize>0?n.rangeChunkSize:65536;let u=n.worker instanceof mr?n.worker:null;const d=n.verbosity,h="string"!=typeof n.docBaseUrl||op(n.docBaseUrl)?null:n.docBaseUrl,f=ap(n.cMapUrl),p=!1!==n.cMapPacked,g=n.CMapReaderFactory||(Hr?H7:CI),m=ap(n.iccUrl),b=ap(n.standardFontDataUrl),v=n.StandardFontDataFactory||(Hr?j7:DI),y=ap(n.wasmUrl),C=n.WasmFactory||(Hr?$7:kI),_=!0!==n.stopAtErrors,w=Number.isInteger(n.maxImageSize)&&n.maxImageSize>-1?n.maxImageSize:-1,k=!1!==n.isEvalSupported,A="boolean"==typeof n.isOffscreenCanvasSupported?n.isOffscreenCanvasSupported:!Hr,$="boolean"==typeof n.isImageDecoderSupported?n.isImageDecoderSupported:!Hr&&(pr.platform.isFirefox||!globalThis.chrome),K=Number.isInteger(n.canvasMaxAreaInBytes)?n.canvasMaxAreaInBytes:-1,z="boolean"==typeof n.disableFontFace?n.disableFontFace:Hr,st=!0===n.fontExtraProperties,at=!0===n.enableXfa,Ct=n.ownerDocument||globalThis.document,Nt=!0===n.disableRange,be=!0===n.disableStream,Ee=!0===n.disableAutoFetch,jt=!0===n.pdfBug,zt=n.CanvasFactory||(Hr?B7:L7),Co=n.FilterFactory||(Hr?F7:P7),wo=!0===n.enableHWA,$n=!1!==n.useWasm,an=l?l.length:n.length??NaN,Vo="boolean"==typeof n.useSystemFonts?n.useSystemFonts:!Hr&&!z,zo="boolean"==typeof n.useWorkerFetch?n.useWorkerFetch:!!(g===CI&&v===DI&&C===kI&&f&&b&&y&&Lu(f,document.baseURI)&&Lu(b,document.baseURI)&&Lu(y,document.baseURI));!function n7(n){Number.isInteger(n)&&(ep=n)}(d);const Nn={canvasFactory:new zt({ownerDocument:Ct,enableHWA:wo}),filterFactory:new Co({docId:e,ownerDocument:Ct}),cMapReaderFactory:zo?null:new g({baseUrl:f,isCompressed:p}),standardFontDataFactory:zo?null:new v({baseUrl:b}),wasmFactory:zo?null:new C({baseUrl:y})};u||(u=mr.create({verbosity:d,port:Uu.workerPort}),t._worker=u);const wd={docId:e,apiVersion:"5.4.449",data:o,password:a,disableAutoFetch:Ee,rangeChunkSize:c,length:an,docBaseUrl:h,enableXfa:at,evaluatorOptions:{maxImageSize:w,disableFontFace:z,ignoreErrors:_,isEvalSupported:k,isOffscreenCanvasSupported:A,isImageDecoderSupported:$,canvasMaxAreaInBytes:K,fontExtraProperties:st,useSystemFonts:Vo,useWasm:$n,useWorkerFetch:zo,cMapUrl:f,iccUrl:m,standardFontDataUrl:b,wasmUrl:y}},Ra={ownerDocument:Ct,pdfBug:jt,styleElement:null,loadingParams:{disableAutoFetch:Ee,enableXfa:at}};return u.promise.then(function(){if(t.destroyed)throw new Error("Loading aborted");if(u.destroyed)throw new Error("Worker was destroyed");const Na=u.messageHandler.sendWithPromise("GetDocRequest",wd,o?[o.buffer]:null);let Ed;if(l)Ed=new sU(l,{disableRange:Nt,disableStream:be});else if(!o){if(!r)throw new Error("getDocument - no `url` parameter provided.");const Dd=Lu(r)?uU:Hr?_U:gU;Ed=new Dd({url:r,length:an,httpHeaders:i,withCredentials:s,rangeChunkSize:c,disableRange:Nt,disableStream:be})}return Na.then(Dd=>{if(t.destroyed)throw new Error("Loading aborted");if(u.destroyed)throw new Error("Worker was destroyed");const sg=new ju(e,Dd,u.port),b0=new TU(sg,t,Ed,Ra,Nn,wo);t._transport=b0,sg.send("Ready",null)})}).catch(t._capability.reject),t}class Iy{static#e=0;_capability=Promise.withResolvers();_transport=null;_worker=null;docId="d"+Iy.#e++;destroyed=!1;onPassword=null;onProgress=null;get promise(){return this._capability.promise}destroy(){var t=this;return B(function*(){t.destroyed=!0;try{t._worker?.port&&(t._worker._pendingDestroy=!0),yield t._transport?.destroy()}catch(e){throw t._worker?.port&&delete t._worker._pendingDestroy,e}t._transport=null,t._worker?.destroy(),t._worker=null})()}getData(){var t=this;return B(function*(){return t._transport.getData()})()}}class YI{#e=Promise.withResolvers();#t=[];#r=[];#n=[];#s=[];constructor(t,e,r=!1,o=null){this.length=t,this.initialData=e,this.progressiveDone=r,this.contentDispositionFilename=o}addRangeListener(t){this.#s.push(t)}addProgressListener(t){this.#n.push(t)}addProgressiveReadListener(t){this.#r.push(t)}addProgressiveDoneListener(t){this.#t.push(t)}onDataRange(t,e){for(const r of this.#s)r(t,e)}onDataProgress(t,e){this.#e.promise.then(()=>{for(const r of this.#n)r(t,e)})}onDataProgressiveRead(t){this.#e.promise.then(()=>{for(const e of this.#r)e(t)})}onDataProgressiveDone(){this.#e.promise.then(()=>{for(const t of this.#t)t()})}transportReady(){this.#e.resolve()}requestDataRange(t,e){Jt("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}}class SU{constructor(t,e){this._pdfInfo=t,this._transport=e}get annotationStorage(){return this._transport.annotationStorage}get canvasFactory(){return this._transport.canvasFactory}get filterFactory(){return this._transport.filterFactory}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get isPureXfa(){return Ue(this,"isPureXfa",!!this._transport._htmlForXfa)}get allXfaHtml(){return this._transport._htmlForXfa}getPage(t){return this._transport.getPage(t)}getPageIndex(t){return this._transport.getPageIndex(t)}getDestinations(){return this._transport.getDestinations()}getDestination(t){return this._transport.getDestination(t)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getAnnotationsByType(t,e){return this._transport.getAnnotationsByType(t,e)}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig({intent:t="display"}={}){const{renderingIntent:e}=this._transport.getRenderingIntent(t);return this._transport.getOptionalContentConfig(e)}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}saveDocument(){return this._transport.saveDocument()}extractPages(t){return this._transport.extractPages(t)}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(t=!1){return this._transport.startCleanup(t||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}cachedPageNumber(t){return this._transport.cachedPageNumber(t)}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}class kU{#e=!1;constructor(t,e,r,o=!1){this._pageIndex=t,this._pageInfo=e,this._transport=r,this._stats=o?new oI:null,this._pdfBug=o,this.commonObjs=r.commonObjs,this.objs=new WI,this._intentStates=new Map,this.destroyed=!1,this.recordedBBoxes=null}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:t,rotation:e=this.rotate,offsetX:r=0,offsetY:o=0,dontFlip:i=!1}={}){return new Ou({viewBox:this.view,userUnit:this.userUnit,scale:t,rotation:e,offsetX:r,offsetY:o,dontFlip:i})}getAnnotations({intent:t="display"}={}){const{renderingIntent:e}=this._transport.getRenderingIntent(t);return this._transport.getAnnotations(this._pageIndex,e)}getJSActions(){return this._transport.getPageJSActions(this._pageIndex)}get filterFactory(){return this._transport.filterFactory}get isPureXfa(){return Ue(this,"isPureXfa",!!this._transport._htmlForXfa)}getXfa(){var t=this;return B(function*(){return t._transport._htmlForXfa?.children[t._pageIndex]||null})()}render({canvasContext:t,canvas:e=t.canvas,viewport:r,intent:o="display",annotationMode:i=ys.ENABLE,transform:s=null,background:a=null,optionalContentConfigPromise:l=null,annotationCanvasMap:c=null,pageColors:u=null,printAnnotationStorage:d=null,isEditing:h=!1,recordOperations:f=!1,operationsFilter:p=null}){this._stats?.time("Overall");const g=this._transport.getRenderingIntent(o,i,d,h),{renderingIntent:m,cacheKey:b}=g;this.#e=!1,l||=this._transport.getOptionalContentConfig(m);let v=this._intentStates.get(b);v||(v=Object.create(null),this._intentStates.set(b,v)),v.streamReaderCancelTimeout&&(clearTimeout(v.streamReaderCancelTimeout),v.streamReaderCancelTimeout=null);const y=!!(4&m);v.displayReadyCapability||(v.displayReadyCapability=Promise.withResolvers(),v.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},this._stats?.time("Page Request"),this._pumpOperatorList(g));const C=!(!this._pdfBug||!globalThis.StepperManager?.enabled),_=!this.recordedBBoxes&&(f||C),w=$=>{if(v.renderTasks.delete(k),_){const K=k.gfx?.dependencyTracker.take();K&&(k.stepper&&k.stepper.setOperatorBBoxes(K,k.gfx.dependencyTracker.takeDebugMetadata()),f&&(this.recordedBBoxes=K))}y&&(this.#e=!0),this.#t(),$?(k.capability.reject($),this._abortOperatorList({intentState:v,reason:$ instanceof Error?$:new Error($)})):k.capability.resolve(),this._stats&&(this._stats.timeEnd("Rendering"),this._stats.timeEnd("Overall"),globalThis.Stats?.enabled&&globalThis.Stats.add(this.pageNumber,this._stats))},k=new Zl({callback:w,params:{canvas:e,canvasContext:t,dependencyTracker:_?new V7(e,v.operatorList.length,C):null,viewport:r,transform:s,background:a},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:c,operatorList:v.operatorList,pageIndex:this._pageIndex,canvasFactory:this._transport.canvasFactory,filterFactory:this._transport.filterFactory,useRequestAnimationFrame:!y,pdfBug:this._pdfBug,pageColors:u,enableHWA:this._transport.enableHWA,operationsFilter:p});(v.renderTasks||=new Set).add(k);const A=k.task;return Promise.all([v.displayReadyCapability.promise,l]).then(([$,K])=>{if(this.destroyed)w();else{if(this._stats?.time("Rendering"),!(K.renderingIntent&m))throw new Error("Must use the same `intent`-argument when calling the `PDFPageProxy.render` and `PDFDocumentProxy.getOptionalContentConfig` methods.");k.initializeGraphics({transparency:$,optionalContentConfig:K}),k.operatorListChanged()}}).catch(w),A}getOperatorList({intent:t="display",annotationMode:e=ys.ENABLE,printAnnotationStorage:r=null,isEditing:o=!1}={}){const s=this._transport.getRenderingIntent(t,e,r,o,!0);let l,a=this._intentStates.get(s.cacheKey);return a||(a=Object.create(null),this._intentStates.set(s.cacheKey,a)),a.opListReadCapability||(l=Object.create(null),l.operatorListChanged=function i(){a.operatorList.lastChunk&&(a.opListReadCapability.resolve(a.operatorList),a.renderTasks.delete(l))},a.opListReadCapability=Promise.withResolvers(),(a.renderTasks||=new Set).add(l),a.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},this._stats?.time("Page Request"),this._pumpOperatorList(s)),a.opListReadCapability.promise}streamTextContent({includeMarkedContent:t=!1,disableNormalization:e=!1}={}){return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,includeMarkedContent:!0===t,disableNormalization:!0===e},{highWaterMark:100,size:o=>o.items.length})}getTextContent(t={}){if(this._transport._htmlForXfa)return this.getXfa().then(r=>Ru.textContent(r));const e=this.streamTextContent(t);return new Promise(function(r,o){const s=e.getReader(),a={items:[],styles:Object.create(null),lang:null};!function i(){s.read().then(function({value:l,done:c}){c?r(a):(a.lang??=l.lang,Object.assign(a.styles,l.styles),a.items.push(...l.items),i())},o)}()})}getStructTree(){return this._transport.getStructTree(this._pageIndex)}_destroy(){this.destroyed=!0;const t=[];for(const e of this._intentStates.values())if(this._abortOperatorList({intentState:e,reason:new Error("Page was destroyed."),force:!0}),!e.opListReadCapability)for(const r of e.renderTasks)t.push(r.completed),r.cancel();return this.objs.clear(),this.#e=!1,Promise.all(t)}cleanup(t=!1){this.#e=!0;const e=this.#t();return t&&e&&(this._stats&&=new oI),e}#t(){if(!this.#e||this.destroyed)return!1;for(const{renderTasks:t,operatorList:e}of this._intentStates.values())if(t.size>0||!e.lastChunk)return!1;return this._intentStates.clear(),this.objs.clear(),this.#e=!1,!0}_startRenderPage(t,e){const r=this._intentStates.get(e);r&&(this._stats?.timeEnd("Page Request"),r.displayReadyCapability?.resolve(t))}_renderPageChunk(t,e){for(let r=0,o=t.length;r<o;r++)e.operatorList.fnArray.push(t.fnArray[r]),e.operatorList.argsArray.push(t.argsArray[r]);e.operatorList.lastChunk=t.lastChunk,e.operatorList.separateAnnots=t.separateAnnots;for(const r of e.renderTasks)r.operatorListChanged();t.lastChunk&&this.#t()}_pumpOperatorList({renderingIntent:t,cacheKey:e,annotationStorageSerializable:r,modifiedIds:o}){const{map:i,transfer:s}=r,l=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:t,cacheKey:e,annotationStorage:i,modifiedIds:o},s).getReader(),c=this._intentStates.get(e);c.streamReader=l;const u=()=>{l.read().then(({value:d,done:h})=>{h?c.streamReader=null:this._transport.destroyed||(this._renderPageChunk(d,c),u())},d=>{if(c.streamReader=null,!this._transport.destroyed){if(c.operatorList){c.operatorList.lastChunk=!0;for(const h of c.renderTasks)h.operatorListChanged();this.#t()}if(c.displayReadyCapability)c.displayReadyCapability.reject(d);else{if(!c.opListReadCapability)throw d;c.opListReadCapability.reject(d)}}})};u()}_abortOperatorList({intentState:t,reason:e,force:r=!1}){if(t.streamReader){if(t.streamReaderCancelTimeout&&(clearTimeout(t.streamReaderCancelTimeout),t.streamReaderCancelTimeout=null),!r){if(t.renderTasks.size>0)return;if(e instanceof uy){let o=100;return e.extraDelay>0&&e.extraDelay<1e3&&(o+=e.extraDelay),void(t.streamReaderCancelTimeout=setTimeout(()=>{t.streamReaderCancelTimeout=null,this._abortOperatorList({intentState:t,reason:e,force:!0})},o))}}if(t.streamReader.cancel(new _s(e.message)).catch(()=>{}),t.streamReader=null,!this._transport.destroyed){for(const[o,i]of this._intentStates)if(i===t){this._intentStates.delete(o);break}this.cleanup()}}}get stats(){return this._stats}}class mr{#e=Promise.withResolvers();#t=null;#r=null;#n=null;static#s=0;static#i=!1;static#o=new WeakMap;static{Hr&&(this.#i=!0,Uu.workerSrc||="./pdf.worker.mjs"),this._isSameOrigin=(t,e)=>{const r=URL.parse(t);if(!r?.origin||"null"===r.origin)return!1;const o=new URL(e,r);return r.origin===o.origin},this._createCDNWrapper=t=>URL.createObjectURL(new Blob([`await import("${t}");`],{type:"text/javascript"})),this.fromPort=t=>{if(function m7(n){console.log("Deprecated API usage: "+n)}("`PDFWorker.fromPort` - please use `PDFWorker.create` instead."),!t?.port)throw new Error("PDFWorker.fromPort - invalid method signature.");return this.create(t)}}constructor({name:t=null,port:e=null,verbosity:r=r7()}={}){if(this.name=t,this.destroyed=!1,this.verbosity=r,e){if(mr.#o.has(e))throw new Error("Cannot use more than one PDFWorker per port.");mr.#o.set(e,this),this.#c(e)}else this.#l()}get promise(){return this.#e.promise}#a(){this.#e.resolve(),this.#t.send("configure",{verbosity:this.verbosity})}get port(){return this.#r}get messageHandler(){return this.#t}#c(t){this.#r=t,this.#t=new ju("main","worker",t),this.#t.on("ready",()=>{}),this.#a()}#l(){if(mr.#i||mr.#d)return void this.#h();let{workerSrc:t}=mr;try{mr._isSameOrigin(window.location,t)||(t=mr._createCDNWrapper(new URL(t,window.location).href));const e=new Worker(t,{type:"module"}),r=new ju("main","worker",e),o=()=>{i.abort(),r.destroy(),e.terminate(),this.destroyed?this.#e.reject(new Error("Worker was destroyed")):this.#h()},i=new AbortController;e.addEventListener("error",()=>{this.#n||o()},{signal:i.signal}),r.on("test",a=>{i.abort(),!this.destroyed&&a?(this.#t=r,this.#r=e,this.#n=e,this.#a()):o()}),r.on("ready",a=>{if(i.abort(),this.destroyed)o();else try{s()}catch{this.#h()}});const s=()=>{const a=new Uint8Array;r.send("test",a,[a.buffer])};return void s()}catch{tp("The worker has been disabled.")}this.#h()}#h(){mr.#i||(je("Setting up fake worker."),mr.#i=!0),mr._setupFakeWorkerGlobal.then(t=>{if(this.destroyed)return void this.#e.reject(new Error("Worker was destroyed"));const e=new O7;this.#r=e;const r="fake"+mr.#s++,o=new ju(r+"_worker",r,e);t.setup(o,e),this.#t=new ju(r,r+"_worker",e),this.#a()}).catch(t=>{this.#e.reject(new Error(`Setting up fake worker failed: "${t.message}".`))})}destroy(){this.destroyed=!0,this.#n?.terminate(),this.#n=null,mr.#o.delete(this.#r),this.#r=null,this.#t?.destroy(),this.#t=null}static create(t){const e=this.#o.get(t?.port);if(e){if(e._pendingDestroy)throw new Error("PDFWorker.create - the worker is being destroyed.\nPlease remember to await `PDFDocumentLoadingTask.destroy()`-calls.");return e}return new mr(t)}static get workerSrc(){if(Uu.workerSrc)return Uu.workerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get#d(){try{return globalThis.pdfjsWorker?.WorkerMessageHandler||null}catch{return null}}static get _setupFakeWorkerGlobal(){var t=this;return Ue(this,"_setupFakeWorkerGlobal",function(){var r=B(function*(){return t.#d?t.#d:(yield import(t.workerSrc)).WorkerMessageHandler});return function(){return r.apply(this,arguments)}}()())}}class TU{#e=new Map;#t=new Map;#r=new Map;#n=new Map;#s=null;constructor(t,e,r,o,i,s){this.messageHandler=t,this.loadingTask=e,this.commonObjs=new WI,this.fontLoader=new T7({ownerDocument:o.ownerDocument,styleElement:o.styleElement}),this.loadingParams=o.loadingParams,this._params=o,this.canvasFactory=i.canvasFactory,this.filterFactory=i.filterFactory,this.cMapReaderFactory=i.cMapReaderFactory,this.standardFontDataFactory=i.standardFontDataFactory,this.wasmFactory=i.wasmFactory,this.destroyed=!1,this.destroyCapability=null,this._networkStream=r,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=Promise.withResolvers(),this.enableHWA=s,this.setupMessageHandler()}#i(t,e=null){const r=this.#e.get(t);if(r)return r;const o=this.messageHandler.sendWithPromise(t,e);return this.#e.set(t,o),o}get annotationStorage(){return Ue(this,"annotationStorage",new vy)}getRenderingIntent(t,e=ys.ENABLE,r=null,o=!1,i=!1){let s=2,a=by;switch(t){case"any":s=1;break;case"display":break;case"print":s=4;break;default:je(`getRenderingIntent - invalid intent: ${t}`)}const l=4&s&&r instanceof gI?r:this.annotationStorage;switch(e){case ys.DISABLE:s+=64;break;case ys.ENABLE:break;case ys.ENABLE_FORMS:s+=16;break;case ys.ENABLE_STORAGE:s+=32,a=l.serializable;break;default:je(`getRenderingIntent - invalid annotationMode: ${e}`)}o&&(s+=128),i&&(s+=256);const{ids:c,hash:u}=l.modifiedIds;return{renderingIntent:s,cacheKey:[s,a.hash,u].join("_"),annotationStorageSerializable:a,modifiedIds:c}}destroy(){if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=Promise.withResolvers(),this.#s?.reject(new Error("Worker was destroyed during onPassword callback"));const t=[];for(const r of this.#t.values())t.push(r._destroy());this.#t.clear(),this.#r.clear(),this.#n.clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const e=this.messageHandler.sendWithPromise("Terminate",null);return t.push(e),Promise.all(t).then(()=>{this.commonObjs.clear(),this.fontLoader.clear(),this.#e.clear(),this.filterFactory.destroy(),$r.cleanup(),this._networkStream?.cancelAllRequests(new _s("Worker was terminated.")),this.messageHandler?.destroy(),this.messageHandler=null,this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){var t=this;const{messageHandler:e,loadingTask:r}=this;e.on("GetReader",(o,i)=>{yt(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=s=>{this._lastProgress={loaded:s.loaded,total:s.total}},i.onPull=()=>{this._fullReader.read().then(function({value:s,done:a}){a?i.close():(yt(s instanceof ArrayBuffer,"GetReader - expected an ArrayBuffer."),i.enqueue(new Uint8Array(s),1,[s]))}).catch(s=>{i.error(s)})},i.onCancel=s=>{this._fullReader.cancel(s),i.ready.catch(a=>{if(!this.destroyed)throw a})}}),e.on("ReaderHeadersReady",function(){var o=B(function*(i){yield t._fullReader.headersReady;const{isStreamingSupported:s,isRangeSupported:a,contentLength:l}=t._fullReader;return(!s||!a)&&(t._lastProgress&&r.onProgress?.(t._lastProgress),t._fullReader.onProgress=c=>{r.onProgress?.({loaded:c.loaded,total:c.total})}),{isStreamingSupported:s,isRangeSupported:a,contentLength:l}});return function(i){return o.apply(this,arguments)}}()),e.on("GetRangeReader",(o,i)=>{yt(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const s=this._networkStream.getRangeReader(o.begin,o.end);s?(i.onPull=()=>{s.read().then(function({value:a,done:l}){l?i.close():(yt(a instanceof ArrayBuffer,"GetRangeReader - expected an ArrayBuffer."),i.enqueue(new Uint8Array(a),1,[a]))}).catch(a=>{i.error(a)})},i.onCancel=a=>{s.cancel(a),i.ready.catch(l=>{if(!this.destroyed)throw l})}):i.close()}),e.on("GetDoc",({pdfInfo:o})=>{this._numPages=o.numPages,this._htmlForXfa=o.htmlForXfa,delete o.htmlForXfa,r._capability.resolve(new SU(o,this))}),e.on("DocException",o=>{r._capability.reject(oo(o))}),e.on("PasswordRequest",o=>{this.#s=Promise.withResolvers();try{if(!r.onPassword)throw oo(o);r.onPassword(s=>{s instanceof Error?this.#s.reject(s):this.#s.resolve({password:s})},o.code)}catch(i){this.#s.reject(i)}return this.#s.promise}),e.on("DataLoaded",o=>{r.onProgress?.({loaded:o.length,total:o.length}),this.downloadInfoCapability.resolve(o)}),e.on("StartRenderPage",o=>{this.destroyed||this.#t.get(o.pageIndex)._startRenderPage(o.transparency,o.cacheKey)}),e.on("commonobj",([o,i,s])=>{if(this.destroyed||this.commonObjs.has(o))return null;switch(i){case"Font":if("error"in s){const h=s.error;je(`Error during font loading: ${h}`),this.commonObjs.resolve(o,h);break}const a=new I7(s),l=this._params.pdfBug&&globalThis.FontInspector?.enabled?(h,f)=>globalThis.FontInspector.fontAdded(h,f):null,c=new A7(a,l,s.extra,s.charProcOperatorList);this.fontLoader.bind(c).catch(()=>e.sendWithPromise("FontFallback",{id:o})).finally(()=>{!c.fontExtraProperties&&c.data&&c.clearData(),this.commonObjs.resolve(o,c)});break;case"CopyLocalImage":const{imageRef:u}=s;yt(u,"The imageRef must be defined.");for(const h of this.#t.values())for(const[,f]of h.objs)if(f?.ref===u)return f.dataLen?(this.commonObjs.resolve(o,structuredClone(f)),f.dataLen):null;break;case"FontPath":case"Image":this.commonObjs.resolve(o,s);break;case"Pattern":const d=new ir(s);this.commonObjs.resolve(o,d.getIR());break;default:throw new Error(`Got unknown common object type ${i}`)}return null}),e.on("obj",([o,i,s,a])=>{if(this.destroyed)return;const l=this.#t.get(i);if(!l.objs.has(o)){if(0===l._intentStates.size)return void a?.bitmap?.close();switch(s){case"Image":case"Pattern":l.objs.resolve(o,a);break;default:throw new Error(`Got unknown object type ${s}`)}}}),e.on("DocProgress",o=>{this.destroyed||r.onProgress?.({loaded:o.loaded,total:o.total})}),e.on("FetchBinaryData",function(){var o=B(function*(i){if(t.destroyed)throw new Error("Worker was destroyed.");const s=t[i.type];if(!s)throw new Error(`${i.type} not initialized, see the \`useWorkerFetch\` parameter.`);return s.fetch(i)});return function(i){return o.apply(this,arguments)}}())}getData(){return this.messageHandler.sendWithPromise("GetData",null)}saveDocument(){this.annotationStorage.size<=0&&je("saveDocument called while `annotationStorage` is empty, please use the getData-method instead.");const{map:t,transfer:e}=this.annotationStorage.serializable;return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:t,filename:this._fullReader?.filename??null},e).finally(()=>{this.annotationStorage.resetModified()})}extractPages(t){return this.messageHandler.sendWithPromise("ExtractPages",{pageInfos:t})}getPage(t){if(!Number.isInteger(t)||t<=0||t>this._numPages)return Promise.reject(new Error("Invalid page request."));const e=t-1,r=this.#r.get(e);if(r)return r;const o=this.messageHandler.sendWithPromise("GetPage",{pageIndex:e}).then(i=>{if(this.destroyed)throw new Error("Transport destroyed");i.refStr&&this.#n.set(i.refStr,t);const s=new kU(e,i,this,this._params.pdfBug);return this.#t.set(e,s),s});return this.#r.set(e,o),o}getPageIndex(t){return yy(t)?this.messageHandler.sendWithPromise("GetPageIndex",{num:t.num,gen:t.gen}):Promise.reject(new Error("Invalid pageIndex request."))}getAnnotations(t,e){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:t,intent:e})}getFieldObjects(){return this.#i("GetFieldObjects")}hasJSActions(){return this.#i("HasJSActions")}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(t){return"string"!=typeof t?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:t})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getAnnotationsByType(t,e){return this.messageHandler.sendWithPromise("GetAnnotationsByType",{types:t,pageIndexesToSkip:e})}getDocJSActions(){return this.#i("GetDocJSActions")}getPageJSActions(t){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:t})}getStructTree(t){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:t})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(t){return this.#i("GetOptionalContentConfig").then(e=>new iU(e,t))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){const t="GetMetadata",e=this.#e.get(t);if(e)return e;const r=this.messageHandler.sendWithPromise(t,null).then(o=>({info:o[0],metadata:o[1]?new rU(o[1]):null,contentDispositionFilename:this._fullReader?.filename??null,contentLength:this._fullReader?.contentLength??null,hasStructTree:o[2]}));return this.#e.set(t,r),r}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}startCleanup(){var t=this;return B(function*(e=!1){if(!t.destroyed){yield t.messageHandler.sendWithPromise("Cleanup",null);for(const r of t.#t.values())if(!r.cleanup())throw new Error(`startCleanup: Page ${r.pageNumber} is currently rendering.`);t.commonObjs.clear(),e||t.fontLoader.clear(),t.#e.clear(),t.filterFactory.destroy(!0),$r.cleanup()}}).apply(this,arguments)}cachedPageNumber(t){return yy(t)?this.#n.get(0===t.gen?`${t.num}R`:`${t.num}R${t.gen}`)??null:null}}class AU{#e=null;onContinue=null;onError=null;constructor(t){this.#e=t}get promise(){return this.#e.capability.promise}cancel(t=0){this.#e.cancel(null,t)}get separateAnnots(){const{separateAnnots:t}=this.#e.operatorList;if(!t)return!1;const{annotationCanvasMap:e}=this.#e;return t.form||t.canvas&&e?.size>0}}class Zl{#e=null;static#t=new WeakSet;constructor({callback:t,params:e,objs:r,commonObjs:o,annotationCanvasMap:i,operatorList:s,pageIndex:a,canvasFactory:l,filterFactory:c,useRequestAnimationFrame:u=!1,pdfBug:d=!1,pageColors:h=null,enableHWA:f=!1,operationsFilter:p=null}){this.callback=t,this.params=e,this.objs=r,this.commonObjs=o,this.annotationCanvasMap=i,this.operatorListIdx=null,this.operatorList=s,this._pageIndex=a,this.canvasFactory=l,this.filterFactory=c,this._pdfBug=d,this.pageColors=h,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=!0===u&&typeof window<"u",this.cancelled=!1,this.capability=Promise.withResolvers(),this.task=new AU(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=e.canvas,this._canvasContext=e.canvas?null:e.canvasContext,this._enableHWA=f,this._dependencyTracker=e.dependencyTracker,this._operationsFilter=p}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics({transparency:t=!1,optionalContentConfig:e}){if(this.cancelled)return;if(this._canvas){if(Zl.#t.has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");Zl.#t.add(this._canvas)}this._pdfBug&&globalThis.StepperManager?.enabled&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{viewport:r,transform:o,background:i,dependencyTracker:s}=this.params,a=this._canvasContext||this._canvas.getContext("2d",{alpha:!1,willReadFrequently:!this._enableHWA});this.gfx=new Kl(a,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:e},this.annotationCanvasMap,this.pageColors,s),this.gfx.beginDrawing({transform:o,viewport:r,transparency:t,background:i}),this.operatorListIdx=0,this.graphicsReady=!0,this.graphicsReadyCallback?.()}cancel(t=null,e=0){this.running=!1,this.cancelled=!0,this.gfx?.endDrawing(),this.#e&&(window.cancelAnimationFrame(this.#e),this.#e=null),Zl.#t.delete(this._canvas),t||=new uy(`Rendering cancelled, page ${this._pageIndex+1}`,e),this.callback(t),this.task.onError?.(t)}operatorListChanged(){this.graphicsReady?(this.gfx.dependencyTracker?.growOperationsCount(this.operatorList.fnArray.length),this.stepper?.updateOperatorList(this.operatorList),!this.running&&this._continue()):this.graphicsReadyCallback||=this._continueBound}_continue(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?this.#e=window.requestAnimationFrame(()=>{this.#e=null,this._nextBound().catch(this._cancelBound)}):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}_next(){var t=this;return B(function*(){t.cancelled||(t.operatorListIdx=t.gfx.executeOperatorList(t.operatorList,t.operatorListIdx,t._continueBound,t.stepper,t._operationsFilter),t.operatorListIdx===t.operatorList.argsArray.length&&(t.running=!1,t.operatorList.lastChunk&&(t.gfx.endDrawing(),Zl.#t.delete(t._canvas),t.callback())))})()}}class jo{#e=null;#t=null;#r;#n=null;#s=!1;#i=!1;#o=null;#a;#c=null;#l=null;static#h=null;static get _keyboardManager(){return Ue(this,"_keyboardManager",new Bu([[["Escape","mac+Escape"],jo.prototype._hideDropdownFromKeyboard],[[" ","mac+ "],jo.prototype._colorSelectFromKeyboard],[["ArrowDown","ArrowRight","mac+ArrowDown","mac+ArrowRight"],jo.prototype._moveToNext],[["ArrowUp","ArrowLeft","mac+ArrowUp","mac+ArrowLeft"],jo.prototype._moveToPrevious],[["Home","mac+Home"],jo.prototype._moveToBeginning],[["End","mac+End"],jo.prototype._moveToEnd]]))}constructor({editor:t=null,uiManager:e=null}){t?(this.#i=!1,this.#o=t):this.#i=!0,this.#l=t?._uiManager||e,this.#a=this.#l._eventBus,this.#r=t?.color?.toUpperCase()||this.#l?.highlightColors.values().next().value||"#FFFF98",jo.#h||=Object.freeze({blue:"pdfjs-editor-colorpicker-blue",green:"pdfjs-editor-colorpicker-green",pink:"pdfjs-editor-colorpicker-pink",red:"pdfjs-editor-colorpicker-red",yellow:"pdfjs-editor-colorpicker-yellow"})}renderButton(){const t=this.#e=document.createElement("button");t.className="colorPicker",t.tabIndex="0",t.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-button"),t.ariaHasPopup="true",this.#o&&(t.ariaControls=`${this.#o.id}_colorpicker_dropdown`);const e=this.#l._signal;t.addEventListener("click",this.#g.bind(this),{signal:e}),t.addEventListener("keydown",this.#m.bind(this),{signal:e});const r=this.#t=document.createElement("span");return r.className="swatch",r.ariaHidden="true",r.style.backgroundColor=this.#r,t.append(r),t}renderMainDropdown(){const t=this.#n=this.#d();return t.ariaOrientation="horizontal",t.ariaLabelledBy="highlightColorPickerLabel",t}#d(){const t=document.createElement("div"),e=this.#l._signal;t.addEventListener("contextmenu",Fo,{signal:e}),t.className="dropdown",t.role="listbox",t.ariaMultiSelectable="false",t.ariaOrientation="vertical",t.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-dropdown"),this.#o&&(t.id=`${this.#o.id}_colorpicker_dropdown`);for(const[r,o]of this.#l.highlightColors){const i=document.createElement("button");i.tabIndex="0",i.role="option",i.setAttribute("data-color",o),i.title=r,i.setAttribute("data-l10n-id",jo.#h[r]);const s=document.createElement("span");i.append(s),s.className="swatch",s.style.backgroundColor=o,i.ariaSelected=o===this.#r,i.addEventListener("click",this.#f.bind(this,o),{signal:e}),t.append(i)}return t.addEventListener("keydown",this.#m.bind(this),{signal:e}),t}#f(t,e){e.stopPropagation(),this.#a.dispatch("switchannotationeditorparams",{source:this,type:bt.HIGHLIGHT_COLOR,value:t}),this.updateColor(t)}_colorSelectFromKeyboard(t){if(t.target===this.#e)return void this.#g(t);const e=t.target.getAttribute("data-color");e&&this.#f(e,t)}_moveToNext(t){this.#p?t.target!==this.#e?t.target.nextSibling?.focus():this.#n.firstElementChild?.focus():this.#g(t)}_moveToPrevious(t){t.target!==this.#n?.firstElementChild&&t.target!==this.#e?(this.#p||this.#g(t),t.target.previousSibling?.focus()):this.#p&&this._hideDropdownFromKeyboard()}_moveToBeginning(t){this.#p?this.#n.firstElementChild?.focus():this.#g(t)}_moveToEnd(t){this.#p?this.#n.lastElementChild?.focus():this.#g(t)}#m(t){jo._keyboardManager.exec(this,t)}#g(t){if(this.#p)return void this.hideDropdown();if(this.#s=0===t.detail,this.#c||(this.#c=new AbortController,window.addEventListener("pointerdown",this.#u.bind(this),{signal:this.#l.combinedSignal(this.#c)})),this.#e.ariaExpanded="true",this.#n)return void this.#n.classList.remove("hidden");const e=this.#n=this.#d();this.#e.append(e)}#u(t){this.#n?.contains(t.target)||this.hideDropdown()}hideDropdown(){this.#n?.classList.add("hidden"),this.#e.ariaExpanded="false",this.#c?.abort(),this.#c=null}get#p(){return this.#n&&!this.#n.classList.contains("hidden")}_hideDropdownFromKeyboard(){if(!this.#i){if(!this.#p)return void this.#o?.unselect();this.hideDropdown(),this.#e.focus({preventScroll:!0,focusVisible:this.#s})}}updateColor(t){if(this.#t&&(this.#t.style.backgroundColor=t),!this.#n)return;const e=this.#l.highlightColors.values();for(const r of this.#n.children)r.ariaSelected=e.next().value===t.toUpperCase()}destroy(){this.#e?.remove(),this.#e=null,this.#t=null,this.#n?.remove(),this.#n=null}}class Wu{#e=null;#t=null;#r=null;static#n=null;constructor(t){this.#t=t,this.#r=t._uiManager,Wu.#n||=Object.freeze({freetext:"pdfjs-editor-color-picker-free-text-input",ink:"pdfjs-editor-color-picker-ink-input"})}renderButton(){if(this.#e)return this.#e;const{editorType:t,colorType:e,color:r}=this.#t,o=this.#e=document.createElement("input");return o.type="color",o.value=r||"#000000",o.className="basicColorPicker",o.tabIndex=0,o.setAttribute("data-l10n-id",Wu.#n[t]),o.addEventListener("input",()=>{this.#r.updateParams(e,o.value)},{signal:this.#r._signal}),o}update(t){this.#e&&(this.#e.value=t)}destroy(){this.#e?.remove(),this.#e=null}hideDropdown(){}}function KI(n){return Math.floor(255*Math.max(0,Math.min(1,n))).toString(16).padStart(2,"0")}function Gu(n){return Math.max(0,Math.min(255,255*n))}class XI{static CMYK_G([t,e,r,o]){return["G",1-Math.min(1,.3*t+.59*r+.11*e+o)]}static G_CMYK([t]){return["CMYK",0,0,0,1-t]}static G_RGB([t]){return["RGB",t,t,t]}static G_rgb([t]){return[t=Gu(t),t,t]}static G_HTML([t]){const e=KI(t);return`#${e}${e}${e}`}static RGB_G([t,e,r]){return["G",.3*t+.59*e+.11*r]}static RGB_rgb(t){return t.map(Gu)}static RGB_HTML(t){return`#${t.map(KI).join("")}`}static T_HTML(){return"#00000000"}static T_rgb(){return[null]}static CMYK_RGB([t,e,r,o]){return["RGB",1-Math.min(1,t+o),1-Math.min(1,r+o),1-Math.min(1,e+o)]}static CMYK_rgb([t,e,r,o]){return[Gu(1-Math.min(1,t+o)),Gu(1-Math.min(1,r+o)),Gu(1-Math.min(1,e+o))]}static CMYK_HTML(t){const e=this.CMYK_RGB(t).slice(1);return this.RGB_HTML(e)}static RGB_CMYK([t,e,r]){const o=1-t,i=1-e,s=1-r;return["CMYK",o,i,s,Math.min(o,i,s)]}}class MU{create(t,e,r=!1){if(t<=0||e<=0)throw new Error("Invalid SVG dimensions");const o=this._createSVG("svg:svg");return o.setAttribute("version","1.1"),r||(o.setAttribute("width",`${t}px`),o.setAttribute("height",`${e}px`)),o.setAttribute("preserveAspectRatio","none"),o.setAttribute("viewBox",`0 0 ${t} ${e}`),o}createElement(t){if("string"!=typeof t)throw new Error("Invalid SVG element type");return this._createSVG(t)}_createSVG(t){Jt("Abstract method `_createSVG` called.")}}class gp extends MU{_createSVG(t){return document.createElementNS(Gi,t)}}const ma=new WeakSet,NU=60*(new Date).getTimezoneOffset()*1e3;class xy{static create(t){switch(t.data.annotationType){case Wn.LINK:return new My(t);case Wn.TEXT:return new LU(t);case Wn.WIDGET:switch(t.data.fieldType){case"Tx":return new PU(t);case"Btn":return t.data.radioButton?new ZI(t):t.data.checkBox?new BU(t):new HU(t);case"Ch":return new jU(t);case"Sig":return new FU(t)}return new ba(t);case Wn.POPUP:return new Ry(t);case Wn.FREETEXT:return new QI(t);case Wn.LINE:return new UU(t);case Wn.SQUARE:return new VU(t);case Wn.CIRCLE:return new zU(t);case Wn.POLYLINE:return new JI(t);case Wn.CARET:return new GU(t);case Wn.INK:return new Ny(t);case Wn.POLYGON:return new WU(t);case Wn.HIGHLIGHT:return new ex(t);case Wn.UNDERLINE:return new qU(t);case Wn.SQUIGGLY:return new YU(t);case Wn.STRIKEOUT:return new KU(t);case Wn.STAMP:return new tx(t);case Wn.FILEATTACHMENT:return new XU(t);default:return new Dn(t)}}}class Dn{#e=null;#t=!1;#r=null;constructor(t,{isRenderable:e=!1,ignoreBorder:r=!1,createQuadrilaterals:o=!1}={}){this.isRenderable=e,this.data=t.data,this.layer=t.layer,this.linkService=t.linkService,this.downloadManager=t.downloadManager,this.imageResourcesPath=t.imageResourcesPath,this.renderForms=t.renderForms,this.svgFactory=t.svgFactory,this.annotationStorage=t.annotationStorage,this.enableComment=t.enableComment,this.enableScripting=t.enableScripting,this.hasJSActions=t.hasJSActions,this._fieldObjects=t.fieldObjects,this.parent=t.parent,this.hasOwnCommentButton=!1,e&&(this.contentElement=this.container=this._createContainer(r)),o&&this._createQuadrilaterals()}static _hasPopupData({contentsObj:t,richText:e}){return!(!t?.str&&!e?.str)}get _isEditable(){return this.data.isEditable}get hasPopupData(){return Dn._hasPopupData(this.data)||this.enableComment&&!!this.commentText}get commentData(){const{data:t}=this,e=this.annotationStorage?.getEditor(t.id);return e?e.getData():t}get hasCommentButton(){return this.enableComment&&this.hasPopupElement}get commentButtonPosition(){const t=this.annotationStorage?.getEditor(this.data.id);if(t)return t.commentButtonPositionInPage;const{quadPoints:e,inkLists:r,rect:o}=this.data;let i=-1/0,s=-1/0;if(e?.length>=8){for(let a=0;a<e.length;a+=8)e[a+1]>s?(s=e[a+1],i=e[a+2]):e[a+1]===s&&(i=Math.max(i,e[a+2]));return[i,s]}if(r?.length>=1){for(const a of r)for(let l=0,c=a.length;l<c;l+=2)a[l+1]>s?(s=a[l+1],i=a[l]):a[l+1]===s&&(i=Math.max(i,a[l]));if(i!==1/0)return[i,s]}return o?[o[2],o[3]]:null}_normalizePoint(t){const{page:{view:e},viewport:{rawDims:{pageWidth:r,pageHeight:o,pageX:i,pageY:s}}}=this.parent;return t[1]=e[3]-t[1]+e[1],t[0]=100*(t[0]-i)/r,t[1]=100*(t[1]-s)/o,t}get commentText(){const{data:t}=this;return this.annotationStorage.getRawValue(`${Iu}${t.id}`)?.popup?.contents||t.contentsObj?.str||""}set commentText(t){const{data:e}=this,r={deleted:!t,contents:t||""};this.annotationStorage.updateEditor(e.id,{popup:r})||this.annotationStorage.setValue(`${Iu}${e.id}`,{id:e.id,annotationType:e.annotationType,pageIndex:this.parent.page._pageIndex,popup:r,popupRef:e.popupRef,modificationDate:new Date}),t||this.removePopup()}removePopup(){(this.#r?.popup||this.popup)?.remove(),this.#r=this.popup=null}updateEdited(t){if(!this.container)return;t.rect&&(this.#e||={rect:this.data.rect.slice(0)});const{rect:e,popup:r}=t;e&&this.#n(e);let o=this.#r?.popup||this.popup;!o&&r?.text&&(this._createPopup(r),o=this.#r.popup),o&&(o.updateEdited(t),r?.deleted&&(o.remove(),this.#r=null,this.popup=null))}resetEdited(){this.#e&&(this.#n(this.#e.rect),this.#r?.popup.resetEdited(),this.#e=null)}#n(t){const{container:{style:e},data:{rect:r,rotation:o},parent:{viewport:{rawDims:{pageWidth:i,pageHeight:s,pageX:a,pageY:l}}}}=this;r?.splice(0,4,...t),e.left=100*(t[0]-a)/i+"%",e.top=100*(s-t[3]+l)/s+"%",0===o?(e.width=100*(t[2]-t[0])/i+"%",e.height=100*(t[3]-t[1])/s+"%"):this.setRotation(o)}_createContainer(t){const{data:e,parent:{page:r,viewport:o}}=this,i=document.createElement("section");i.setAttribute("data-annotation-id",e.id),!(this instanceof ba)&&!(this instanceof My)&&(i.tabIndex=0);const{style:s}=i;if(s.zIndex=this.parent.zIndex,this.parent.zIndex+=2,e.alternativeText&&(i.title=e.alternativeText),e.noRotate&&i.classList.add("norotate"),!e.rect||this instanceof Ry){const{rotation:g}=e;return!e.hasOwnCanvas&&0!==g&&this.setRotation(g,i),i}const{width:a,height:l}=this;if(!t&&e.borderStyle.width>0){s.borderWidth=`${e.borderStyle.width}px`;const g=e.borderStyle.horizontalCornerRadius,m=e.borderStyle.verticalCornerRadius;switch(g>0||m>0?s.borderRadius=`calc(${g}px * var(--total-scale-factor)) / calc(${m}px * var(--total-scale-factor))`:this instanceof ZI&&(s.borderRadius=`calc(${a}px * var(--total-scale-factor)) / calc(${l}px * var(--total-scale-factor))`),e.borderStyle.style){case 1:s.borderStyle="solid";break;case 2:s.borderStyle="dashed";break;case 3:je("Unimplemented border style: beveled");break;case 4:je("Unimplemented border style: inset");break;case 5:s.borderBottomStyle="solid"}const b=e.borderColor||null;b?(this.#t=!0,s.borderColor=he.makeHexColor(0|b[0],0|b[1],0|b[2])):s.borderWidth=0}const c=he.normalizeRect([e.rect[0],r.view[3]-e.rect[1]+r.view[1],e.rect[2],r.view[3]-e.rect[3]+r.view[1]]),{pageWidth:u,pageHeight:d,pageX:h,pageY:f}=o.rawDims;s.left=100*(c[0]-h)/u+"%",s.top=100*(c[1]-f)/d+"%";const{rotation:p}=e;return e.hasOwnCanvas||0===p?(s.width=100*a/u+"%",s.height=100*l/d+"%"):this.setRotation(p,i),i}setRotation(t,e=this.container){if(!this.data.rect)return;const{pageWidth:r,pageHeight:o}=this.parent.viewport.rawDims;let{width:i,height:s}=this;t%180!=0&&([i,s]=[s,i]),e.style.width=100*i/r+"%",e.style.height=100*s/o+"%",e.setAttribute("data-main-rotation",(360-t)%360)}get _commonActions(){const t=(e,r,o)=>{const i=o.detail[e],s=i[0],a=i.slice(1);o.target.style[r]=XI[`${s}_HTML`](a),this.annotationStorage.setValue(this.data.id,{[r]:XI[`${s}_rgb`](a)})};return Ue(this,"_commonActions",{display:e=>{const{display:r}=e.detail,o=r%2==1;this.container.style.visibility=o?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noView:o,noPrint:1===r||2===r})},print:e=>{this.annotationStorage.setValue(this.data.id,{noPrint:!e.detail.print})},hidden:e=>{const{hidden:r}=e.detail;this.container.style.visibility=r?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noPrint:r,noView:r})},focus:e=>{setTimeout(()=>e.target.focus({preventScroll:!1}),0)},userName:e=>{e.target.title=e.detail.userName},readonly:e=>{e.target.disabled=e.detail.readonly},required:e=>{this._setRequired(e.target,e.detail.required)},bgColor:e=>{t("bgColor","backgroundColor",e)},fillColor:e=>{t("fillColor","backgroundColor",e)},fgColor:e=>{t("fgColor","color",e)},textColor:e=>{t("textColor","color",e)},borderColor:e=>{t("borderColor","borderColor",e)},strokeColor:e=>{t("strokeColor","borderColor",e)},rotation:e=>{const r=e.detail.rotation;this.setRotation(r),this.annotationStorage.setValue(this.data.id,{rotation:r})}})}_dispatchEventFromSandbox(t,e){const r=this._commonActions;for(const o of Object.keys(e.detail))(t[o]||r[o])?.(e)}_setDefaultPropertiesFromJS(t){if(!this.enableScripting)return;const e=this.annotationStorage.getRawValue(this.data.id);if(!e)return;const r=this._commonActions;for(const[o,i]of Object.entries(e)){const s=r[o];s&&(s({detail:{[o]:i},target:t}),delete e[o])}}_createQuadrilaterals(){if(!this.container)return;const{quadPoints:t}=this.data;if(!t)return;const[e,r,o,i]=this.data.rect.map(g=>Math.fround(g));if(8===t.length){const[g,m,b,v]=t.subarray(2,6);if(o===g&&i===m&&e===b&&r===v)return}const{style:s}=this.container;let a;if(this.#t){const{borderColor:g,borderWidth:m}=s;s.borderWidth=0,a=["url('data:image/svg+xml;utf8,",'<svg xmlns="http://www.w3.org/2000/svg"',' preserveAspectRatio="none" viewBox="0 0 1 1">',`<g fill="transparent" stroke="${g}" stroke-width="${m}">`],this.container.classList.add("hasBorder")}const l=o-e,c=i-r,{svgFactory:u}=this,d=u.createElement("svg");d.classList.add("quadrilateralsContainer"),d.setAttribute("width",0),d.setAttribute("height",0),d.role="none";const h=u.createElement("defs");d.append(h);const f=u.createElement("clipPath"),p=`clippath_${this.data.id}`;f.setAttribute("id",p),f.setAttribute("clipPathUnits","objectBoundingBox"),h.append(f);for(let g=2,m=t.length;g<m;g+=8){const b=t[g],v=t[g+1],y=t[g+2],C=t[g+3],_=u.createElement("rect"),w=(y-e)/l,k=(i-v)/c,A=(b-y)/l,$=(v-C)/c;_.setAttribute("x",w),_.setAttribute("y",k),_.setAttribute("width",A),_.setAttribute("height",$),f.append(_),a?.push(`<rect vector-effect="non-scaling-stroke" x="${w}" y="${k}" width="${A}" height="${$}"/>`)}this.#t&&(a.push("</g></svg>')"),s.backgroundImage=a.join("")),this.container.append(d),this.container.style.clipPath=`url(#${p})`}_createPopup(t=null){const{data:e}=this;let r,o;t?(r={str:t.text},o=t.date):(r=e.contentsObj,o=e.modificationDate),this.#r=new Ry({data:{color:e.color,titleObj:e.titleObj,modificationDate:o,contentsObj:r,richText:e.richText,parentRect:e.rect,borderStyle:0,id:`popup_${e.id}`,rotation:e.rotation,noRotate:!0},linkService:this.linkService,parent:this.parent,elements:[this]})}get hasPopupElement(){return!!(this.#r||this.popup||this.data.popupRef)}get extraPopupElement(){return this.#r}render(){Jt("Abstract method `AnnotationElement.render` called")}_getElementsByName(t,e=null){const r=[];if(this._fieldObjects){const o=this._fieldObjects[t];if(o)for(const{page:i,id:s,exportValues:a}of o){if(-1===i||s===e)continue;const l="string"==typeof a?a:null,c=document.querySelector(`[data-element-id="${s}"]`);!c||ma.has(c)?r.push({id:s,exportValue:l,domElement:c}):je(`_getElementsByName - element not allowed: ${s}`)}return r}for(const o of document.getElementsByName(t)){const{exportValue:i}=o,s=o.getAttribute("data-element-id");s!==e&&ma.has(o)&&r.push({id:s,exportValue:i,domElement:o})}return r}show(){this.container&&(this.container.hidden=!1),this.popup?.maybeShow()}hide(){this.container&&(this.container.hidden=!0),this.popup?.forceHide()}getElementsToTriggerPopup(){return this.container}addHighlightArea(){const t=this.getElementsToTriggerPopup();if(Array.isArray(t))for(const e of t)e.classList.add("highlightArea");else t.classList.add("highlightArea")}_editOnDoubleClick(){if(!this._isEditable)return;const{annotationEditorType:t,data:{id:e}}=this;this.container.addEventListener("dblclick",()=>{this.linkService.eventBus?.dispatch("switchannotationeditormode",{source:this,mode:t,editId:e,mustEnterInEditMode:!0})})}get width(){return this.data.rect[2]-this.data.rect[0]}get height(){return this.data.rect[3]-this.data.rect[1]}}class OU extends Dn{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0}),this.editor=t.editor}render(){return this.container.className="editorAnnotation",this.container}createOrUpdatePopup(){const{editor:t}=this;t.hasComment&&this._createPopup(t.comment)}get hasCommentButton(){return this.enableComment&&this.editor.hasComment}get commentButtonPosition(){return this.editor.commentButtonPositionInPage}get commentText(){return this.editor.comment.text}set commentText(t){this.editor.comment=t,t||this.removePopup()}get commentData(){return this.editor.getData()}remove(){this.parent.removeAnnotation(this.data.id),this.container.remove(),this.container=null,this.removePopup()}}class My extends Dn{constructor(t,e=null){super(t,{isRenderable:!0,ignoreBorder:!!e?.ignoreBorder,createQuadrilaterals:!0}),this.isTooltipOnly=t.data.isTooltipOnly}render(){const{data:t,linkService:e}=this,r=document.createElement("a");r.setAttribute("data-element-id",t.id);let o=!1;return t.url?(e.addLinkAttributes(r,t.url,t.newWindow),o=!0):t.action?(this._bindNamedAction(r,t.action,t.overlaidText),o=!0):t.attachment?(this.#t(r,t.attachment,t.overlaidText,t.attachmentDest),o=!0):t.setOCGState?(this.#r(r,t.setOCGState,t.overlaidText),o=!0):t.dest?(this._bindLink(r,t.dest,t.overlaidText),o=!0):(t.actions&&(t.actions.Action||t.actions["Mouse Up"]||t.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(this._bindJSAction(r,t),o=!0),t.resetForm?(this._bindResetFormAction(r,t.resetForm),o=!0):this.isTooltipOnly&&!o&&(this._bindLink(r,""),o=!0)),this.container.classList.add("linkAnnotation"),o&&(this.contentElement=r,this.container.append(r)),this.container}#e(){this.container.setAttribute("data-internal-link","")}_bindLink(t,e,r=""){t.href=this.linkService.getDestinationHash(e),t.onclick=()=>(e&&this.linkService.goToDestination(e),!1),(e||""===e)&&this.#e(),r&&(t.title=r)}_bindNamedAction(t,e,r=""){t.href=this.linkService.getAnchorUrl(""),t.onclick=()=>(this.linkService.executeNamedAction(e),!1),r&&(t.title=r),this.#e()}#t(t,e,r="",o=null){t.href=this.linkService.getAnchorUrl(""),e.description?t.title=e.description:r&&(t.title=r),t.onclick=()=>(this.downloadManager?.openOrDownloadData(e.content,e.filename,o),!1),this.#e()}#r(t,e,r=""){t.href=this.linkService.getAnchorUrl(""),t.onclick=()=>(this.linkService.executeSetOCGState(e),!1),r&&(t.title=r),this.#e()}_bindJSAction(t,e){t.href=this.linkService.getAnchorUrl("");const r=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const o of Object.keys(e.actions)){const i=r.get(o);i&&(t[i]=()=>(this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e.id,name:o}}),!1))}e.overlaidText&&(t.title=e.overlaidText),t.onclick||(t.onclick=()=>!1),this.#e()}_bindResetFormAction(t,e){const r=t.onclick;if(r||(t.href=this.linkService.getAnchorUrl("")),this.#e(),!this._fieldObjects)return je('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),void(r||(t.onclick=()=>!1));t.onclick=()=>{r?.();const{fields:o,refs:i,include:s}=e,a=[];if(0!==o.length||0!==i.length){const u=new Set(i);for(const d of o){const h=this._fieldObjects[d]||[];for(const{id:f}of h)u.add(f)}for(const d of Object.values(this._fieldObjects))for(const h of d)u.has(h.id)===s&&a.push(h)}else for(const u of Object.values(this._fieldObjects))a.push(...u);const l=this.annotationStorage,c=[];for(const u of a){const{id:d}=u;switch(c.push(d),u.type){case"text":case"combobox":case"listbox":l.setValue(d,{value:u.defaultValue||""});break;case"checkbox":case"radiobutton":l.setValue(d,{value:u.defaultValue===u.exportValues});break;default:continue}const h=document.querySelector(`[data-element-id="${d}"]`);h&&(ma.has(h)?h.dispatchEvent(new Event("resetform")):je(`_bindResetFormAction - element not allowed: ${d}`))}return this.enableScripting&&this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:c,name:"ResetForm"}}),!1}}}class LU extends Dn{constructor(t){super(t,{isRenderable:!0})}render(){this.container.classList.add("textAnnotation");const t=document.createElement("img");return t.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",t.setAttribute("data-l10n-id","pdfjs-text-annotation-type"),t.setAttribute("data-l10n-args",JSON.stringify({type:this.data.name})),!this.data.popupRef&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container.append(t),this.container}}class ba extends Dn{render(){return this.container}showElementAndHideCanvas(t){this.data.hasOwnCanvas&&("CANVAS"===t.previousSibling?.nodeName&&(t.previousSibling.hidden=!0),t.hidden=!1)}_getKeyModifier(t){return pr.platform.isMac?t.metaKey:t.ctrlKey}_setEventListener(t,e,r,o,i){r.includes("mouse")?t.addEventListener(r,s=>{this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:o,value:i(s),shift:s.shiftKey,modifier:this._getKeyModifier(s)}})}):t.addEventListener(r,s=>{if("blur"===r){if(!e.focused||!s.relatedTarget)return;e.focused=!1}else if("focus"===r){if(e.focused)return;e.focused=!0}i&&this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:o,value:i(s)}})})}_setEventListeners(t,e,r,o){for(const[i,s]of r)("Action"===s||this.data.actions?.[s])&&(("Focus"===s||"Blur"===s)&&(e||={focused:!1}),this._setEventListener(t,e,i,s,o),"Focus"!==s||this.data.actions?.Blur?"Blur"===s&&!this.data.actions?.Focus&&this._setEventListener(t,e,"focus","Focus",null):this._setEventListener(t,e,"blur","Blur",null))}_setBackgroundColor(t){const e=this.data.backgroundColor||null;t.style.backgroundColor=null===e?"transparent":he.makeHexColor(e[0],e[1],e[2])}_setTextStyle(t){const{fontColor:r}=this.data.defaultAppearanceData,o=this.data.defaultAppearanceData.fontSize||9,i=t.style;let s;const l=c=>Math.round(10*c)/10;if(this.data.multiLine){const c=Math.abs(this.data.rect[3]-this.data.rect[1]-2),u=Math.round(c/(1.35*o))||1;s=Math.min(o,l(c/u/1.35))}else{const c=Math.abs(this.data.rect[3]-this.data.rect[1]-2);s=Math.min(o,l(c/1.35))}i.fontSize=`calc(${s}px * var(--total-scale-factor))`,i.color=he.makeHexColor(r[0],r[1],r[2]),null!==this.data.textAlignment&&(i.textAlign=["left","center","right"][this.data.textAlignment])}_setRequired(t,e){e?t.setAttribute("required",!0):t.removeAttribute("required"),t.setAttribute("aria-required",e)}}class PU extends ba{constructor(t){super(t,{isRenderable:t.renderForms||t.data.hasOwnCanvas||!t.data.hasAppearance&&!!t.data.fieldValue})}setPropertyOnSiblings(t,e,r,o){const i=this.annotationStorage;for(const s of this._getElementsByName(t.name,t.id))s.domElement&&(s.domElement[e]=r),i.setValue(s.id,{[o]:r})}render(){const t=this.annotationStorage,e=this.data.id;this.container.classList.add("textWidgetAnnotation");let r=null;if(this.renderForms){const o=t.getValue(e,{value:this.data.fieldValue});let i=o.value||"";const s=t.getValue(e,{charLimit:this.data.maxLen}).charLimit;s&&i.length>s&&(i=i.slice(0,s));let a=o.formattedValue||this.data.textContent?.join("\n")||null;a&&this.data.comb&&(a=a.replaceAll(/\s+/g,""));const l={userValue:i,formattedValue:a,lastCommittedValue:null,commitKey:1,focused:!1};this.data.multiLine?(r=document.createElement("textarea"),r.textContent=a??i,this.data.doNotScroll&&(r.style.overflowY="hidden")):(r=document.createElement("input"),r.type=this.data.password?"password":"text",r.setAttribute("value",a??i),this.data.doNotScroll&&(r.style.overflowX="hidden")),this.data.hasOwnCanvas&&(r.hidden=!0),ma.add(r),this.contentElement=r,r.setAttribute("data-element-id",e),r.disabled=this.data.readOnly,r.name=this.data.fieldName,r.tabIndex=0;const{datetimeFormat:c,datetimeType:u,timeStep:d}=this.data,h=!!u&&this.enableScripting;c&&(r.title=c),this._setRequired(r,this.data.required),s&&(r.maxLength=s),r.addEventListener("input",p=>{t.setValue(e,{value:p.target.value}),this.setPropertyOnSiblings(r,"value",p.target.value,"value"),l.formattedValue=null}),r.addEventListener("resetform",p=>{r.value=l.userValue=this.data.defaultFieldValue??"",l.formattedValue=null});let f=p=>{const{formattedValue:g}=l;null!=g&&(p.target.value=g),p.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){r.addEventListener("focus",g=>{if(l.focused)return;const{target:m}=g;if(h&&(m.type=u,d&&(m.step=d)),l.userValue){const b=l.userValue;if(h)if("time"===u){const v=new Date(b),y=[v.getHours(),v.getMinutes(),v.getSeconds()];m.value=y.map(C=>C.toString().padStart(2,"0")).join(":")}else m.value=new Date(b-NU).toISOString().split("date"===u?"T":".",1)[0];else m.value=b}l.lastCommittedValue=m.value,l.commitKey=1,this.data.actions?.Focus||(l.focused=!0)}),r.addEventListener("updatefromsandbox",g=>{this.showElementAndHideCanvas(g.target),this._dispatchEventFromSandbox({value(b){l.userValue=b.detail.value??"",h||t.setValue(e,{value:l.userValue.toString()}),b.target.value=l.userValue},formattedValue(b){const{formattedValue:v}=b.detail;l.formattedValue=v,null!=v&&b.target!==document.activeElement&&(b.target.value=v);const y={formattedValue:v};h&&(y.value=v),t.setValue(e,y)},selRange(b){b.target.setSelectionRange(...b.detail.selRange)},charLimit:b=>{const{charLimit:v}=b.detail,{target:y}=b;if(0===v)return void y.removeAttribute("maxLength");y.setAttribute("maxLength",v);let C=l.userValue;!C||C.length<=v||(C=C.slice(0,v),y.value=l.userValue=C,t.setValue(e,{value:C}),this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e,name:"Keystroke",value:C,willCommit:!0,commitKey:1,selStart:y.selectionStart,selEnd:y.selectionEnd}}))}},g)}),r.addEventListener("keydown",g=>{l.commitKey=1;let m=-1;if("Escape"===g.key?m=0:"Enter"!==g.key||this.data.multiLine?"Tab"===g.key&&(l.commitKey=3):m=2,-1===m)return;const{value:b}=g.target;l.lastCommittedValue!==b&&(l.lastCommittedValue=b,l.userValue=b,this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e,name:"Keystroke",value:b,willCommit:!0,commitKey:m,selStart:g.target.selectionStart,selEnd:g.target.selectionEnd}}))});const p=f;f=null,r.addEventListener("blur",g=>{if(!l.focused||!g.relatedTarget)return;this.data.actions?.Blur||(l.focused=!1);const{target:m}=g;let{value:b}=m;if(h){if(b&&"time"===u){const v=b.split(":").map(y=>parseInt(y,10));b=new Date(2e3,0,1,v[0],v[1],v[2]||0).valueOf(),m.step=""}else b.includes("T")||(b=`${b}T00:00`),b=new Date(b).valueOf();m.type="text"}l.userValue=b,l.lastCommittedValue!==b&&this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e,name:"Keystroke",value:b,willCommit:!0,commitKey:l.commitKey,selStart:g.target.selectionStart,selEnd:g.target.selectionEnd}}),p(g)}),this.data.actions?.Keystroke&&r.addEventListener("beforeinput",g=>{l.lastCommittedValue=null;const{data:m,target:b}=g,{value:v,selectionStart:y,selectionEnd:C}=b;let _=y,w=C;switch(g.inputType){case"deleteWordBackward":{const k=v.substring(0,y).match(/\w*[^\w]*$/);k&&(_-=k[0].length);break}case"deleteWordForward":{const k=v.substring(y).match(/^[^\w]*\w*/);k&&(w+=k[0].length);break}case"deleteContentBackward":y===C&&(_-=1);break;case"deleteContentForward":y===C&&(w+=1)}g.preventDefault(),this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e,name:"Keystroke",value:v,change:m||"",willCommit:!1,selStart:_,selEnd:w}})}),this._setEventListeners(r,l,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],g=>g.target.value)}if(f&&r.addEventListener("blur",f),this.data.comb){const g=(this.data.rect[2]-this.data.rect[0])/s;r.classList.add("comb"),r.style.letterSpacing=`calc(${g}px * var(--total-scale-factor) - 1ch)`}}else r=document.createElement("div"),r.textContent=this.data.fieldValue,r.style.verticalAlign="middle",r.style.display="table-cell",this.data.hasOwnCanvas&&(r.hidden=!0);return this._setTextStyle(r),this._setBackgroundColor(r),this._setDefaultPropertiesFromJS(r),this.container.append(r),this.container}}class FU extends ba{constructor(t){super(t,{isRenderable:!!t.data.hasOwnCanvas})}}class BU extends ba{constructor(t){super(t,{isRenderable:t.renderForms})}render(){const t=this.annotationStorage,e=this.data,r=e.id;let o=t.getValue(r,{value:e.exportValue===e.fieldValue}).value;"string"==typeof o&&(o="Off"!==o,t.setValue(r,{value:o})),this.container.classList.add("buttonWidgetAnnotation","checkBox");const i=document.createElement("input");return ma.add(i),i.setAttribute("data-element-id",r),i.disabled=e.readOnly,this._setRequired(i,this.data.required),i.type="checkbox",i.name=e.fieldName,o&&i.setAttribute("checked",!0),i.setAttribute("exportValue",e.exportValue),i.tabIndex=0,i.addEventListener("change",s=>{const{name:a,checked:l}=s.target;for(const c of this._getElementsByName(a,r)){const u=l&&c.exportValue===e.exportValue;c.domElement&&(c.domElement.checked=u),t.setValue(c.id,{value:u})}t.setValue(r,{value:l})}),i.addEventListener("resetform",s=>{s.target.checked=(e.defaultFieldValue||"Off")===e.exportValue}),this.enableScripting&&this.hasJSActions&&(i.addEventListener("updatefromsandbox",s=>{this._dispatchEventFromSandbox({value(l){l.target.checked="Off"!==l.detail.value,t.setValue(r,{value:l.target.checked})}},s)}),this._setEventListeners(i,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],s=>s.target.checked)),this._setBackgroundColor(i),this._setDefaultPropertiesFromJS(i),this.container.append(i),this.container}}class ZI extends ba{constructor(t){super(t,{isRenderable:t.renderForms})}render(){this.container.classList.add("buttonWidgetAnnotation","radioButton");const t=this.annotationStorage,e=this.data,r=e.id;let o=t.getValue(r,{value:e.fieldValue===e.buttonValue}).value;if("string"==typeof o&&(o=o!==e.buttonValue,t.setValue(r,{value:o})),o)for(const s of this._getElementsByName(e.fieldName,r))t.setValue(s.id,{value:!1});const i=document.createElement("input");if(ma.add(i),i.setAttribute("data-element-id",r),i.disabled=e.readOnly,this._setRequired(i,this.data.required),i.type="radio",i.name=e.fieldName,o&&i.setAttribute("checked",!0),i.tabIndex=0,i.addEventListener("change",s=>{const{name:a,checked:l}=s.target;for(const c of this._getElementsByName(a,r))t.setValue(c.id,{value:!1});t.setValue(r,{value:l})}),i.addEventListener("resetform",s=>{const a=e.defaultFieldValue;s.target.checked=null!=a&&a===e.buttonValue}),this.enableScripting&&this.hasJSActions){const s=e.buttonValue;i.addEventListener("updatefromsandbox",a=>{this._dispatchEventFromSandbox({value:c=>{const u=s===c.detail.value;for(const d of this._getElementsByName(c.target.name)){const h=u&&d.id===r;d.domElement&&(d.domElement.checked=h),t.setValue(d.id,{value:h})}}},a)}),this._setEventListeners(i,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],a=>a.target.checked)}return this._setBackgroundColor(i),this._setDefaultPropertiesFromJS(i),this.container.append(i),this.container}}class HU extends My{constructor(t){super(t,{ignoreBorder:t.data.hasAppearance})}render(){const t=super.render();t.classList.add("buttonWidgetAnnotation","pushButton");const e=t.lastChild;return this.enableScripting&&this.hasJSActions&&e&&(this._setDefaultPropertiesFromJS(e),e.addEventListener("updatefromsandbox",r=>{this._dispatchEventFromSandbox({},r)})),t}}class jU extends ba{constructor(t){super(t,{isRenderable:t.renderForms})}render(){this.container.classList.add("choiceWidgetAnnotation");const t=this.annotationStorage,e=this.data.id,r=t.getValue(e,{value:this.data.fieldValue}),o=document.createElement("select");ma.add(o),o.setAttribute("data-element-id",e),o.disabled=this.data.readOnly,this._setRequired(o,this.data.required),o.name=this.data.fieldName,o.tabIndex=0;let i=this.data.combo&&this.data.options.length>0;this.data.combo||(o.size=this.data.options.length,this.data.multiSelect&&(o.multiple=!0)),o.addEventListener("resetform",u=>{const d=this.data.defaultFieldValue;for(const h of o.options)h.selected=h.value===d});for(const u of this.data.options){const d=document.createElement("option");d.textContent=u.displayValue,d.value=u.exportValue,r.value.includes(u.exportValue)&&(d.setAttribute("selected",!0),i=!1),o.append(d)}let s=null;if(i){const u=document.createElement("option");u.value=" ",u.setAttribute("hidden",!0),u.setAttribute("selected",!0),o.prepend(u),s=()=>{u.remove(),o.removeEventListener("input",s),s=null},o.addEventListener("input",s)}const a=u=>{const d=u?"value":"textContent",{options:h,multiple:f}=o;return f?Array.prototype.filter.call(h,p=>p.selected).map(p=>p[d]):-1===h.selectedIndex?null:h[h.selectedIndex][d]};let l=a(!1);const c=u=>Array.prototype.map.call(u.target.options,h=>({displayValue:h.textContent,exportValue:h.value}));return this.enableScripting&&this.hasJSActions?(o.addEventListener("updatefromsandbox",u=>{this._dispatchEventFromSandbox({value(h){s?.();const f=h.detail.value,p=new Set(Array.isArray(f)?f:[f]);for(const g of o.options)g.selected=p.has(g.value);t.setValue(e,{value:a(!0)}),l=a(!1)},multipleSelection(h){o.multiple=!0},remove(h){const f=o.options,p=h.detail.remove;f[p].selected=!1,o.remove(p),f.length>0&&-1===Array.prototype.findIndex.call(f,m=>m.selected)&&(f[0].selected=!0),t.setValue(e,{value:a(!0),items:c(h)}),l=a(!1)},clear(h){for(;0!==o.length;)o.remove(0);t.setValue(e,{value:null,items:[]}),l=a(!1)},insert(h){const{index:f,displayValue:p,exportValue:g}=h.detail.insert,m=o.children[f],b=document.createElement("option");b.textContent=p,b.value=g,m?m.before(b):o.append(b),t.setValue(e,{value:a(!0),items:c(h)}),l=a(!1)},items(h){const{items:f}=h.detail;for(;0!==o.length;)o.remove(0);for(const p of f){const{displayValue:g,exportValue:m}=p,b=document.createElement("option");b.textContent=g,b.value=m,o.append(b)}o.options.length>0&&(o.options[0].selected=!0),t.setValue(e,{value:a(!0),items:c(h)}),l=a(!1)},indices(h){const f=new Set(h.detail.indices);for(const p of h.target.options)p.selected=f.has(p.index);t.setValue(e,{value:a(!0)}),l=a(!1)},editable(h){h.target.disabled=!h.detail.editable}},u)}),o.addEventListener("input",u=>{const d=a(!0),h=a(!1);t.setValue(e,{value:d}),u.preventDefault(),this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e,name:"Keystroke",value:l,change:h,changeEx:d,willCommit:!1,commitKey:1,keyDown:!1}})}),this._setEventListeners(o,null,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"],["input","Validate"]],u=>u.target.value)):o.addEventListener("input",function(u){t.setValue(e,{value:a(!0)})}),this.data.combo&&this._setTextStyle(o),this._setBackgroundColor(o),this._setDefaultPropertiesFromJS(o),this.container.append(o),this.container}}class Ry extends Dn{constructor(t){const{data:e,elements:r,parent:o}=t,i=!!o._commentManager;if(super(t,{isRenderable:!i&&Dn._hasPopupData(e)}),this.elements=r,i&&Dn._hasPopupData(e)){const s=this.popup=this.#e();for(const a of r)a.popup=s}else this.popup=null}#e(){return new $U({container:this.container,color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate||this.data.creationDate,contentsObj:this.data.contentsObj,richText:this.data.richText,rect:this.data.rect,parentRect:this.data.parentRect||null,parent:this.parent,elements:this.elements,open:this.data.open,commentManager:this.parent._commentManager})}render(){const{container:t}=this;t.classList.add("popupAnnotation"),t.role="comment";const e=this.popup=this.#e(),r=[];for(const o of this.elements)o.popup=e,o.container.ariaHasPopup="dialog",r.push(o.data.id),o.addHighlightArea();return this.container.setAttribute("aria-controls",r.map(o=>`${Wl}${o}`).join(",")),this.container}}class $U{#e=null;#t=this.#z.bind(this);#r=this.#H.bind(this);#n=this.#N.bind(this);#s=this.#w.bind(this);#i=null;#o=null;#a=null;#c=null;#l=null;#h=null;#d=null;#f=!1;#m=null;#g=null;#u=null;#p=null;#b=null;#y=null;#v=null;#S=null;#E=null;#C=null;#T=!1;#_=null;#D=null;constructor({container:t,color:e,elements:r,titleObj:o,modificationDate:i,contentsObj:s,richText:a,parent:l,rect:c,parentRect:u,open:d,commentManager:h=null}){this.#o=t,this.#E=o,this.#a=s,this.#S=a,this.#h=l,this.#i=e,this.#v=c,this.#d=u,this.#l=r,this.#e=h,this.#_=r[0],this.#c=hy.toDateObject(i),this.trigger=r.flatMap(f=>f.getElementsToTriggerPopup()),h||(this.#x(),this.#o.hidden=!0,d&&this.#w())}#x(){if(this.#g)return;this.#g=new AbortController;const{signal:t}=this.#g;for(const e of this.trigger)e.addEventListener("click",this.#s,{signal:t}),e.addEventListener("pointerenter",this.#n,{signal:t}),e.addEventListener("pointerleave",this.#r,{signal:t}),e.classList.add("popupTriggerArea");for(const e of this.#l)e.container?.addEventListener("keydown",this.#t,{signal:t})}#A(){const t=this.#l.find(e=>e.hasCommentButton);t&&(this.#b=t._normalizePoint(t.commentButtonPosition))}renderCommentButton(){if(this.#p)return void(this.#p.parentNode||this.#_.container.after(this.#p));if(this.#b||this.#A(),!this.#b)return;const{signal:t}=this.#g=new AbortController,e=this.#_.hasOwnCommentButton,r=()=>{this.#e.toggleCommentPopup(this,!0,void 0,!e)},o=()=>{this.#e.toggleCommentPopup(this,!1,!0,!e)},i=()=>{this.#e.toggleCommentPopup(this,!1,!1)};if(e){this.#p=this.#_.container;for(const s of this.trigger)s.ariaHasPopup="dialog",s.ariaControls="commentPopup",s.addEventListener("keydown",this.#t,{signal:t}),s.addEventListener("click",r,{signal:t}),s.addEventListener("pointerenter",o,{signal:t}),s.addEventListener("pointerleave",i,{signal:t}),s.classList.add("popupTriggerArea")}else{const s=this.#p=document.createElement("button");s.className="annotationCommentButton";const a=this.#_.container;s.style.zIndex=a.style.zIndex+1,s.tabIndex=0,s.ariaHasPopup="dialog",s.ariaControls="commentPopup",s.setAttribute("data-l10n-id","pdfjs-show-comment-button"),this.#F(),this.#I(),s.addEventListener("keydown",this.#t,{signal:t}),s.addEventListener("click",r,{signal:t}),s.addEventListener("pointerenter",o,{signal:t}),s.addEventListener("pointerleave",i,{signal:t}),a.after(s)}}#I(){if(this.#_.extraPopupElement&&!this.#_.editor)return;this.#p||this.renderCommentButton();const[t,e]=this.#b,{style:r}=this.#p;r.left=`calc(${t}%)`,r.top=`calc(${e}% - var(--comment-button-dim))`}#F(){this.#_.extraPopupElement||(this.#p||this.renderCommentButton(),this.#p.style.backgroundColor=this.commentButtonColor||"")}get commentButtonColor(){const{color:t,opacity:e}=this.#_.commentData;return t?this.#h._commentManager.makeCommentColor(t,e):null}focusCommentButton(){setTimeout(()=>{this.#p?.focus()},0)}getData(){const{richText:t,color:e,opacity:r,creationDate:o,modificationDate:i}=this.#_.commentData;return{contentsObj:{str:this.comment},richText:t,color:e,opacity:r,creationDate:o,modificationDate:i}}get elementBeforePopup(){return this.#p}get comment(){return this.#D||=this.#_.commentText,this.#D}set comment(t){t!==this.comment&&(this.#_.commentText=this.#D=t)}focus(){this.#_.container?.focus()}get parentBoundingClientRect(){return this.#_.layer.getBoundingClientRect()}setCommentButtonStates({selected:t,hasPopup:e}){this.#p&&(this.#p.classList.toggle("selected",t),this.#p.ariaExpanded=e)}setSelectedCommentButton(t){this.#p.classList.toggle("selected",t)}get commentPopupPosition(){if(this.#y)return this.#y;const{x:t,y:e,height:r}=this.#p.getBoundingClientRect(),{x:o,y:i,width:s,height:a}=this.#_.layer.getBoundingClientRect();return[(t-o)/s,(e+r-i)/a]}set commentPopupPosition(t){this.#y=t}hasDefaultPopupPosition(){return null===this.#y}get commentButtonPosition(){return this.#b}get commentButtonWidth(){return this.#p.getBoundingClientRect().width/this.parentBoundingClientRect.width}editComment(t){const[e,r]=this.#y||this.commentButtonPosition.map(c=>c/100),o=this.parentBoundingClientRect,{x:i,y:s,width:a,height:l}=o;this.#e.showDialog(null,this,i+e*a,s+r*l,{...t,parentDimensions:o})}render(){if(this.#m)return;const t=this.#m=document.createElement("div");if(t.className="popup",this.#i){const r=t.style.outlineColor=he.makeHexColor(...this.#i);t.style.backgroundColor=`color-mix(in srgb, ${r} 30%, white)`}const e=document.createElement("span");if(e.className="header",this.#E?.str){const r=document.createElement("span");r.className="title",e.append(r),({dir:r.dir,str:r.textContent}=this.#E)}if(t.append(e),this.#c){const r=document.createElement("time");r.className="popupDate",r.setAttribute("data-l10n-id","pdfjs-annotation-date-time-string"),r.setAttribute("data-l10n-args",JSON.stringify({dateObj:this.#c.valueOf()})),r.dateTime=this.#c.toISOString(),e.append(r)}cI({html:this.#R||this.#a.str,dir:this.#a?.dir,className:"popupContent"},t),this.#o.append(t)}get#R(){const t=this.#S,e=this.#a;return t?.str&&(!e?.str||e.str===t.str)&&this.#S.html||null}get#O(){return this.#R?.attributes?.style?.fontSize||0}get#B(){return this.#R?.attributes?.style?.color||null}#L(t){const e=[],r={str:t,html:{name:"div",attributes:{dir:"auto"},children:[{name:"p",children:e}]}},o={style:{color:this.#B,fontSize:this.#O?`calc(${this.#O}px * var(--total-scale-factor))`:""}};for(const i of t.split("\n"))e.push({name:"span",value:i,attributes:o});return r}#z(t){t.altKey||t.shiftKey||t.ctrlKey||t.metaKey||("Enter"===t.key||"Escape"===t.key&&this.#f)&&this.#w()}updateEdited({rect:t,popup:e,deleted:r}){if(this.#e)return r?(this.remove(),this.#D=null):e&&(e.deleted?this.remove():(this.#F(),this.#D=e.text)),void(t&&(this.#b=null,this.#A(),this.#I()));r||e?.deleted?this.remove():(this.#x(),this.#C||={contentsObj:this.#a,richText:this.#S},t&&(this.#u=null),e&&e.text&&(this.#S=this.#L(e.text),this.#c=hy.toDateObject(e.date),this.#a=null),this.#m?.remove(),this.#m=null)}resetEdited(){this.#C&&(({contentsObj:this.#a,richText:this.#S}=this.#C),this.#C=null,this.#m?.remove(),this.#m=null,this.#u=null)}remove(){if(this.#g?.abort(),this.#g=null,this.#m?.remove(),this.#m=null,this.#T=!1,this.#f=!1,this.#p?.remove(),this.#p=null,this.trigger)for(const t of this.trigger)t.classList.remove("popupTriggerArea")}#k(){if(null!==this.#u)return;const{page:{view:t},viewport:{rawDims:{pageWidth:e,pageHeight:r,pageX:o,pageY:i}}}=this.#h;let s=!!this.#d,a=s?this.#d:this.#v;for(const p of this.#l)if(!a||null!==he.intersect(p.data.rect,a)){a=p.data.rect,s=!0;break}const l=he.normalizeRect([a[0],t[3]-a[1]+t[1],a[2],t[3]-a[3]+t[1]]);this.#u=[100*(l[0]+(s?a[2]-a[0]+5:0)-o)/e,100*(l[1]-i)/r];const{style:f}=this.#o;f.left=`${this.#u[0]}%`,f.top=`${this.#u[1]}%`}#w(){this.#e?this.#e.toggleCommentPopup(this,!1):(this.#f=!this.#f,this.#f?(this.#N(),this.#o.addEventListener("click",this.#s),this.#o.addEventListener("keydown",this.#t)):(this.#H(),this.#o.removeEventListener("click",this.#s),this.#o.removeEventListener("keydown",this.#t)))}#N(){this.#m||this.render(),this.isVisible?this.#f&&this.#o.classList.add("focused"):(this.#k(),this.#o.hidden=!1,this.#o.style.zIndex=parseInt(this.#o.style.zIndex)+1e3)}#H(){this.#o.classList.remove("focused"),!this.#f&&this.isVisible&&(this.#o.hidden=!0,this.#o.style.zIndex=parseInt(this.#o.style.zIndex)-1e3)}forceHide(){this.#T=this.isVisible,this.#T&&(this.#o.hidden=!0)}maybeShow(){this.#e||(this.#x(),this.#T&&(this.#m||this.#N(),this.#T=!1,this.#o.hidden=!1))}get isVisible(){return!this.#e&&!1===this.#o.hidden}}class QI extends Dn{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0}),this.textContent=t.data.textContent,this.textPosition=t.data.textPosition,this.annotationEditorType=We.FREETEXT}render(){if(this.container.classList.add("freeTextAnnotation"),this.textContent){const t=this.contentElement=document.createElement("div");t.classList.add("annotationTextContent"),t.setAttribute("role","comment");for(const e of this.textContent){const r=document.createElement("span");r.textContent=e,t.append(r)}this.container.append(t)}return!this.data.popupRef&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this._editOnDoubleClick(),this.container}}class UU extends Dn{#e=null;constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0})}render(){this.container.classList.add("lineAnnotation");const{data:t,width:e,height:r}=this,o=this.svgFactory.create(e,r,!0),i=this.#e=this.svgFactory.createElement("svg:line");return i.setAttribute("x1",t.rect[2]-t.lineCoordinates[0]),i.setAttribute("y1",t.rect[3]-t.lineCoordinates[1]),i.setAttribute("x2",t.rect[2]-t.lineCoordinates[2]),i.setAttribute("y2",t.rect[3]-t.lineCoordinates[3]),i.setAttribute("stroke-width",t.borderStyle.width||1),i.setAttribute("stroke","transparent"),i.setAttribute("fill","transparent"),o.append(i),this.container.append(o),!t.popupRef&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container}getElementsToTriggerPopup(){return this.#e}addHighlightArea(){this.container.classList.add("highlightArea")}}class VU extends Dn{#e=null;constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0})}render(){this.container.classList.add("squareAnnotation");const{data:t,width:e,height:r}=this,o=this.svgFactory.create(e,r,!0),i=t.borderStyle.width,s=this.#e=this.svgFactory.createElement("svg:rect");return s.setAttribute("x",i/2),s.setAttribute("y",i/2),s.setAttribute("width",e-i),s.setAttribute("height",r-i),s.setAttribute("stroke-width",i||1),s.setAttribute("stroke","transparent"),s.setAttribute("fill","transparent"),o.append(s),this.container.append(o),!t.popupRef&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container}getElementsToTriggerPopup(){return this.#e}addHighlightArea(){this.container.classList.add("highlightArea")}}class zU extends Dn{#e=null;constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0})}render(){this.container.classList.add("circleAnnotation");const{data:t,width:e,height:r}=this,o=this.svgFactory.create(e,r,!0),i=t.borderStyle.width,s=this.#e=this.svgFactory.createElement("svg:ellipse");return s.setAttribute("cx",e/2),s.setAttribute("cy",r/2),s.setAttribute("rx",e/2-i/2),s.setAttribute("ry",r/2-i/2),s.setAttribute("stroke-width",i||1),s.setAttribute("stroke","transparent"),s.setAttribute("fill","transparent"),o.append(s),this.container.append(o),!t.popupRef&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container}getElementsToTriggerPopup(){return this.#e}addHighlightArea(){this.container.classList.add("highlightArea")}}class JI extends Dn{#e=null;constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0}),this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.classList.add(this.containerClassName);const{data:{rect:t,vertices:e,borderStyle:r,popupRef:o},width:i,height:s}=this;if(!e)return this.container;const a=this.svgFactory.create(i,s,!0);let l=[];for(let u=0,d=e.length;u<d;u+=2)l.push(`${e[u]-t[0]},${t[3]-e[u+1]}`);l=l.join(" ");const c=this.#e=this.svgFactory.createElement(this.svgElementName);return c.setAttribute("points",l),c.setAttribute("stroke-width",r.width||1),c.setAttribute("stroke","transparent"),c.setAttribute("fill","transparent"),a.append(c),this.container.append(a),!o&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container}getElementsToTriggerPopup(){return this.#e}addHighlightArea(){this.container.classList.add("highlightArea")}}class WU extends JI{constructor(t){super(t),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class GU extends Dn{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("caretAnnotation"),!this.data.popupRef&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container}}class Ny extends Dn{#e=null;#t=[];constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0}),this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline",this.annotationEditorType="InkHighlight"===this.data.it?We.HIGHLIGHT:We.INK}#r(t,e){switch(t){case 90:return{transform:`rotate(90) translate(${-e[0]},${e[1]}) scale(1,-1)`,width:e[3]-e[1],height:e[2]-e[0]};case 180:return{transform:`rotate(180) translate(${-e[2]},${e[1]}) scale(1,-1)`,width:e[2]-e[0],height:e[3]-e[1]};case 270:return{transform:`rotate(270) translate(${-e[2]},${e[3]}) scale(1,-1)`,width:e[3]-e[1],height:e[2]-e[0]};default:return{transform:`translate(${-e[0]},${e[3]}) scale(1,-1)`,width:e[2]-e[0],height:e[3]-e[1]}}}render(){this.container.classList.add(this.containerClassName);const{data:{rect:t,rotation:e,inkLists:r,borderStyle:o,popupRef:i}}=this,{transform:s,width:a,height:l}=this.#r(e,t),c=this.svgFactory.create(a,l,!0),u=this.#e=this.svgFactory.createElement("svg:g");c.append(u),u.setAttribute("stroke-width",o.width||1),u.setAttribute("stroke-linecap","round"),u.setAttribute("stroke-linejoin","round"),u.setAttribute("stroke-miterlimit",10),u.setAttribute("stroke","transparent"),u.setAttribute("fill","transparent"),u.setAttribute("transform",s);for(let d=0,h=r.length;d<h;d++){const f=this.svgFactory.createElement(this.svgElementName);this.#t.push(f),f.setAttribute("points",r[d].join(",")),u.append(f)}return!i&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container.append(c),this._editOnDoubleClick(),this.container}updateEdited(t){super.updateEdited(t);const{thickness:e,points:r,rect:o}=t,i=this.#e;if(e>=0&&i.setAttribute("stroke-width",e||1),r)for(let s=0,a=this.#t.length;s<a;s++)this.#t[s].setAttribute("points",r[s].join(","));if(o){const{transform:s,width:a,height:l}=this.#r(this.data.rotation,o);i.parentElement.setAttribute("viewBox",`0 0 ${a} ${l}`),i.setAttribute("transform",s)}}getElementsToTriggerPopup(){return this.#t}addHighlightArea(){this.container.classList.add("highlightArea")}}class ex extends Dn{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0}),this.annotationEditorType=We.HIGHLIGHT}render(){const{data:{overlaidText:t,popupRef:e}}=this;if(!e&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container.classList.add("highlightAnnotation"),this._editOnDoubleClick(),t){const r=document.createElement("mark");r.classList.add("overlaidText"),r.textContent=t,this.container.append(r)}return this.container}}class qU extends Dn{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){const{data:{overlaidText:t,popupRef:e}}=this;if(!e&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container.classList.add("underlineAnnotation"),t){const r=document.createElement("u");r.classList.add("overlaidText"),r.textContent=t,this.container.append(r)}return this.container}}class YU extends Dn{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){const{data:{overlaidText:t,popupRef:e}}=this;if(!e&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container.classList.add("squigglyAnnotation"),t){const r=document.createElement("u");r.classList.add("overlaidText"),r.textContent=t,this.container.append(r)}return this.container}}class KU extends Dn{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){const{data:{overlaidText:t,popupRef:e}}=this;if(!e&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container.classList.add("strikeoutAnnotation"),t){const r=document.createElement("s");r.classList.add("overlaidText"),r.textContent=t,this.container.append(r)}return this.container}}class tx extends Dn{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0}),this.annotationEditorType=We.STAMP}render(){return this.container.classList.add("stampAnnotation"),this.container.setAttribute("role","img"),!this.data.popupRef&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this._editOnDoubleClick(),this.container}}class XU extends Dn{#e=null;constructor(t){super(t,{isRenderable:!0});const{file:e}=this.data;this.filename=e.filename,this.content=e.content,this.linkService.eventBus?.dispatch("fileattachmentannotation",{source:this,...e})}render(){this.container.classList.add("fileAttachmentAnnotation");const{container:t,data:e}=this;let r;e.hasAppearance||0===e.fillAlpha?r=document.createElement("div"):(r=document.createElement("img"),r.src=`${this.imageResourcesPath}annotation-${/paperclip/i.test(e.name)?"paperclip":"pushpin"}.svg`,e.fillAlpha&&e.fillAlpha<1&&(r.style=`filter: opacity(${Math.round(100*e.fillAlpha)}%);`)),r.addEventListener("dblclick",this.#t.bind(this)),this.#e=r;const{isMac:o}=pr.platform;return t.addEventListener("keydown",i=>{"Enter"===i.key&&(o?i.metaKey:i.ctrlKey)&&this.#t()}),!e.popupRef&&this.hasPopupData?(this.hasOwnCommentButton=!0,this._createPopup()):r.classList.add("popupTriggerArea"),t.append(r),t}getElementsToTriggerPopup(){return this.#e}addHighlightArea(){this.container.classList.add("highlightArea")}#t(){this.downloadManager?.openOrDownloadData(this.content,this.filename)}}class Oy{#e=null;#t=null;#r=null;#n=new Map;#s=null;#i=null;#o=[];#a=!1;constructor({div:t,accessibilityManager:e,annotationCanvasMap:r,annotationEditorUIManager:o,page:i,viewport:s,structTreeLayer:a,commentManager:l,linkService:c,annotationStorage:u}){this.div=t,this.#e=e,this.#t=r,this.#s=a||null,this.#i=c||null,this.#r=u||new vy,this.page=i,this.viewport=s,this.zIndex=0,this._annotationEditorUIManager=o,this._commentManager=l||null}hasEditableAnnotations(){return this.#n.size>0}render(t){var e=this;return B(function*(){const{annotations:r}=t,o=e.div;ga(o,e.viewport);const i=new Map,s=[],a={data:null,layer:o,linkService:e.#i,downloadManager:t.downloadManager,imageResourcesPath:t.imageResourcesPath||"",renderForms:!1!==t.renderForms,svgFactory:new gp,annotationStorage:e.#r,enableComment:!0===t.enableComment,enableScripting:!0===t.enableScripting,hasJSActions:t.hasJSActions,fieldObjects:t.fieldObjects,parent:e,elements:null};for(const l of r){if(l.noHTML)continue;const c=l.annotationType===Wn.POPUP;if(c){const h=i.get(l.id);if(!h)continue;if(!e._commentManager){s.push(l);continue}a.elements=h}else if(l.rect[2]===l.rect[0]||l.rect[3]===l.rect[1])continue;a.data=l;const u=xy.create(a);if(!u.isRenderable)continue;if(!c&&(e.#o.push(u),l.popupRef)){const h=i.get(l.popupRef);h?h.push(u):i.set(l.popupRef,[u])}const d=u.render();l.hidden&&(d.style.visibility="hidden"),u._isEditable&&(e.#n.set(u.data.id,u),e._annotationEditorUIManager?.renderAnnotationElement(u))}yield e.#c();for(const l of s){const c=a.elements=i.get(l.id);a.data=l;const u=xy.create(a);if(!u.isRenderable)continue;const d=u.render();u.contentElement.id=`${Wl}${l.id}`,l.hidden&&(d.style.visibility="hidden"),c.at(-1).container.after(d)}e.#l()})()}#c(){var t=this;return B(function*(){if(0===t.#o.length)return;t.div.replaceChildren();const e=[];if(!t.#a){t.#a=!0;for(const{contentElement:o,data:{id:i}}of t.#o){const s=o.id=`${Wl}${i}`;e.push(t.#s?.getAriaAttributes(s).then(a=>{if(a)for(const[l,c]of a)o.setAttribute(l,c)}))}}t.#o.sort(({data:{rect:[o,i,s,a]}},{data:{rect:[l,c,u,d]}})=>{if(o===s&&i===a)return 1;if(l===u&&c===d)return-1;const p=(i+a)/2,b=(c+d)/2;return p>=d&&b<=i?-1:b>=a&&p<=c?1:(o+s)/2-(l+u)/2});const r=document.createDocumentFragment();for(const o of t.#o)r.append(o.container),t._commentManager?(o.extraPopupElement?.popup||o.popup)?.renderCommentButton():o.extraPopupElement&&r.append(o.extraPopupElement.render());if(t.div.append(r),yield Promise.all(e),t.#e)for(const o of t.#o)t.#e.addPointerInTextLayer(o.contentElement,!1)})()}addLinkAnnotations(t){var e=this;return B(function*(){const r={data:null,layer:e.div,linkService:e.#i,svgFactory:new gp,parent:e};for(const o of t){o.borderStyle||=Oy._defaultBorderStyle,r.data=o;const i=xy.create(r);i.isRenderable&&(i.render(),i.contentElement.id=`${Wl}${o.id}`,e.#o.push(i))}yield e.#c()})()}update({viewport:t}){const e=this.div;this.viewport=t,ga(e,{rotation:t.rotation}),this.#l(),e.hidden=!1}#l(){if(!this.#t)return;const t=this.div;for(const[e,r]of this.#t){const o=t.querySelector(`[data-annotation-id="${e}"]`);if(!o)continue;r.className="annotationContent";const{firstChild:i}=o;i?"CANVAS"===i.nodeName?i.replaceWith(r):i.classList.contains("annotationContent")?i.after(r):i.before(r):o.append(r);const s=this.#n.get(e);s&&(s._hasNoCanvas?(this._annotationEditorUIManager?.setMissingCanvas(e,o.id,r),s._hasNoCanvas=!1):s.canvas=r)}this.#t.clear()}getEditableAnnotations(){return Array.from(this.#n.values())}getEditableAnnotation(t){return this.#n.get(t)}addFakeAnnotation(t){const{div:e}=this,{id:r,rotation:o}=t,i=new OU({data:{id:r,rect:t.getPDFRect(),rotation:o},editor:t,layer:e,parent:this,enableComment:!!this._commentManager,linkService:this.#i,annotationStorage:this.#r});return i.render(),i.contentElement.id=`${Wl}${r}`,i.createOrUpdatePopup(),this.#o.push(i),i}removeAnnotation(t){const e=this.#o.findIndex(o=>o.data.id===t);if(e<0)return;const[r]=this.#o.splice(e,1);this.#e?.removePointerInTextLayer(r.contentElement)}updateFakeAnnotations(t){if(0!==t.length){for(const e of t)e.updateFakeAnnotationElement(this);this.#c()}}togglePointerEvents(t=!1){this.div.classList.toggle("disabled",!t)}static get _defaultBorderStyle(){return Ue(this,"_defaultBorderStyle",Object.freeze({width:1,rawWidth:1,style:1,dashArray:[3],horizontalCornerRadius:0,verticalCornerRadius:0}))}}const mp=/\r\n?|\n/g;class sr extends _e{#e="";#t=`${this.id}-editor`;#r=null;#n;_colorPicker=null;static _freeTextDefaultContent="";static _internalPadding=0;static _defaultColor=null;static _defaultFontSize=10;static get _keyboardManager(){const t=sr.prototype,e=i=>i.isEmpty(),r=Hu.TRANSLATE_SMALL,o=Hu.TRANSLATE_BIG;return Ue(this,"_keyboardManager",new Bu([[["ctrl+s","mac+meta+s","ctrl+p","mac+meta+p"],t.commitOrRemove,{bubbles:!0}],[["ctrl+Enter","mac+meta+Enter","Escape","mac+Escape"],t.commitOrRemove],[["ArrowLeft","mac+ArrowLeft"],t._translateEmpty,{args:[-r,0],checker:e}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],t._translateEmpty,{args:[-o,0],checker:e}],[["ArrowRight","mac+ArrowRight"],t._translateEmpty,{args:[r,0],checker:e}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],t._translateEmpty,{args:[o,0],checker:e}],[["ArrowUp","mac+ArrowUp"],t._translateEmpty,{args:[0,-r],checker:e}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],t._translateEmpty,{args:[0,-o],checker:e}],[["ArrowDown","mac+ArrowDown"],t._translateEmpty,{args:[0,r],checker:e}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],t._translateEmpty,{args:[0,o],checker:e}]]))}static _type="freetext";static _editorType=We.FREETEXT;constructor(t){super({...t,name:"freeTextEditor"}),this.color=t.color||sr._defaultColor||_e._defaultLineColor,this.#n=t.fontSize||sr._defaultFontSize,this.annotationElementId||this._uiManager.a11yAlert("pdfjs-editor-freetext-added-alert"),this.canAddComment=!1}static initialize(t,e){_e.initialize(t,e);const r=getComputedStyle(document.documentElement);this._internalPadding=parseFloat(r.getPropertyValue("--freetext-padding"))}static updateDefaultParams(t,e){switch(t){case bt.FREETEXT_SIZE:sr._defaultFontSize=e;break;case bt.FREETEXT_COLOR:sr._defaultColor=e}}updateParams(t,e){switch(t){case bt.FREETEXT_SIZE:this.#s(e);break;case bt.FREETEXT_COLOR:this.#i(e)}}static get defaultPropertiesToUpdate(){return[[bt.FREETEXT_SIZE,sr._defaultFontSize],[bt.FREETEXT_COLOR,sr._defaultColor||_e._defaultLineColor]]}get propertiesToUpdate(){return[[bt.FREETEXT_SIZE,this.#n],[bt.FREETEXT_COLOR,this.color]]}get toolbarButtons(){return this._colorPicker||=new Wu(this),[["colorPicker",this._colorPicker]]}get colorType(){return bt.FREETEXT_COLOR}#s(t){const e=o=>{this.editorDiv.style.fontSize=`calc(${o}px * var(--total-scale-factor))`,this.translate(0,-(o-this.#n)*this.parentScale),this.#n=o,this.#a()},r=this.#n;this.addCommands({cmd:e.bind(this,t),undo:e.bind(this,r),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:bt.FREETEXT_SIZE,overwriteIfSameType:!0,keepUndo:!0})}onUpdatedColor(){this.editorDiv.style.color=this.color,this._colorPicker?.update(this.color),super.onUpdatedColor()}#i(t){const e=o=>{this.color=o,this.onUpdatedColor()},r=this.color;this.addCommands({cmd:e.bind(this,t),undo:e.bind(this,r),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:bt.FREETEXT_COLOR,overwriteIfSameType:!0,keepUndo:!0})}_translateEmpty(t,e){this._uiManager.translateSelectedEditors(t,e,!0)}getInitialTranslation(){const t=this.parentScale;return[-sr._internalPadding*t,-(sr._internalPadding+this.#n)*t]}rebuild(){this.parent&&(super.rebuild(),null!==this.div&&(this.isAttachedToDOM||this.parent.add(this)))}enableEditMode(){if(!super.enableEditMode())return!1;this.overlayDiv.classList.remove("enabled"),this.editorDiv.contentEditable=!0,this._isDraggable=!1,this.div.removeAttribute("aria-activedescendant"),this.#r=new AbortController;const t=this._uiManager.combinedSignal(this.#r);return this.editorDiv.addEventListener("keydown",this.editorDivKeydown.bind(this),{signal:t}),this.editorDiv.addEventListener("focus",this.editorDivFocus.bind(this),{signal:t}),this.editorDiv.addEventListener("blur",this.editorDivBlur.bind(this),{signal:t}),this.editorDiv.addEventListener("input",this.editorDivInput.bind(this),{signal:t}),this.editorDiv.addEventListener("paste",this.editorDivPaste.bind(this),{signal:t}),!0}disableEditMode(){return!!super.disableEditMode()&&(this.overlayDiv.classList.add("enabled"),this.editorDiv.contentEditable=!1,this.div.setAttribute("aria-activedescendant",this.#t),this._isDraggable=!0,this.#r?.abort(),this.#r=null,this.div.focus({preventScroll:!0}),this.isEditing=!1,this.parent.div.classList.add("freetextEditing"),!0)}focusin(t){this._focusEventsAllowed&&(super.focusin(t),t.target!==this.editorDiv&&this.editorDiv.focus())}onceAdded(t){this.width||(this.enableEditMode(),t&&this.editorDiv.focus(),this._initialOptions?.isCentered&&this.center(),this._initialOptions=null)}isEmpty(){return!this.editorDiv||""===this.editorDiv.innerText.trim()}remove(){this.isEditing=!1,this.parent&&(this.parent.setEditingState(!0),this.parent.div.classList.add("freetextEditing")),super.remove()}#o(){const t=[];this.editorDiv.normalize();let e=null;for(const r of this.editorDiv.childNodes)e?.nodeType===Node.TEXT_NODE&&"BR"===r.nodeName||(t.push(sr.#c(r)),e=r);return t.join("\n")}#a(){const[t,e]=this.parentDimensions;let r;if(this.isAttachedToDOM)r=this.div.getBoundingClientRect();else{const{currentLayer:o,div:i}=this,s=i.style.display,a=i.classList.contains("hidden");i.classList.remove("hidden"),i.style.display="hidden",o.div.append(this.div),r=i.getBoundingClientRect(),i.remove(),i.style.display=s,i.classList.toggle("hidden",a)}this.rotation%180==this.parentRotation%180?(this.width=r.width/t,this.height=r.height/e):(this.width=r.height/t,this.height=r.width/e),this.fixAndSetPosition()}commit(){if(!this.isInEditMode())return;super.commit(),this.disableEditMode();const t=this.#e,e=this.#e=this.#o().trimEnd();if(t===e)return;const r=o=>{this.#e=o,o?(this.#l(),this._uiManager.rebuild(this),this.#a()):this.remove()};this.addCommands({cmd:()=>{r(e)},undo:()=>{r(t)},mustExec:!1}),this.#a()}shouldGetKeyboardEvents(){return this.isInEditMode()}enterInEditMode(){this.enableEditMode(),this.editorDiv.focus()}keydown(t){t.target===this.div&&"Enter"===t.key&&(this.enterInEditMode(),t.preventDefault())}editorDivKeydown(t){sr._keyboardManager.exec(this,t)}editorDivFocus(t){this.isEditing=!0}editorDivBlur(t){this.isEditing=!1}editorDivInput(t){this.parent.div.classList.toggle("freetextEditing",this.isEmpty())}disableEditing(){this.editorDiv.setAttribute("role","comment"),this.editorDiv.removeAttribute("aria-multiline")}enableEditing(){this.editorDiv.setAttribute("role","textbox"),this.editorDiv.setAttribute("aria-multiline",!0)}get canChangeContent(){return!0}render(){if(this.div)return this.div;let t,e;(this._isCopy||this.annotationElementId)&&(t=this.x,e=this.y),super.render(),this.editorDiv=document.createElement("div"),this.editorDiv.className="internal",this.editorDiv.setAttribute("id",this.#t),this.editorDiv.setAttribute("data-l10n-id","pdfjs-free-text2"),this.editorDiv.setAttribute("data-l10n-attrs","default-content"),this.enableEditing(),this.editorDiv.contentEditable=!0;const{style:r}=this.editorDiv;if(r.fontSize=`calc(${this.#n}px * var(--total-scale-factor))`,r.color=this.color,this.div.append(this.editorDiv),this.overlayDiv=document.createElement("div"),this.overlayDiv.classList.add("overlay","enabled"),this.div.append(this.overlayDiv),this._isCopy||this.annotationElementId){const[o,i]=this.parentDimensions;if(this.annotationElementId){const{position:s}=this._initialData;let[a,l]=this.getInitialTranslation();[a,l]=this.pageTranslationToScreen(a,l);const[c,u]=this.pageDimensions,[d,h]=this.pageTranslation;let f,p;switch(this.rotation){case 0:f=t+(s[0]-d)/c,p=e+this.height-(s[1]-h)/u;break;case 90:f=t+(s[0]-d)/c,p=e-(s[1]-h)/u,[a,l]=[l,-a];break;case 180:f=t-this.width+(s[0]-d)/c,p=e-(s[1]-h)/u,[a,l]=[-a,-l];break;case 270:f=t+(s[0]-d-this.height*u)/c,p=e+(s[1]-h-this.width*c)/u,[a,l]=[-l,a]}this.setAt(f*o,p*i,a,l)}else this._moveAfterPaste(t,e);this.#l(),this._isDraggable=!0,this.editorDiv.contentEditable=!1}else this._isDraggable=!1,this.editorDiv.contentEditable=!0;return this.div}static#c(t){return(t.nodeType===Node.TEXT_NODE?t.nodeValue:t.innerText).replaceAll(mp,"")}editorDivPaste(t){const e=t.clipboardData||window.clipboardData,{types:r}=e;if(1===r.length&&"text/plain"===r[0])return;t.preventDefault();const o=sr.#d(e.getData("text")||"").replaceAll(mp,"\n");if(!o)return;const i=window.getSelection();if(!i.rangeCount)return;this.editorDiv.normalize(),i.deleteFromDocument();const s=i.getRangeAt(0);if(!o.includes("\n"))return s.insertNode(document.createTextNode(o)),this.editorDiv.normalize(),void i.collapseToStart();const{startContainer:a,startOffset:l}=s,c=[],u=[];if(a.nodeType===Node.TEXT_NODE){const f=a.parentElement;if(u.push(a.nodeValue.slice(l).replaceAll(mp,"")),f!==this.editorDiv){let p=c;for(const g of this.editorDiv.childNodes)g!==f?p.push(sr.#c(g)):p=u}c.push(a.nodeValue.slice(0,l).replaceAll(mp,""))}else if(a===this.editorDiv){let f=c,p=0;for(const g of this.editorDiv.childNodes)p++===l&&(f=u),f.push(sr.#c(g))}this.#e=`${c.join("\n")}${o}${u.join("\n")}`,this.#l();const d=new Range;let h=Math.sumPrecise(c.map(f=>f.length));for(const{firstChild:f}of this.editorDiv.childNodes)if(f.nodeType===Node.TEXT_NODE){const p=f.nodeValue.length;if(h<=p){d.setStart(f,h),d.setEnd(f,h);break}h-=p}i.removeAllRanges(),i.addRange(d)}#l(){if(this.editorDiv.replaceChildren(),this.#e)for(const t of this.#e.split("\n")){const e=document.createElement("div");e.append(t?document.createTextNode(t):document.createElement("br")),this.editorDiv.append(e)}}#h(){return this.#e.replaceAll("\xa0"," ")}static#d(t){return t.replaceAll(" ","\xa0")}get contentDiv(){return this.editorDiv}getPDFRect(){const t=sr._internalPadding*this.parentScale;return this.getRect(t,t)}static deserialize(t,e,r){var o=()=>super.deserialize,i=this;return B(function*(){let s=null;if(t instanceof QI){const{data:{defaultAppearanceData:{fontSize:l,fontColor:c},rect:u,rotation:d,id:h,popupRef:f,richText:p,contentsObj:g,creationDate:m,modificationDate:b},textContent:v,textPosition:y,parent:{page:{pageNumber:C}}}=t;if(!v||0===v.length)return null;s=t={annotationType:We.FREETEXT,color:Array.from(c),fontSize:l,value:v.join("\n"),position:y,pageIndex:C-1,rect:u.slice(0),rotation:d,annotationElementId:h,id:h,deleted:!1,popupRef:f,comment:g?.str||null,richText:p,creationDate:m,modificationDate:b}}const a=yield o().call(i,t,e,r);return a.#n=t.fontSize,a.color=he.makeHexColor(...t.color),a.#e=sr.#d(t.value),a._initialData=s,t.comment&&a.setCommentData(t),a})()}serialize(t=!1){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const e=_e._colorManager.convert(this.isAttachedToDOM?getComputedStyle(this.editorDiv).color:this.color),r=Object.assign(super.serialize(t),{color:e,fontSize:this.#n,value:this.#h()});return this.addComment(r),t?(r.isCopy=!0,r):this.annotationElementId&&!this.#f(r)?null:(r.id=this.annotationElementId,r)}#f(t){const{value:e,fontSize:r,color:o,pageIndex:i}=this._initialData;return this.hasEditedComment||this._hasBeenMoved||t.value!==e||t.fontSize!==r||t.color.some((s,a)=>s!==o[a])||t.pageIndex!==i}renderAnnotationElement(t){const e=super.renderAnnotationElement(t);if(!e)return null;const{style:r}=e;r.fontSize=`calc(${this.#n}px * var(--total-scale-factor))`,r.color=this.color,e.replaceChildren();for(const o of this.#e.split("\n")){const i=document.createElement("div");i.append(o?document.createTextNode(o):document.createElement("br")),e.append(i)}return t.updateEdited({rect:this.getPDFRect(),popup:this._uiManager.hasCommentManager()||this.hasEditedComment?this.comment:{text:this.#e}}),e}resetAnnotationElement(t){super.resetAnnotationElement(t),t.resetEdited()}}let ce=(()=>class n{static PRECISION=1e-4;toSVGPath(){Jt("Abstract method `toSVGPath` must be implemented.")}get box(){Jt("Abstract getter `box` must be implemented.")}serialize(e,r){Jt("Abstract method `serialize` must be implemented.")}static _rescale(e,r,o,i,s,a){a||=new Float32Array(e.length);for(let l=0,c=e.length;l<c;l+=2)a[l]=r+e[l]*i,a[l+1]=o+e[l+1]*s;return a}static _rescaleAndSwap(e,r,o,i,s,a){a||=new Float32Array(e.length);for(let l=0,c=e.length;l<c;l+=2)a[l]=r+e[l+1]*i,a[l+1]=o+e[l]*s;return a}static _translate(e,r,o,i){i||=new Float32Array(e.length);for(let s=0,a=e.length;s<a;s+=2)i[s]=r+e[s],i[s+1]=o+e[s+1];return i}static svgRound(e){return Math.round(1e4*e)}static _normalizePoint(e,r,o,i,s){switch(s){case 90:return[1-r/o,e/i];case 180:return[1-e/o,1-r/i];case 270:return[r/o,1-e/i];default:return[e/o,r/i]}}static _normalizePagePoint(e,r,o){switch(o){case 90:return[1-r,e];case 180:return[1-e,1-r];case 270:return[r,1-e];default:return[e,r]}}static createBezierPoints(e,r,o,i,s,a){return[(e+5*o)/6,(r+5*i)/6,(5*o+s)/6,(5*i+a)/6,(o+s)/2,(i+a)/2]}})();class va{#e;#t=[];#r;#n;#s=[];#i=new Float32Array(18);#o;#a;#c;#l;#h;#d;#f=[];static#m=8;static#g=2;static#u=va.#m+va.#g;constructor({x:t,y:e},r,o,i,s,a=0){this.#e=r,this.#d=i*o,this.#n=s,this.#i.set([NaN,NaN,NaN,NaN,t,e],6),this.#r=a,this.#l=va.#m*o,this.#c=va.#u*o,this.#h=o,this.#f.push(t,e)}isEmpty(){return isNaN(this.#i[8])}#p(){const t=this.#i.subarray(4,6),e=this.#i.subarray(16,18),[r,o,i,s]=this.#e;return[(this.#o+(t[0]-e[0])/2-r)/i,(this.#a+(t[1]-e[1])/2-o)/s,(this.#o+(e[0]-t[0])/2-r)/i,(this.#a+(e[1]-t[1])/2-o)/s]}add({x:t,y:e}){this.#o=t,this.#a=e;const[r,o,i,s]=this.#e;let[a,l,c,u]=this.#i.subarray(8,12);const d=t-c,h=e-u,f=Math.hypot(d,h);if(f<this.#c)return!1;const p=f-this.#l,g=p/f,m=g*d,b=g*h;let v=a,y=l;a=c,l=u,c+=m,u+=b,this.#f?.push(t,e);const w=-b/p*this.#d,k=m/p*this.#d;return this.#i.set(this.#i.subarray(2,8),0),this.#i.set([c+w,u+k],4),this.#i.set(this.#i.subarray(14,18),12),this.#i.set([c-w,u-k],16),isNaN(this.#i[6])?(0===this.#s.length&&(this.#i.set([a+w,l+k],2),this.#s.push(NaN,NaN,NaN,NaN,(a+w-r)/i,(l+k-o)/s),this.#i.set([a-w,l-k],14),this.#t.push(NaN,NaN,NaN,NaN,(a-w-r)/i,(l-k-o)/s)),this.#i.set([v,y,a,l,c,u],6),!this.isEmpty()):(this.#i.set([v,y,a,l,c,u],6),Math.abs(Math.atan2(y-l,v-a)-Math.atan2(b,m))<Math.PI/2?([a,l,c,u]=this.#i.subarray(2,6),this.#s.push(NaN,NaN,NaN,NaN,((a+c)/2-r)/i,((l+u)/2-o)/s),[a,l,v,y]=this.#i.subarray(14,18),this.#t.push(NaN,NaN,NaN,NaN,((v+a)/2-r)/i,((y+l)/2-o)/s),!0):([v,y,a,l,c,u]=this.#i.subarray(0,6),this.#s.push(((v+5*a)/6-r)/i,((y+5*l)/6-o)/s,((5*a+c)/6-r)/i,((5*l+u)/6-o)/s,((a+c)/2-r)/i,((l+u)/2-o)/s),[c,u,a,l,v,y]=this.#i.subarray(12,18),this.#t.push(((v+5*a)/6-r)/i,((y+5*l)/6-o)/s,((5*a+c)/6-r)/i,((5*l+u)/6-o)/s,((a+c)/2-r)/i,((l+u)/2-o)/s),!0))}toSVGPath(){if(this.isEmpty())return"";const t=this.#s,e=this.#t;if(isNaN(this.#i[6])&&!this.isEmpty())return this.#b();const r=[];r.push(`M${t[4]} ${t[5]}`);for(let o=6;o<t.length;o+=6)isNaN(t[o])?r.push(`L${t[o+4]} ${t[o+5]}`):r.push(`C${t[o]} ${t[o+1]} ${t[o+2]} ${t[o+3]} ${t[o+4]} ${t[o+5]}`);this.#v(r);for(let o=e.length-6;o>=6;o-=6)isNaN(e[o])?r.push(`L${e[o+4]} ${e[o+5]}`):r.push(`C${e[o]} ${e[o+1]} ${e[o+2]} ${e[o+3]} ${e[o+4]} ${e[o+5]}`);return this.#y(r),r.join(" ")}#b(){const[t,e,r,o]=this.#e,[i,s,a,l]=this.#p();return`M${(this.#i[2]-t)/r} ${(this.#i[3]-e)/o} L${(this.#i[4]-t)/r} ${(this.#i[5]-e)/o} L${i} ${s} L${a} ${l} L${(this.#i[16]-t)/r} ${(this.#i[17]-e)/o} L${(this.#i[14]-t)/r} ${(this.#i[15]-e)/o} Z`}#y(t){const e=this.#t;t.push(`L${e[4]} ${e[5]} Z`)}#v(t){const[e,r,o,i]=this.#e,s=this.#i.subarray(4,6),a=this.#i.subarray(16,18),[l,c,u,d]=this.#p();t.push(`L${(s[0]-e)/o} ${(s[1]-r)/i} L${l} ${c} L${u} ${d} L${(a[0]-e)/o} ${(a[1]-r)/i}`)}newFreeDrawOutline(t,e,r,o,i,s){return new nx(t,e,r,o,i,s)}getOutlines(){const t=this.#s,e=this.#t,r=this.#i,[o,i,s,a]=this.#e,l=new Float32Array((this.#f?.length??0)+2);for(let d=0,h=l.length-2;d<h;d+=2)l[d]=(this.#f[d]-o)/s,l[d+1]=(this.#f[d+1]-i)/a;if(l[l.length-2]=(this.#o-o)/s,l[l.length-1]=(this.#a-i)/a,isNaN(r[6])&&!this.isEmpty())return this.#S(l);const c=new Float32Array(this.#s.length+24+this.#t.length);let u=t.length;for(let d=0;d<u;d+=2)isNaN(t[d])?c[d]=c[d+1]=NaN:(c[d]=t[d],c[d+1]=t[d+1]);u=this.#C(c,u);for(let d=e.length-6;d>=6;d-=6)for(let h=0;h<6;h+=2)isNaN(e[d+h])?(c[u]=c[u+1]=NaN,u+=2):(c[u]=e[d+h],c[u+1]=e[d+h+1],u+=2);return this.#E(c,u),this.newFreeDrawOutline(c,l,this.#e,this.#h,this.#r,this.#n)}#S(t){const e=this.#i,[r,o,i,s]=this.#e,[a,l,c,u]=this.#p(),d=new Float32Array(36);return d.set([NaN,NaN,NaN,NaN,(e[2]-r)/i,(e[3]-o)/s,NaN,NaN,NaN,NaN,(e[4]-r)/i,(e[5]-o)/s,NaN,NaN,NaN,NaN,a,l,NaN,NaN,NaN,NaN,c,u,NaN,NaN,NaN,NaN,(e[16]-r)/i,(e[17]-o)/s,NaN,NaN,NaN,NaN,(e[14]-r)/i,(e[15]-o)/s],0),this.newFreeDrawOutline(d,t,this.#e,this.#h,this.#r,this.#n)}#E(t,e){const r=this.#t;return t.set([NaN,NaN,NaN,NaN,r[4],r[5]],e),e+6}#C(t,e){const r=this.#i.subarray(4,6),o=this.#i.subarray(16,18),[i,s,a,l]=this.#e,[c,u,d,h]=this.#p();return t.set([NaN,NaN,NaN,NaN,(r[0]-i)/a,(r[1]-s)/l,NaN,NaN,NaN,NaN,c,u,NaN,NaN,NaN,NaN,d,h,NaN,NaN,NaN,NaN,(o[0]-i)/a,(o[1]-s)/l],e),e+24}}class nx extends ce{#e;#t=new Float32Array(4);#r;#n;#s;#i;#o;constructor(t,e,r,o,i,s){super(),this.#o=t,this.#s=e,this.#e=r,this.#i=o,this.#r=i,this.#n=s,this.firstPoint=[NaN,NaN],this.lastPoint=[NaN,NaN],this.#a(s);const[a,l,c,u]=this.#t;for(let d=0,h=t.length;d<h;d+=2)t[d]=(t[d]-a)/c,t[d+1]=(t[d+1]-l)/u;for(let d=0,h=e.length;d<h;d+=2)e[d]=(e[d]-a)/c,e[d+1]=(e[d+1]-l)/u}toSVGPath(){const t=[`M${this.#o[4]} ${this.#o[5]}`];for(let e=6,r=this.#o.length;e<r;e+=6)isNaN(this.#o[e])?t.push(`L${this.#o[e+4]} ${this.#o[e+5]}`):t.push(`C${this.#o[e]} ${this.#o[e+1]} ${this.#o[e+2]} ${this.#o[e+3]} ${this.#o[e+4]} ${this.#o[e+5]}`);return t.push("Z"),t.join(" ")}serialize([t,e,r,o],i){const s=r-t,a=o-e;let l,c;switch(i){case 0:l=ce._rescale(this.#o,t,o,s,-a),c=ce._rescale(this.#s,t,o,s,-a);break;case 90:l=ce._rescaleAndSwap(this.#o,t,e,s,a),c=ce._rescaleAndSwap(this.#s,t,e,s,a);break;case 180:l=ce._rescale(this.#o,r,e,-s,a),c=ce._rescale(this.#s,r,e,-s,a);break;case 270:l=ce._rescaleAndSwap(this.#o,r,o,-s,-a),c=ce._rescaleAndSwap(this.#s,r,o,-s,-a)}return{outline:Array.from(l),points:[Array.from(c)]}}#a(t){const e=this.#o;let r=e[4],o=e[5];const i=[r,o,r,o];let s=r,a=o,l=r,c=o;const u=t?Math.max:Math.min,d=new Float32Array(4);for(let f=6,p=e.length;f<p;f+=6){const g=e[f+4],m=e[f+5];isNaN(e[f])?(he.pointBoundingBox(g,m,i),a>m?(s=g,a=m):a===m&&(s=u(s,g)),c<m?(l=g,c=m):c===m&&(l=u(l,g))):(d[0]=d[1]=1/0,d[2]=d[3]=-1/0,he.bezierBoundingBox(r,o,...e.slice(f,f+6),d),he.rectBoundingBox(d[0],d[1],d[2],d[3],i),a>d[1]?(s=d[0],a=d[1]):a===d[1]&&(s=u(s,d[0])),c<d[3]?(l=d[2],c=d[3]):c===d[3]&&(l=u(l,d[2]))),r=g,o=m}const h=this.#t;h[0]=i[0]-this.#r,h[1]=i[1]-this.#r,h[2]=i[2]-i[0]+2*this.#r,h[3]=i[3]-i[1]+2*this.#r,this.firstPoint=[s,a],this.lastPoint=[l,c]}get box(){return this.#t}newOutliner(t,e,r,o,i,s=0){return new va(t,e,r,o,i,s)}getNewOutline(t,e){const[r,o,i,s]=this.#t,[a,l,c,u]=this.#e,d=i*c,h=s*u,f=r*c+a,p=o*u+l,g=this.newOutliner({x:this.#s[0]*d+f,y:this.#s[1]*h+p},this.#e,this.#i,t,this.#n,e??this.#r);for(let m=2;m<this.#s.length;m+=2)g.add({x:this.#s[m]*d+f,y:this.#s[m+1]*h+p});return g.getOutlines()}}class Ly{#e;#t;#r;#n=[];#s=[];constructor(t,e=0,r=0,o=!0){const i=[1/0,1/0,-1/0,-1/0],a=10**-4;for(const{x:m,y:b,width:v,height:y}of t){const C=Math.floor((m-e)/a)*a,_=Math.ceil((m+v+e)/a)*a,w=Math.floor((b-e)/a)*a,k=Math.ceil((b+y+e)/a)*a;this.#n.push([C,w,k,!0],[_,w,k,!1]),he.rectBoundingBox(C,w,_,k,i)}const l=i[2]-i[0]+2*r,c=i[3]-i[1]+2*r,u=i[0]-r,d=i[1]-r;let h=o?-1/0:1/0,f=1/0;const p=this.#n.at(o?-1:-2),g=[p[0],p[2]];for(const m of this.#n){const[b,v,y,C]=m;!C&&o?v<f?(f=v,h=b):v===f&&(h=Math.max(h,b)):C&&!o&&(v<f?(f=v,h=b):v===f&&(h=Math.min(h,b))),m[0]=(b-u)/l,m[1]=(v-d)/c,m[2]=(y-d)/c}this.#e=new Float32Array([u,d,l,c]),this.#t=[h,f],this.#r=g}getOutlines(){this.#n.sort((e,r)=>e[0]-r[0]||e[1]-r[1]||e[2]-r[2]);const t=[];for(const e of this.#n)e[3]?(t.push(...this.#l(e)),this.#a(e)):(this.#c(e),t.push(...this.#l(e)));return this.#i(t)}#i(t){const e=[],r=new Set;for(const s of t){const[a,l,c]=s;e.push([a,l,s],[a,c,s])}e.sort((s,a)=>s[1]-a[1]||s[0]-a[0]);for(let s=0,a=e.length;s<a;s+=2){const l=e[s][2],c=e[s+1][2];l.push(c),c.push(l),r.add(l),r.add(c)}const o=[];let i;for(;r.size>0;){const s=r.values().next().value;let[a,l,c,u,d]=s;r.delete(s);let h=a,f=l;for(i=[a,c],o.push(i);;){let p;if(r.has(u))p=u;else{if(!r.has(d))break;p=d}r.delete(p),[a,l,c,u,d]=p,h!==a&&(i.push(h,f,a,f===l?l:c),h=a),f=f===l?c:l}i.push(h,f)}return new ZU(o,this.#e,this.#t,this.#r)}#o(t){const e=this.#s;let r=0,o=e.length-1;for(;r<=o;){const i=r+o>>1,s=e[i][0];if(s===t)return i;s<t?r=i+1:o=i-1}return o+1}#a([,t,e]){const r=this.#o(t);this.#s.splice(r,0,[t,e])}#c([,t,e]){const r=this.#o(t);for(let o=r;o<this.#s.length;o++){const[i,s]=this.#s[o];if(i!==t)break;if(i===t&&s===e)return void this.#s.splice(o,1)}for(let o=r-1;o>=0;o--){const[i,s]=this.#s[o];if(i!==t)break;if(i===t&&s===e)return void this.#s.splice(o,1)}}#l(t){const[e,r,o]=t,i=[[e,r,o]],s=this.#o(o);for(let a=0;a<s;a++){const[l,c]=this.#s[a];for(let u=0,d=i.length;u<d;u++){const[,h,f]=i[u];if(!(c<=h||f<=l)){if(h>=l){if(f>c)i[u][1]=c;else{if(1===d)return[];i.splice(u,1),u--,d--}continue}i[u][2]=l,f>c&&i.push([e,c,f])}}}return i}}class ZU extends ce{#e;#t;constructor(t,e,r,o){super(),this.#t=t,this.#e=e,this.firstPoint=r,this.lastPoint=o}toSVGPath(){const t=[];for(const e of this.#t){let[r,o]=e;t.push(`M${r} ${o}`);for(let i=2;i<e.length;i+=2){const s=e[i],a=e[i+1];s===r?(t.push(`V${a}`),o=a):a===o&&(t.push(`H${s}`),r=s)}t.push("Z")}return t.join(" ")}serialize([t,e,r,o],i){const s=[],a=r-t,l=o-e;for(const c of this.#t){const u=new Array(c.length);for(let d=0;d<c.length;d+=2)u[d]=t+c[d]*a,u[d+1]=o-c[d+1]*l;s.push(u)}return s}get box(){return this.#e}get classNamesForOutlining(){return["highlightOutline"]}}class Py extends va{newFreeDrawOutline(t,e,r,o,i,s){return new QU(t,e,r,o,i,s)}}class QU extends nx{newOutliner(t,e,r,o,i,s=0){return new Py(t,e,r,o,i,s)}}class jn extends _e{#e=null;#t=0;#r;#n=null;#s=null;#i=null;#o=null;#a=0;#c=null;#l=null;#h=null;#d=!1;#f=null;#m=null;#g=null;#u="";#p;#b="";static _defaultColor=null;static _defaultOpacity=1;static _defaultThickness=12;static _type="highlight";static _editorType=We.HIGHLIGHT;static _freeHighlightId=-1;static _freeHighlight=null;static _freeHighlightClipId="";static get _keyboardManager(){const t=jn.prototype;return Ue(this,"_keyboardManager",new Bu([[["ArrowLeft","mac+ArrowLeft"],t._moveCaret,{args:[0]}],[["ArrowRight","mac+ArrowRight"],t._moveCaret,{args:[1]}],[["ArrowUp","mac+ArrowUp"],t._moveCaret,{args:[2]}],[["ArrowDown","mac+ArrowDown"],t._moveCaret,{args:[3]}]]))}constructor(t){super({...t,name:"highlightEditor"}),this.color=t.color||jn._defaultColor,this.#p=t.thickness||jn._defaultThickness,this.opacity=t.opacity||jn._defaultOpacity,this.#r=t.boxes||null,this.#b=t.methodOfCreation||"",this.#u=t.text||"",this._isDraggable=!1,this.defaultL10nId="pdfjs-editor-highlight-editor",t.highlightId>-1?(this.#d=!0,this.#v(t),this.#_()):this.#r&&(this.#e=t.anchorNode,this.#t=t.anchorOffset,this.#o=t.focusNode,this.#a=t.focusOffset,this.#y(),this.#_(),this.rotate(this.rotation)),this.annotationElementId||this._uiManager.a11yAlert("pdfjs-editor-highlight-added-alert")}get telemetryInitialData(){return{action:"added",type:this.#d?"free_highlight":"highlight",color:this._uiManager.getNonHCMColorName(this.color),thickness:this.#p,methodOfCreation:this.#b}}get telemetryFinalData(){return{type:"highlight",color:this._uiManager.getNonHCMColorName(this.color)}}static computeTelemetryFinalData(t){return{numberOfColors:t.get("color").size}}#y(){const t=new Ly(this.#r,.001);this.#l=t.getOutlines(),[this.x,this.y,this.width,this.height]=this.#l.box;const e=new Ly(this.#r,.0025,.001,"ltr"===this._uiManager.direction);this.#i=e.getOutlines();const{firstPoint:r}=this.#l;this.#f=[(r[0]-this.x)/this.width,(r[1]-this.y)/this.height];const{lastPoint:o}=this.#i;this.#m=[(o[0]-this.x)/this.width,(o[1]-this.y)/this.height]}#v({highlightOutlines:t,highlightId:e,clipPathId:r}){if(this.#l=t,this.#i=t.getNewOutline(this.#p/2+1.5,.0025),e>=0)this.#h=e,this.#n=r,this.parent.drawLayer.finalizeDraw(e,{bbox:t.box,path:{d:t.toSVGPath()}}),this.#g=this.parent.drawLayer.drawOutline({rootClass:{highlightOutline:!0,free:!0},bbox:this.#i.box,path:{d:this.#i.toSVGPath()}},!0);else if(this.parent){const d=this.parent.viewport.rotation;this.parent.drawLayer.updateProperties(this.#h,{bbox:jn.#D(this.#l.box,(d-this.rotation+360)%360),path:{d:t.toSVGPath()}}),this.parent.drawLayer.updateProperties(this.#g,{bbox:jn.#D(this.#i.box,d),path:{d:this.#i.toSVGPath()}})}const[i,s,a,l]=t.box;switch(this.rotation){case 0:this.x=i,this.y=s,this.width=a,this.height=l;break;case 90:{const[d,h]=this.parentDimensions;this.x=s,this.y=1-i,this.width=a*h/d,this.height=l*d/h;break}case 180:this.x=1-i,this.y=1-s,this.width=a,this.height=l;break;case 270:{const[d,h]=this.parentDimensions;this.x=1-s,this.y=i,this.width=a*h/d,this.height=l*d/h;break}}const{firstPoint:c}=t;this.#f=[(c[0]-i)/a,(c[1]-s)/l];const{lastPoint:u}=this.#i;this.#m=[(u[0]-i)/a,(u[1]-s)/l]}static initialize(t,e){_e.initialize(t,e),jn._defaultColor||=e.highlightColors?.values().next().value||"#fff066"}static updateDefaultParams(t,e){switch(t){case bt.HIGHLIGHT_COLOR:jn._defaultColor=e;break;case bt.HIGHLIGHT_THICKNESS:jn._defaultThickness=e}}translateInPage(t,e){}get toolbarPosition(){return this.#m}get commentButtonPosition(){return this.#f}updateParams(t,e){switch(t){case bt.HIGHLIGHT_COLOR:this.#S(e);break;case bt.HIGHLIGHT_THICKNESS:this.#E(e)}}static get defaultPropertiesToUpdate(){return[[bt.HIGHLIGHT_COLOR,jn._defaultColor],[bt.HIGHLIGHT_THICKNESS,jn._defaultThickness]]}get propertiesToUpdate(){return[[bt.HIGHLIGHT_COLOR,this.color||jn._defaultColor],[bt.HIGHLIGHT_THICKNESS,this.#p||jn._defaultThickness],[bt.HIGHLIGHT_FREE,this.#d]]}onUpdatedColor(){this.parent?.drawLayer.updateProperties(this.#h,{root:{fill:this.color,"fill-opacity":this.opacity}}),this.#s?.updateColor(this.color),super.onUpdatedColor()}#S(t){const e=(i,s)=>{this.color=i,this.opacity=s,this.onUpdatedColor()},r=this.color,o=this.opacity;this.addCommands({cmd:e.bind(this,t,jn._defaultOpacity),undo:e.bind(this,r,o),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:bt.HIGHLIGHT_COLOR,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"color_changed",color:this._uiManager.getNonHCMColorName(t)},!0)}#E(t){const e=this.#p,r=o=>{this.#p=o,this.#C(o)};this.addCommands({cmd:r.bind(this,t),undo:r.bind(this,e),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:bt.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"thickness_changed",thickness:t},!0)}get toolbarButtons(){return this._uiManager.highlightColors?[["colorPicker",this.#s=new jo({editor:this})]]:super.toolbarButtons}disableEditing(){super.disableEditing(),this.div.classList.toggle("disabled",!0)}enableEditing(){super.enableEditing(),this.div.classList.toggle("disabled",!1)}fixAndSetPosition(){return super.fixAndSetPosition(this.#I())}getBaseTranslation(){return[0,0]}getRect(t,e){return super.getRect(t,e,this.#I())}onceAdded(t){this.annotationElementId||this.parent.addUndoableEditor(this),t&&this.div.focus()}remove(){this.#T(),this._reportTelemetry({action:"deleted"}),super.remove()}rebuild(){this.parent&&(super.rebuild(),null!==this.div&&(this.#_(),this.isAttachedToDOM||this.parent.add(this)))}setParent(t){let e=!1;this.parent&&!t?this.#T():t&&(this.#_(t),e=!this.parent&&this.div?.classList.contains("selectedEditor")),super.setParent(t),this.show(this._isVisible),e&&this.select()}#C(t){this.#d&&(this.#v({highlightOutlines:this.#l.getNewOutline(t/2)}),this.fixAndSetPosition(),this.setDims())}#T(){null===this.#h||!this.parent||(this.parent.drawLayer.remove(this.#h),this.#h=null,this.parent.drawLayer.remove(this.#g),this.#g=null)}#_(t=this.parent){null===this.#h&&(({id:this.#h,clipPathId:this.#n}=t.drawLayer.draw({bbox:this.#l.box,root:{viewBox:"0 0 1 1",fill:this.color,"fill-opacity":this.opacity},rootClass:{highlight:!0,free:this.#d},path:{d:this.#l.toSVGPath()}},!1,!0)),this.#g=t.drawLayer.drawOutline({rootClass:{highlightOutline:!0,free:this.#d},bbox:this.#i.box,path:{d:this.#i.toSVGPath()}},this.#d),this.#c&&(this.#c.style.clipPath=this.#n))}static#D([t,e,r,o],i){switch(i){case 90:return[1-e-o,t,o,r];case 180:return[1-t-r,1-e-o,r,o];case 270:return[e,1-t-r,o,r]}return[t,e,r,o]}rotate(t){const{drawLayer:e}=this.parent;let r;r=this.#d?jn.#D(this.#l.box,t=(t-this.rotation+360)%360):jn.#D([this.x,this.y,this.width,this.height],t),e.updateProperties(this.#h,{bbox:r,root:{"data-main-rotation":t}}),e.updateProperties(this.#g,{bbox:jn.#D(this.#i.box,t),root:{"data-main-rotation":t}})}render(){if(this.div)return this.div;const t=super.render();this.#u&&(t.setAttribute("aria-label",this.#u),t.setAttribute("role","mark")),this.#d?t.classList.add("free"):this.div.addEventListener("keydown",this.#x.bind(this),{signal:this._uiManager._signal});const e=this.#c=document.createElement("div");return t.append(e),e.setAttribute("aria-hidden","true"),e.className="internal",e.style.clipPath=this.#n,this.setDims(),dI(this,this.#c,["pointerover","pointerleave"]),this.enableEditing(),t}pointerover(){this.isSelected||this.parent?.drawLayer.updateProperties(this.#g,{rootClass:{hovered:!0}})}pointerleave(){this.isSelected||this.parent?.drawLayer.updateProperties(this.#g,{rootClass:{hovered:!1}})}#x(t){jn._keyboardManager.exec(this,t)}_moveCaret(t){switch(this.parent.unselect(this),t){case 0:case 2:this.#A(!0);break;case 1:case 3:this.#A(!1)}}#A(t){if(!this.#e)return;const e=window.getSelection();t?e.setPosition(this.#e,this.#t):e.setPosition(this.#o,this.#a)}select(){super.select(),this.#g&&this.parent?.drawLayer.updateProperties(this.#g,{rootClass:{hovered:!1,selected:!0}})}unselect(){super.unselect(),this.#g&&(this.parent?.drawLayer.updateProperties(this.#g,{rootClass:{selected:!1}}),this.#d||this.#A(!1))}get _mustFixPosition(){return!this.#d}show(t=this._isVisible){super.show(t),this.parent&&(this.parent.drawLayer.updateProperties(this.#h,{rootClass:{hidden:!t}}),this.parent.drawLayer.updateProperties(this.#g,{rootClass:{hidden:!t}}))}#I(){return this.#d?this.rotation:0}#F(){if(this.#d)return null;const[t,e]=this.pageDimensions,[r,o]=this.pageTranslation,i=this.#r,s=new Float32Array(8*i.length);let a=0;for(const{x:l,y:c,width:u,height:d}of i){const h=l*t+r,f=(1-c)*e+o;s[a]=s[a+4]=h,s[a+1]=s[a+3]=f,s[a+2]=s[a+6]=h+u*t,s[a+5]=s[a+7]=f-d*e,a+=8}return s}#R(t){return this.#l.serialize(t,this.#I())}static startHighlighting(t,e,{target:r,x:o,y:i}){const{x:s,y:a,width:l,height:c}=r.getBoundingClientRect(),u=new AbortController,d=t.combinedSignal(u),h=f=>{u.abort(),this.#B(t,f)};window.addEventListener("blur",h,{signal:d}),window.addEventListener("pointerup",h,{signal:d}),window.addEventListener("pointerdown",Rn,{capture:!0,passive:!1,signal:d}),window.addEventListener("contextmenu",Fo,{signal:d}),r.addEventListener("pointermove",this.#O.bind(this,t),{signal:d}),this._freeHighlight=new Py({x:o,y:i},[s,a,l,c],t.scale,this._defaultThickness/2,e,.001),({id:this._freeHighlightId,clipPathId:this._freeHighlightClipId}=t.drawLayer.draw({bbox:[0,0,1,1],root:{viewBox:"0 0 1 1",fill:this._defaultColor,"fill-opacity":this._defaultOpacity},rootClass:{highlight:!0,free:!0},path:{d:this._freeHighlight.toSVGPath()}},!0,!0))}static#O(t,e){this._freeHighlight.add(e)&&t.drawLayer.updateProperties(this._freeHighlightId,{path:{d:this._freeHighlight.toSVGPath()}})}static#B(t,e){this._freeHighlight.isEmpty()?t.drawLayer.remove(this._freeHighlightId):t.createAndAddNewEditor(e,!1,{highlightId:this._freeHighlightId,highlightOutlines:this._freeHighlight.getOutlines(),clipPathId:this._freeHighlightClipId,methodOfCreation:"main_toolbar"}),this._freeHighlightId=-1,this._freeHighlight=null,this._freeHighlightClipId=""}static deserialize(t,e,r){var o=()=>super.deserialize,i=this;return B(function*(){let s=null;if(t instanceof ex){const{data:{quadPoints:m,rect:b,rotation:v,id:y,color:C,opacity:_,popupRef:w,richText:k,contentsObj:A,creationDate:$,modificationDate:K},parent:{page:{pageNumber:z}}}=t;s=t={annotationType:We.HIGHLIGHT,color:Array.from(C),opacity:_,quadPoints:m,boxes:null,pageIndex:z-1,rect:b.slice(0),rotation:v,annotationElementId:y,id:y,deleted:!1,popupRef:w,richText:k,comment:A?.str||null,creationDate:$,modificationDate:K}}else if(t instanceof Ny){const{data:{inkLists:m,rect:b,rotation:v,id:y,color:C,borderStyle:{rawWidth:_},popupRef:w,richText:k,contentsObj:A,creationDate:$,modificationDate:K},parent:{page:{pageNumber:z}}}=t;s=t={annotationType:We.HIGHLIGHT,color:Array.from(C),thickness:_,inkLists:m,boxes:null,pageIndex:z-1,rect:b.slice(0),rotation:v,annotationElementId:y,id:y,deleted:!1,popupRef:w,richText:k,comment:A?.str||null,creationDate:$,modificationDate:K}}const{color:a,quadPoints:l,inkLists:c,opacity:u}=t,d=yield o().call(i,t,e,r);d.color=he.makeHexColor(...a),d.opacity=u||1,c&&(d.#p=t.thickness),d._initialData=s,t.comment&&d.setCommentData(t);const[h,f]=d.pageDimensions,[p,g]=d.pageTranslation;if(l){const m=d.#r=[];for(let b=0;b<l.length;b+=8)m.push({x:(l[b]-p)/h,y:1-(l[b+1]-g)/f,width:(l[b+2]-l[b])/h,height:(l[b+1]-l[b+5])/f});d.#y(),d.#_(),d.rotate(d.rotation)}else if(c){d.#d=!0;const m=c[0],b={x:m[0]-p,y:f-(m[1]-g)},v=new Py(b,[0,0,h,f],1,d.#p/2,!0,.001);for(let _=0,w=m.length;_<w;_+=2)b.x=m[_]-p,b.y=f-(m[_+1]-g),v.add(b);const{id:y,clipPathId:C}=e.drawLayer.draw({bbox:[0,0,1,1],root:{viewBox:"0 0 1 1",fill:d.color,"fill-opacity":d._defaultOpacity},rootClass:{highlight:!0,free:!0},path:{d:v.toSVGPath()}},!0,!0);d.#v({highlightOutlines:v.getOutlines(),highlightId:y,clipPathId:C}),d.#_(),d.rotate(d.parentRotation)}return d})()}serialize(t=!1){if(this.isEmpty()||t)return null;if(this.deleted)return this.serializeDeleted();const e=_e._colorManager.convert(this._uiManager.getNonHCMColor(this.color)),r=super.serialize(t);return Object.assign(r,{color:e,opacity:this.opacity,thickness:this.#p,quadPoints:this.#F(),outlines:this.#R(r.rect)}),this.addComment(r),this.annotationElementId&&!this.#L(r)?null:(r.id=this.annotationElementId,r)}#L(t){const{color:e}=this._initialData;return this.hasEditedComment||t.color.some((r,o)=>r!==e[o])}renderAnnotationElement(t){return this.deleted?(t.hide(),null):(t.updateEdited({rect:this.getPDFRect(),popup:this.comment}),null)}static canCreateNewEmptyEditor(){return!1}}class rx{#e=Object.create(null);updateProperty(t,e){this[t]=e,this.updateSVGProperty(t,e)}updateProperties(t){if(t)for(const[e,r]of Object.entries(t))e.startsWith("_")||this.updateProperty(e,r)}updateSVGProperty(t,e){this.#e[t]=e}toSVGProperties(){const t=this.#e;return this.#e=Object.create(null),{root:t}}reset(){this.#e=Object.create(null)}updateAll(t=this){this.updateProperties(t)}clone(){Jt("Not implemented")}}let ox=(()=>{class n extends _e{#e=null;#t;_colorPicker=null;_drawId=null;static _currentDrawId=-1;static _currentParent=null;static#r=null;static#n=null;static#s=null;static _INNER_MARGIN=3;constructor(e){super(e),this.#t=e.mustBeCommitted||!1,this._addOutlines(e)}onUpdatedColor(){this._colorPicker?.update(this.color),super.onUpdatedColor()}_addOutlines(e){e.drawOutlines&&(this.#i(e),this.#c())}#i({drawOutlines:e,drawId:r,drawingOptions:o}){this.#e=e,this._drawingOptions||=o,this.annotationElementId||this._uiManager.a11yAlert(`pdfjs-editor-${this.editorType}-added-alert`),r>=0?(this._drawId=r,this.parent.drawLayer.finalizeDraw(r,e.defaultProperties)):this._drawId=this.#o(e,this.parent),this.#d(e.box)}#o(e,r){const{id:o}=r.drawLayer.draw(n._mergeSVGProperties(this._drawingOptions.toSVGProperties(),e.defaultSVGProperties),!1,!1);return o}static _mergeSVGProperties(e,r){const o=new Set(Object.keys(e));for(const[i,s]of Object.entries(r))o.has(i)?Object.assign(e[i],s):e[i]=s;return e}static getDefaultDrawingOptions(e){Jt("Not implemented")}static get typesMap(){Jt("Not implemented")}static get isDrawer(){return!0}static get supportMultipleDrawings(){return!1}static updateDefaultParams(e,r){const o=this.typesMap.get(e);o&&this._defaultDrawingOptions.updateProperty(o,r),this._currentParent&&(n.#r.updateProperty(o,r),this._currentParent.drawLayer.updateProperties(this._currentDrawId,this._defaultDrawingOptions.toSVGProperties()))}updateParams(e,r){const o=this.constructor.typesMap.get(e);o&&this._updateProperty(e,o,r)}static get defaultPropertiesToUpdate(){const e=[],r=this._defaultDrawingOptions;for(const[o,i]of this.typesMap)e.push([o,r[i]]);return e}get propertiesToUpdate(){const e=[],{_drawingOptions:r}=this;for(const[o,i]of this.constructor.typesMap)e.push([o,r[i]]);return e}_updateProperty(e,r,o){const i=this._drawingOptions,s=i[r],a=l=>{i.updateProperty(r,l);const c=this.#e.updateProperty(r,l);c&&this.#d(c),this.parent?.drawLayer.updateProperties(this._drawId,i.toSVGProperties()),e===this.colorType&&this.onUpdatedColor()};this.addCommands({cmd:a.bind(this,o),undo:a.bind(this,s),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:e,overwriteIfSameType:!0,keepUndo:!0})}_onResizing(){this.parent?.drawLayer.updateProperties(this._drawId,n._mergeSVGProperties(this.#e.getPathResizingSVGProperties(this.#h()),{bbox:this.#f()}))}_onResized(){this.parent?.drawLayer.updateProperties(this._drawId,n._mergeSVGProperties(this.#e.getPathResizedSVGProperties(this.#h()),{bbox:this.#f()}))}_onTranslating(e,r){this.parent?.drawLayer.updateProperties(this._drawId,{bbox:this.#f()})}_onTranslated(){this.parent?.drawLayer.updateProperties(this._drawId,n._mergeSVGProperties(this.#e.getPathTranslatedSVGProperties(this.#h(),this.parentDimensions),{bbox:this.#f()}))}_onStartDragging(){this.parent?.drawLayer.updateProperties(this._drawId,{rootClass:{moving:!0}})}_onStopDragging(){this.parent?.drawLayer.updateProperties(this._drawId,{rootClass:{moving:!1}})}commit(){super.commit(),this.disableEditMode(),this.disableEditing()}disableEditing(){super.disableEditing(),this.div.classList.toggle("disabled",!0)}enableEditing(){super.enableEditing(),this.div.classList.toggle("disabled",!1)}getBaseTranslation(){return[0,0]}get isResizable(){return!0}onceAdded(e){this.annotationElementId||this.parent.addUndoableEditor(this),this._isDraggable=!0,this.#t&&(this.#t=!1,this.commit(),this.parent.setSelected(this),e&&this.isOnScreen&&this.div.focus())}remove(){this.#a(),super.remove()}rebuild(){this.parent&&(super.rebuild(),null!==this.div&&(this.#c(),this.#d(this.#e.box),this.isAttachedToDOM||this.parent.add(this)))}setParent(e){let r=!1;this.parent&&!e?(this._uiManager.removeShouldRescale(this),this.#a()):e&&(this._uiManager.addShouldRescale(this),this.#c(e),r=!this.parent&&this.div?.classList.contains("selectedEditor")),super.setParent(e),r&&this.select()}#a(){null===this._drawId||!this.parent||(this.parent.drawLayer.remove(this._drawId),this._drawId=null,this._drawingOptions.reset())}#c(e=this.parent){if(null===this._drawId||this.parent!==e){if(null!==this._drawId)return void this.parent.drawLayer.updateParent(this._drawId,e.drawLayer);this._drawingOptions.updateAll(),this._drawId=this.#o(this.#e,e)}}#l([e,r,o,i]){const{parentDimensions:[s,a],rotation:l}=this;switch(l){case 90:return[r,1-e,o*(a/s),i*(s/a)];case 180:return[1-e,1-r,o,i];case 270:return[1-r,e,o*(a/s),i*(s/a)];default:return[e,r,o,i]}}#h(){const{x:e,y:r,width:o,height:i,parentDimensions:[s,a],rotation:l}=this;switch(l){case 90:return[1-r,e,o*(s/a),i*(a/s)];case 180:return[1-e,1-r,o,i];case 270:return[r,1-e,o*(s/a),i*(a/s)];default:return[e,r,o,i]}}#d(e){[this.x,this.y,this.width,this.height]=this.#l(e),this.div&&(this.fixAndSetPosition(),this.setDims()),this._onResized()}#f(){const{x:e,y:r,width:o,height:i,rotation:s,parentRotation:a,parentDimensions:[l,c]}=this;switch((4*s+a)/90){case 1:return[1-r-i,e,i,o];case 2:return[1-e-o,1-r-i,o,i];case 3:return[r,1-e-o,i,o];case 4:return[e,r-o*(l/c),i*(c/l),o*(l/c)];case 5:return[1-r,e,o*(l/c),i*(c/l)];case 6:return[1-e-i*(c/l),1-r,i*(c/l),o*(l/c)];case 7:return[r-o*(l/c),1-e-i*(c/l),o*(l/c),i*(c/l)];case 8:return[e-o,r-i,o,i];case 9:return[1-r,e-o,i,o];case 10:return[1-e,1-r,o,i];case 11:return[r-i,1-e,i,o];case 12:return[e-i*(c/l),r,i*(c/l),o*(l/c)];case 13:return[1-r-o*(l/c),e-i*(c/l),o*(l/c),i*(c/l)];case 14:return[1-e,1-r-o*(l/c),i*(c/l),o*(l/c)];case 15:return[r,1-e,o*(l/c),i*(c/l)];default:return[e,r,o,i]}}rotate(){this.parent&&this.parent.drawLayer.updateProperties(this._drawId,n._mergeSVGProperties({bbox:this.#f()},this.#e.updateRotation((this.parentRotation-this.rotation+360)%360)))}onScaleChanging(){this.parent&&this.#d(this.#e.updateParentDimensions(this.parentDimensions,this.parent.scale))}static onScaleChangingWhenDrawing(){}render(){if(this.div)return this.div;let e,r;this._isCopy&&(e=this.x,r=this.y);const o=super.render();o.classList.add("draw");const i=document.createElement("div");return o.append(i),i.setAttribute("aria-hidden","true"),i.className="internal",this.setDims(),this._uiManager.addShouldRescale(this),this.disableEditing(),this._isCopy&&this._moveAfterPaste(e,r),o}static createDrawerInstance(e,r,o,i,s){Jt("Not implemented")}static startDrawing(e,r,o,i){const{target:s,offsetX:a,offsetY:l,pointerId:c,pointerType:u}=i;if(Pt.isInitializedAndDifferentPointerType(u))return;const{viewport:{rotation:d}}=e,{width:h,height:f}=s.getBoundingClientRect(),p=n.#n=new AbortController,g=e.combinedSignal(p);Pt.setPointer(u,c),window.addEventListener("pointerup",m=>{Pt.isSamePointerIdOrRemove(m.pointerId)&&this._endDraw(m)},{signal:g}),window.addEventListener("pointercancel",m=>{Pt.isSamePointerIdOrRemove(m.pointerId)&&this._currentParent.endDrawingSession()},{signal:g}),window.addEventListener("pointerdown",m=>{Pt.isSamePointerType(m.pointerType)&&(Pt.initializeAndAddPointerId(m.pointerId),n.#r.isCancellable()&&(n.#r.removeLastElement(),n.#r.isEmpty()?this._currentParent.endDrawingSession(!0):this._endDraw(null)))},{capture:!0,passive:!1,signal:g}),window.addEventListener("contextmenu",Fo,{signal:g}),s.addEventListener("pointermove",this._drawMove.bind(this),{signal:g}),s.addEventListener("touchmove",m=>{Pt.isSameTimeStamp(m.timeStamp)&&Rn(m)},{signal:g}),e.toggleDrawing(),r._editorUndoBar?.hide(),n.#r?e.drawLayer.updateProperties(this._currentDrawId,n.#r.startNew(a,l,h,f,d)):(r.updateUIForDefaultProperties(this),n.#r=this.createDrawerInstance(a,l,h,f,d),n.#s=this.getDefaultDrawingOptions(),this._currentParent=e,({id:this._currentDrawId}=e.drawLayer.draw(this._mergeSVGProperties(n.#s.toSVGProperties(),n.#r.defaultSVGProperties),!0,!1)))}static _drawMove(e){if(Pt.isSameTimeStamp(e.timeStamp),!n.#r)return;const{offsetX:r,offsetY:o,pointerId:i}=e;if(Pt.isSamePointerId(i)){if(Pt.isUsingMultiplePointers())return void this._endDraw(e);this._currentParent.drawLayer.updateProperties(this._currentDrawId,n.#r.add(r,o)),Pt.setTimeStamp(e.timeStamp),Rn(e)}}static _cleanup(e){e&&(this._currentDrawId=-1,this._currentParent=null,n.#r=null,n.#s=null,Pt.clearPointerType(),Pt.clearTimeStamp()),n.#n&&(n.#n.abort(),n.#n=null,Pt.clearPointerIds())}static _endDraw(e){const r=this._currentParent;if(r){if(r.toggleDrawing(!0),this._cleanup(!1),e?.target===r.div&&r.drawLayer.updateProperties(this._currentDrawId,n.#r.end(e.offsetX,e.offsetY)),this.supportMultipleDrawings){const o=n.#r,i=this._currentDrawId,s=o.getLastElement();return void r.addCommands({cmd:()=>{r.drawLayer.updateProperties(i,o.setLastElement(s))},undo:()=>{r.drawLayer.updateProperties(i,o.removeLastElement())},mustExec:!1,type:bt.DRAW_STEP})}this.endDrawing(!1)}}static endDrawing(e){const r=this._currentParent;if(!r)return null;if(r.toggleDrawing(!0),r.cleanUndoStack(bt.DRAW_STEP),!n.#r.isEmpty()){const{pageDimensions:[o,i],scale:s}=r,a=r.createAndAddNewEditor({offsetX:0,offsetY:0},!1,{drawId:this._currentDrawId,drawOutlines:n.#r.getOutlines(o*s,i*s,s,this._INNER_MARGIN),drawingOptions:n.#s,mustBeCommitted:!e});return this._cleanup(!0),a}return r.drawLayer.remove(this._currentDrawId),this._cleanup(!0),null}createDrawingOptions(e){}static deserializeDraw(e,r,o,i,s,a){Jt("Not implemented")}static deserialize(e,r,o){var i=()=>super.deserialize,s=this;return B(function*(){const{rawDims:{pageWidth:a,pageHeight:l,pageX:c,pageY:u}}=r.viewport,d=s.deserializeDraw(c,u,a,l,s._INNER_MARGIN,e),h=yield i().call(s,e,r,o);return h.createDrawingOptions(e),h.#i({drawOutlines:d}),h.#c(),h.onScaleChanging(),h.rotate(),h})()}serializeDraw(e){const[r,o]=this.pageTranslation,[i,s]=this.pageDimensions;return this.#e.serialize([r,o,i,s],e)}renderAnnotationElement(e){return e.updateEdited({rect:this.getPDFRect()}),null}static canCreateNewEmptyEditor(){return!1}}return n})();class JU{#e=new Float64Array(6);#t;#r;#n;#s;#i;#o="";#a=0;#c=new qu;#l;#h;constructor(t,e,r,o,i,s){this.#l=r,this.#h=o,this.#n=i,this.#s=s,[t,e]=this.#d(t,e);const a=this.#t=[NaN,NaN,NaN,NaN,t,e];this.#i=[t,e],this.#r=[{line:a,points:this.#i}],this.#e.set(a,0)}updateProperty(t,e){"stroke-width"===t&&(this.#s=e)}#d(t,e){return ce._normalizePoint(t,e,this.#l,this.#h,this.#n)}isEmpty(){return!this.#r||0===this.#r.length}isCancellable(){return this.#i.length<=10}add(t,e){[t,e]=this.#d(t,e);const[r,o,i,s]=this.#e.subarray(2,6);return Math.hypot(this.#l*(t-i),this.#h*(e-s))<=2?null:(this.#i.push(t,e),isNaN(r)?(this.#e.set([i,s,t,e],2),this.#t.push(NaN,NaN,NaN,NaN,t,e),{path:{d:this.toSVGPath()}}):(isNaN(this.#e[0])&&this.#t.splice(6,6),this.#e.set([r,o,i,s,t,e],0),this.#t.push(...ce.createBezierPoints(r,o,i,s,t,e)),{path:{d:this.toSVGPath()}}))}end(t,e){return this.add(t,e)||(2===this.#i.length?{path:{d:this.toSVGPath()}}:null)}startNew(t,e,r,o,i){this.#l=r,this.#h=o,this.#n=i,[t,e]=this.#d(t,e);const s=this.#t=[NaN,NaN,NaN,NaN,t,e];this.#i=[t,e];const a=this.#r.at(-1);return a&&(a.line=new Float32Array(a.line),a.points=new Float32Array(a.points)),this.#r.push({line:s,points:this.#i}),this.#e.set(s,0),this.#a=0,this.toSVGPath(),null}getLastElement(){return this.#r.at(-1)}setLastElement(t){return this.#r?(this.#r.push(t),this.#t=t.line,this.#i=t.points,this.#a=0,{path:{d:this.toSVGPath()}}):this.#c.setLastElement(t)}removeLastElement(){if(!this.#r)return this.#c.removeLastElement();this.#r.pop(),this.#o="";for(let t=0,e=this.#r.length;t<e;t++){const{line:r,points:o}=this.#r[t];this.#t=r,this.#i=o,this.#a=0,this.toSVGPath()}return{path:{d:this.#o}}}toSVGPath(){const t=ce.svgRound(this.#t[4]),e=ce.svgRound(this.#t[5]);if(2===this.#i.length)return this.#o=`${this.#o} M ${t} ${e} Z`,this.#o;if(this.#i.length<=6){const o=this.#o.lastIndexOf("M");this.#o=`${this.#o.slice(0,o)} M ${t} ${e}`,this.#a=6}if(4===this.#i.length){const o=ce.svgRound(this.#t[10]),i=ce.svgRound(this.#t[11]);return this.#o=`${this.#o} L ${o} ${i}`,this.#a=12,this.#o}const r=[];0===this.#a&&(r.push(`M ${t} ${e}`),this.#a=6);for(let o=this.#a,i=this.#t.length;o<i;o+=6){const[s,a,l,c,u,d]=this.#t.slice(o,o+6).map(ce.svgRound);r.push(`C${s} ${a} ${l} ${c} ${u} ${d}`)}return this.#o+=r.join(" "),this.#a=this.#t.length,this.#o}getOutlines(t,e,r,o){const i=this.#r.at(-1);return i.line=new Float32Array(i.line),i.points=new Float32Array(i.points),this.#c.build(this.#r,t,e,r,this.#n,this.#s,o),this.#e=null,this.#t=null,this.#r=null,this.#o=null,this.#c}get defaultSVGProperties(){return{root:{viewBox:"0 0 10000 10000"},rootClass:{draw:!0},bbox:[0,0,1,1]}}}class qu extends ce{#e;#t=0;#r;#n;#s;#i;#o;#a;#c;build(t,e,r,o,i,s,a){this.#s=e,this.#i=r,this.#o=o,this.#a=i,this.#c=s,this.#r=a??0,this.#n=t,this.#d()}get thickness(){return this.#c}setLastElement(t){return this.#n.push(t),{path:{d:this.toSVGPath()}}}removeLastElement(){return this.#n.pop(),{path:{d:this.toSVGPath()}}}toSVGPath(){const t=[];for(const{line:e}of this.#n)if(t.push(`M${ce.svgRound(e[4])} ${ce.svgRound(e[5])}`),6!==e.length)if(12===e.length&&isNaN(e[6]))t.push(`L${ce.svgRound(e[10])} ${ce.svgRound(e[11])}`);else for(let r=6,o=e.length;r<o;r+=6){const[i,s,a,l,c,u]=e.subarray(r,r+6).map(ce.svgRound);t.push(`C${i} ${s} ${a} ${l} ${c} ${u}`)}else t.push("Z");return t.join("")}serialize([t,e,r,o],i){const s=[],a=[],[l,c,u,d]=this.#h();let h,f,p,g,m,b,v,y,C;switch(this.#a){case 0:C=ce._rescale,h=t,f=e+o,p=r,g=-o,m=t+l*r,b=e+(1-c-d)*o,v=t+(l+u)*r,y=e+(1-c)*o;break;case 90:C=ce._rescaleAndSwap,h=t,f=e,p=r,g=o,m=t+c*r,b=e+l*o,v=t+(c+d)*r,y=e+(l+u)*o;break;case 180:C=ce._rescale,h=t+r,f=e,p=-r,g=o,m=t+(1-l-u)*r,b=e+c*o,v=t+(1-l)*r,y=e+(c+d)*o;break;case 270:C=ce._rescaleAndSwap,h=t+r,f=e+o,p=-r,g=-o,m=t+(1-c-d)*r,b=e+(1-l-u)*o,v=t+(1-c)*r,y=e+(1-l)*o}for(const{line:_,points:w}of this.#n)s.push(C(_,h,f,p,g,i?new Array(_.length):null)),a.push(C(w,h,f,p,g,i?new Array(w.length):null));return{lines:s,points:a,rect:[m,b,v,y]}}static deserialize(t,e,r,o,i,{paths:{lines:s,points:a},rotation:l,thickness:c}){const u=[];let d,h,f,p,g;switch(l){case 0:g=ce._rescale,d=-t/r,h=e/o+1,f=1/r,p=-1/o;break;case 90:g=ce._rescaleAndSwap,d=-e/o,h=-t/r,f=1/o,p=1/r;break;case 180:g=ce._rescale,d=t/r+1,h=-e/o,f=-1/r,p=1/o;break;case 270:g=ce._rescaleAndSwap,d=e/o+1,h=t/r+1,f=-1/o,p=-1/r}if(!s){s=[];for(const b of a){const v=b.length;if(2===v){s.push(new Float32Array([NaN,NaN,NaN,NaN,b[0],b[1]]));continue}if(4===v){s.push(new Float32Array([NaN,NaN,NaN,NaN,b[0],b[1],NaN,NaN,NaN,NaN,b[2],b[3]]));continue}const y=new Float32Array(3*(v-2));s.push(y);let[C,_,w,k]=b.subarray(0,4);y.set([NaN,NaN,NaN,NaN,C,_],0);for(let A=4;A<v;A+=2){const $=b[A],K=b[A+1];y.set(ce.createBezierPoints(C,_,w,k,$,K),3*(A-2)),[C,_,w,k]=[w,k,$,K]}}}for(let b=0,v=s.length;b<v;b++)u.push({line:g(s[b].map(y=>y??NaN),d,h,f,p),points:g(a[b].map(y=>y??NaN),d,h,f,p)});const m=new this.prototype.constructor;return m.build(u,r,o,1,l,c,i),m}#l(t=this.#c){const e=this.#r+t/2*this.#o;return this.#a%180==0?[e/this.#s,e/this.#i]:[e/this.#i,e/this.#s]}#h(){const[t,e,r,o]=this.#e,[i,s]=this.#l(0);return[t+i,e+s,r-2*i,o-2*s]}#d(){const t=this.#e=new Float32Array([1/0,1/0,-1/0,-1/0]);for(const{line:o}of this.#n){if(o.length<=12){for(let a=4,l=o.length;a<l;a+=6)he.pointBoundingBox(o[a],o[a+1],t);continue}let i=o[4],s=o[5];for(let a=6,l=o.length;a<l;a+=6){const[c,u,d,h,f,p]=o.subarray(a,a+6);he.bezierBoundingBox(i,s,c,u,d,h,f,p,t),i=f,s=p}}const[e,r]=this.#l();t[0]=jr(t[0]-e,0,1),t[1]=jr(t[1]-r,0,1),t[2]=jr(t[2]+e,0,1),t[3]=jr(t[3]+r,0,1),t[2]-=t[0],t[3]-=t[1]}get box(){return this.#e}updateProperty(t,e){return"stroke-width"===t?this.#f(e):null}#f(t){const[e,r]=this.#l();this.#c=t;const[o,i]=this.#l(),[s,a]=[o-e,i-r],l=this.#e;return l[0]-=s,l[1]-=a,l[2]+=2*s,l[3]+=2*a,l}updateParentDimensions([t,e],r){const[o,i]=this.#l();this.#s=t,this.#i=e,this.#o=r;const[s,a]=this.#l(),l=s-o,c=a-i,u=this.#e;return u[0]-=l,u[1]-=c,u[2]+=2*l,u[3]+=2*c,u}updateRotation(t){return this.#t=t,{path:{transform:this.rotationTransform}}}get viewBox(){return this.#e.map(ce.svgRound).join(" ")}get defaultProperties(){const[t,e]=this.#e;return{root:{viewBox:this.viewBox},path:{"transform-origin":`${ce.svgRound(t)} ${ce.svgRound(e)}`}}}get rotationTransform(){const[,,t,e]=this.#e;let r=0,o=0,i=0,s=0,a=0,l=0;switch(this.#t){case 90:o=e/t,i=-t/e,a=t;break;case 180:r=-1,s=-1,a=t,l=e;break;case 270:o=-e/t,i=t/e,l=e;break;default:return""}return`matrix(${r} ${o} ${i} ${s} ${ce.svgRound(a)} ${ce.svgRound(l)})`}getPathResizingSVGProperties([t,e,r,o]){const[i,s]=this.#l(),[a,l,c,u]=this.#e;if(Math.abs(c-i)<=ce.PRECISION||Math.abs(u-s)<=ce.PRECISION){const g=t+r/2-(a+c/2),m=e+o/2-(l+u/2);return{path:{"transform-origin":`${ce.svgRound(t)} ${ce.svgRound(e)}`,transform:`${this.rotationTransform} translate(${g} ${m})`}}}const d=(r-2*i)/(c-2*i),h=(o-2*s)/(u-2*s),f=c/r,p=u/o;return{path:{"transform-origin":`${ce.svgRound(a)} ${ce.svgRound(l)}`,transform:`${this.rotationTransform} scale(${f} ${p}) translate(${ce.svgRound(i)} ${ce.svgRound(s)}) scale(${d} ${h}) translate(${ce.svgRound(-i)} ${ce.svgRound(-s)})`}}}getPathResizedSVGProperties([t,e,r,o]){const[i,s]=this.#l(),a=this.#e,[l,c,u,d]=a;if(a[0]=t,a[1]=e,a[2]=r,a[3]=o,Math.abs(u-i)<=ce.PRECISION||Math.abs(d-s)<=ce.PRECISION){const m=t+r/2-(l+u/2),b=e+o/2-(c+d/2);for(const{line:v,points:y}of this.#n)ce._translate(v,m,b,v),ce._translate(y,m,b,y);return{root:{viewBox:this.viewBox},path:{"transform-origin":`${ce.svgRound(t)} ${ce.svgRound(e)}`,transform:this.rotationTransform||null,d:this.toSVGPath()}}}const h=(r-2*i)/(u-2*i),f=(o-2*s)/(d-2*s),p=-h*(l+i)+t+i,g=-f*(c+s)+e+s;if(1!==h||1!==f||0!==p||0!==g)for(const{line:m,points:b}of this.#n)ce._rescale(m,p,g,h,f,m),ce._rescale(b,p,g,h,f,b);return{root:{viewBox:this.viewBox},path:{"transform-origin":`${ce.svgRound(t)} ${ce.svgRound(e)}`,transform:this.rotationTransform||null,d:this.toSVGPath()}}}getPathTranslatedSVGProperties([t,e],r){const[o,i]=r,s=this.#e,a=t-s[0],l=e-s[1];if(this.#s===o&&this.#i===i)for(const{line:c,points:u}of this.#n)ce._translate(c,a,l,c),ce._translate(u,a,l,u);else{const c=this.#s/o,u=this.#i/i;this.#s=o,this.#i=i;for(const{line:d,points:h}of this.#n)ce._rescale(d,a,l,c,u,d),ce._rescale(h,a,l,c,u,h);s[2]*=c,s[3]*=u}return s[0]=t,s[1]=e,{root:{viewBox:this.viewBox},path:{d:this.toSVGPath(),"transform-origin":`${ce.svgRound(t)} ${ce.svgRound(e)}`}}}get defaultSVGProperties(){const t=this.#e;return{root:{viewBox:this.viewBox},rootClass:{draw:!0},path:{d:this.toSVGPath(),"transform-origin":`${ce.svgRound(t[0])} ${ce.svgRound(t[1])}`,transform:this.rotationTransform||null},bbox:t}}}class bp extends rx{constructor(t){super(),this._viewParameters=t,super.updateProperties({fill:"none",stroke:_e._defaultLineColor,"stroke-opacity":1,"stroke-width":1,"stroke-linecap":"round","stroke-linejoin":"round","stroke-miterlimit":10})}updateSVGProperty(t,e){"stroke-width"===t&&(e??=this["stroke-width"],e*=this._viewParameters.realScale),super.updateSVGProperty(t,e)}clone(){const t=new bp(this._viewParameters);return t.updateAll(this),t}}class Fy extends ox{static _type="ink";static _editorType=We.INK;static _defaultDrawingOptions=null;constructor(t){super({...t,name:"inkEditor"}),this._willKeepAspectRatio=!0,this.defaultL10nId="pdfjs-editor-ink-editor"}static initialize(t,e){_e.initialize(t,e),this._defaultDrawingOptions=new bp(e.viewParameters)}static getDefaultDrawingOptions(t){const e=this._defaultDrawingOptions.clone();return e.updateProperties(t),e}static get supportMultipleDrawings(){return!0}static get typesMap(){return Ue(this,"typesMap",new Map([[bt.INK_THICKNESS,"stroke-width"],[bt.INK_COLOR,"stroke"],[bt.INK_OPACITY,"stroke-opacity"]]))}static createDrawerInstance(t,e,r,o,i){return new JU(t,e,r,o,i,this._defaultDrawingOptions["stroke-width"])}static deserializeDraw(t,e,r,o,i,s){return qu.deserialize(t,e,r,o,i,s)}static deserialize(t,e,r){var o=()=>super.deserialize,i=this;return B(function*(){let s=null;if(t instanceof Ny){const{data:{inkLists:l,rect:c,rotation:u,id:d,color:h,opacity:f,borderStyle:{rawWidth:p},popupRef:g,richText:m,contentsObj:b,creationDate:v,modificationDate:y},parent:{page:{pageNumber:C}}}=t;s=t={annotationType:We.INK,color:Array.from(h),thickness:p,opacity:f,paths:{points:l},boxes:null,pageIndex:C-1,rect:c.slice(0),rotation:u,annotationElementId:d,id:d,deleted:!1,popupRef:g,richText:m,comment:b?.str||null,creationDate:v,modificationDate:y}}const a=yield o().call(i,t,e,r);return a._initialData=s,t.comment&&a.setCommentData(t),a})()}get toolbarButtons(){return this._colorPicker||=new Wu(this),[["colorPicker",this._colorPicker]]}get colorType(){return bt.INK_COLOR}get color(){return this._drawingOptions.stroke}get opacity(){return this._drawingOptions["stroke-opacity"]}onScaleChanging(){if(!this.parent)return;super.onScaleChanging();const{_drawId:t,_drawingOptions:e,parent:r}=this;e.updateSVGProperty("stroke-width"),r.drawLayer.updateProperties(t,e.toSVGProperties())}static onScaleChangingWhenDrawing(){const t=this._currentParent;t&&(super.onScaleChangingWhenDrawing(),this._defaultDrawingOptions.updateSVGProperty("stroke-width"),t.drawLayer.updateProperties(this._currentDrawId,this._defaultDrawingOptions.toSVGProperties()))}createDrawingOptions({color:t,thickness:e,opacity:r}){this._drawingOptions=Fy.getDefaultDrawingOptions({stroke:he.makeHexColor(...t),"stroke-width":e,"stroke-opacity":r})}serialize(t=!1){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const{lines:e,points:r}=this.serializeDraw(t),{_drawingOptions:{stroke:o,"stroke-opacity":i,"stroke-width":s}}=this,a=Object.assign(super.serialize(t),{color:_e._colorManager.convert(o),opacity:i,thickness:s,paths:{lines:e,points:r}});return this.addComment(a),t?(a.isCopy=!0,a):this.annotationElementId&&!this.#e(a)?null:(a.id=this.annotationElementId,a)}#e(t){const{color:e,thickness:r,opacity:o,pageIndex:i}=this._initialData;return this.hasEditedComment||this._hasBeenMoved||this._hasBeenResized||t.color.some((s,a)=>s!==e[a])||t.thickness!==r||t.opacity!==o||t.pageIndex!==i}renderAnnotationElement(t){if(this.deleted)return t.hide(),null;const{points:e,rect:r}=this.serializeDraw(!1);return t.updateEdited({rect:r,thickness:this._drawingOptions["stroke-width"],points:e,popup:this.comment}),null}}class By extends qu{toSVGPath(){let t=super.toSVGPath();return t.endsWith("Z")||(t+="Z"),t}}class Ql{static#e={maxDim:512,sigmaSFactor:.02,sigmaR:25,kernelSize:16};static#t(t,e,r,o){return o-=e,0===(r-=t)?o>0?0:4:1===r?o+6:2-o}static#r=new Int32Array([0,1,-1,1,-1,0,-1,-1,0,-1,1,-1,1,0,1,1]);static#n(t,e,r,o,i,s,a){const l=this.#t(r,o,i,s);for(let c=0;c<8;c++){const u=(-c+l-a+16)%8;if(0!==t[(r+this.#r[2*u])*e+(o+this.#r[2*u+1])])return u}return-1}static#s(t,e,r,o,i,s,a){const l=this.#t(r,o,i,s);for(let c=0;c<8;c++){const u=(c+l+a+16)%8;if(0!==t[(r+this.#r[2*u])*e+(o+this.#r[2*u+1])])return u}return-1}static#i(t,e,r,o){const i=t.length,s=new Int32Array(i);for(let u=0;u<i;u++)s[u]=t[u]<=o?1:0;for(let u=1;u<r-1;u++)s[u*e]=s[u*e+e-1]=0;for(let u=0;u<e;u++)s[u]=s[e*r-1-u]=0;let l,a=1;const c=[];for(let u=1;u<r-1;u++){l=1;for(let d=1;d<e-1;d++){const h=u*e+d,f=s[h];if(0===f)continue;let p=u,g=d;if(1===f&&0===s[h-1])a+=1,g-=1;else{if(!(f>=1&&0===s[h+1])){1!==f&&(l=Math.abs(f));continue}a+=1,g+=1,f>1&&(l=f)}const m=[d,u],b=g===d+1,v={isHole:b,points:m,id:a,parent:0};let y;c.push(v);for(const z of c)if(z.id===l){y=z;break}v.parent=y?y.isHole?b?y.parent:l:b?l:y.parent:b?l:0;const C=this.#n(s,e,u,d,p,g,0);if(-1===C){s[h]=-a,1!==s[h]&&(l=Math.abs(s[h]));continue}let _=this.#r[2*C],w=this.#r[2*C+1];const k=u+_,A=d+w;p=k,g=A;let $=u,K=d;for(;;){const z=this.#s(s,e,$,K,p,g,1);_=this.#r[2*z],w=this.#r[2*z+1];const st=$+_,at=K+w;m.push(at,st);const Ct=$*e+K;if(0===s[Ct+1]?s[Ct]=-a:1===s[Ct]&&(s[Ct]=a),st===u&&at===d&&$===k&&K===A){1!==s[h]&&(l=Math.abs(s[h]));break}p=$,g=K,$=st,K=at}}}return c}static#o(t,e,r,o){if(r-e<=4){for(let k=e;k<r-2;k+=2)o.push(t[k],t[k+1]);return}const i=t[e],s=t[e+1],a=t[r-4]-i,l=t[r-3]-s,c=Math.hypot(a,l),u=a/c,d=l/c,h=u*s-d*i,p=1/c,g=Math.atan(l/a),m=Math.cos(g),b=Math.sin(g),v=p*(Math.abs(m)+Math.abs(b)),y=p*(1-v+v**2),C=Math.max(Math.atan(Math.abs(b+m)*y),Math.atan(Math.abs(b-m)*y));let _=0,w=e;for(let k=e+2;k<r-2;k+=2){const A=Math.abs(h-u*t[k+1]+d*t[k]);A>_&&(w=k,_=A)}_>(c*C)**2?(this.#o(t,e,w+2,o),this.#o(t,w,r,o)):o.push(i,s)}static#a(t){const e=[],r=t.length;return this.#o(t,0,r,e),e.push(t[r-2],t[r-1]),e.length<=4?null:e}static#c(t,e,r,o,i,s){const a=new Float32Array(s**2),l=-2*o**2,c=s>>1;for(let g=0;g<s;g++){const m=(g-c)**2;for(let b=0;b<s;b++)a[g*s+b]=Math.exp((m+(b-c)**2)/l)}const u=new Float32Array(256),d=-2*i**2;for(let g=0;g<256;g++)u[g]=Math.exp(g**2/d);const f=new Uint8Array(t.length),p=new Uint32Array(256);for(let g=0;g<r;g++)for(let m=0;m<e;m++){const b=g*e+m,v=t[b];let y=0,C=0;for(let w=0;w<s;w++){const k=g+w-c;if(!(k<0||k>=r))for(let A=0;A<s;A++){const $=m+A-c;if($<0||$>=e)continue;const K=t[k*e+$],z=a[w*s+A]*u[Math.abs(K-v)];y+=K*z,C+=z}}p[f[b]=Math.round(y/C)]++}return[f,p]}static#l(t){const e=new Uint32Array(256);for(const r of t)e[r]++;return e}static#h(t){const r=new Uint8ClampedArray(t.length>>2);let o=-1/0,i=1/0;for(let a=0,l=r.length;a<l;a++){const c=r[a]=t[a<<2];o=Math.max(o,c),i=Math.min(i,c)}const s=255/(o-i);for(let a=0,l=r.length;a<l;a++)r[a]=(r[a]-i)*s;return r}static#d(t){let e,r=-1/0,o=-1/0;const i=t.findIndex(l=>0!==l);let s=i,a=i;for(e=i;e<256;e++){const l=t[e];l>r&&(e-s>o&&(o=e-s,a=e-1),r=l,s=e)}for(e=a-1;e>=0&&!(t[e]>t[e+1]);e--);return e}static#f(t){const e=t,{width:r,height:o}=t,{maxDim:i}=this.#e;let s=r,a=o;if(r>i||o>i){let h=r,f=o,p=Math.log2(Math.max(r,o)/i);const g=Math.floor(p);p=p===g?g-1:g;for(let b=0;b<p;b++){s=Math.ceil(h/2),a=Math.ceil(f/2);const v=new OffscreenCanvas(s,a);v.getContext("2d").drawImage(t,0,0,h,f,0,0,s,a),h=s,f=a,t!==e&&t.close(),t=v.transferToImageBitmap()}const m=Math.min(i/s,i/a);s=Math.round(s*m),a=Math.round(a*m)}const c=new OffscreenCanvas(s,a).getContext("2d",{willReadFrequently:!0});c.fillStyle="white",c.fillRect(0,0,s,a),c.filter="grayscale(1)",c.drawImage(t,0,0,t.width,t.height,0,0,s,a);const u=c.getImageData(0,0,s,a).data;return[this.#h(u),s,a]}static extractContoursFromText(t,{fontFamily:e,fontStyle:r,fontWeight:o},i,s,a,l){let c=new OffscreenCanvas(1,1),u=c.getContext("2d",{alpha:!1});const h=u.font=`${r} ${o} 200px ${e}`,{actualBoundingBoxLeft:f,actualBoundingBoxRight:p,actualBoundingBoxAscent:g,actualBoundingBoxDescent:m,fontBoundingBoxAscent:b,fontBoundingBoxDescent:v,width:y}=u.measureText(t),_=Math.ceil(1.5*Math.max(Math.abs(f)+Math.abs(p)||0,y)),w=Math.ceil(1.5*Math.max(Math.abs(g)+Math.abs(m)||200,Math.abs(b)+Math.abs(v)||200));c=new OffscreenCanvas(_,w),u=c.getContext("2d",{alpha:!0,willReadFrequently:!0}),u.font=h,u.filter="grayscale(1)",u.fillStyle="white",u.fillRect(0,0,_,w),u.fillStyle="black",u.fillText(t,.5*_/2,1.5*w/2);const k=this.#h(u.getImageData(0,0,_,w).data),A=this.#l(k),$=this.#d(A),K=this.#i(k,_,w,$);return this.processDrawnLines({lines:{curves:K,width:_,height:w},pageWidth:i,pageHeight:s,rotation:a,innerMargin:l,mustSmooth:!0,areContours:!0})}static process(t,e,r,o,i){const[s,a,l]=this.#f(t),[c,u]=this.#c(s,a,l,Math.hypot(a,l)*this.#e.sigmaSFactor,this.#e.sigmaR,this.#e.kernelSize),d=this.#d(u),h=this.#i(c,a,l,d);return this.processDrawnLines({lines:{curves:h,width:a,height:l},pageWidth:e,pageHeight:r,rotation:o,innerMargin:i,mustSmooth:!0,areContours:!0})}static processDrawnLines({lines:t,pageWidth:e,pageHeight:r,rotation:o,innerMargin:i,mustSmooth:s,areContours:a}){o%180!=0&&([e,r]=[r,e]);const{curves:l,width:c,height:u}=t,d=t.thickness??0,h=[],f=Math.min(e/c,r/u),p=f/e,g=f/r,m=[];for(const{points:v}of l){const y=s?this.#a(v):v;if(!y)continue;m.push(y);const C=y.length,_=new Float32Array(C),w=new Float32Array(3*(2===C?2:C-2));if(h.push({line:w,points:_}),2===C){_[0]=y[0]*p,_[1]=y[1]*g,w.set([NaN,NaN,NaN,NaN,_[0],_[1]],0);continue}let[k,A,$,K]=y;k*=p,A*=g,$*=p,K*=g,_.set([k,A,$,K],0),w.set([NaN,NaN,NaN,NaN,k,A],0);for(let z=4;z<C;z+=2){const st=_[z]=y[z]*p,at=_[z+1]=y[z+1]*g;w.set(ce.createBezierPoints(k,A,$,K,st,at),3*(z-2)),[k,A,$,K]=[$,K,st,at]}}if(0===h.length)return null;const b=a?new By:new qu;return b.build(h,e,r,1,o,a?0:d,i),{outline:b,newCurves:m,areContours:a,thickness:d,width:c,height:u}}static compressSignature(t){return B(function*({outlines:e,areContours:r,thickness:o,width:i,height:s}){let u,a=1/0,l=-1/0,c=0;for(const C of e){c+=C.length;for(let _=2,w=C.length;_<w;_++){const k=C[_]-C[_-2];a=Math.min(a,k),l=Math.max(l,k)}}u=a>=-128&&l<=127?Int8Array:a>=-32768&&l<=32767?Int16Array:Int32Array;const d=e.length,h=8+3*d,f=new Uint32Array(h);let p=0;f[p++]=h*Uint32Array.BYTES_PER_ELEMENT+(c-2*d)*u.BYTES_PER_ELEMENT,f[p++]=0,f[p++]=i,f[p++]=s,f[p++]=r?0:1,f[p++]=Math.max(0,Math.floor(o??0)),f[p++]=d,f[p++]=u.BYTES_PER_ELEMENT;for(const C of e)f[p++]=C.length-2,f[p++]=C[0],f[p++]=C[1];const g=new CompressionStream("deflate-raw"),m=g.writable.getWriter();yield m.ready,m.write(f);const b=u.prototype.constructor;for(const C of e){const _=new b(C.length-2);for(let w=2,k=C.length;w<k;w++)_[w-2]=C[w]-C[w-2];m.write(_)}m.close();const v=yield new Response(g.readable).arrayBuffer();return nI(new Uint8Array(v))}).apply(this,arguments)}static decompressSignature(t){return B(function*(){try{const a=function f7(n){return Uint8Array.fromBase64?Uint8Array.fromBase64(n):zl(atob(n))}(t),{readable:l,writable:c}=new DecompressionStream("deflate-raw"),u=c.getWriter();yield u.ready,u.write(a).then(B(function*(){yield u.ready,yield u.close()})).catch(()=>{});let d=null,h=0;var o,e=!1,r=!1;try{for(var s,i=function J$(n){var t,e,r,o=2;for(typeof Symbol<"u"&&(e=Symbol.asyncIterator,r=Symbol.iterator);o--;){if(e&&null!=(t=n[e]))return t.call(n);if(r&&null!=(t=n[r]))return new Kf(t.call(n));e="@@asyncIterator",r="@@iterator"}throw new TypeError("Object is not async iterable")}(l);e=!(s=yield i.next()).done;e=!1){const A=s.value;d||=new Uint8Array(new Uint32Array(A.buffer,0,4)[0]),d.set(A,h),h+=A.length}}catch(A){r=!0,o=A}finally{try{e&&null!=i.return&&(yield i.return())}finally{if(r)throw o}}const f=new Uint32Array(d.buffer,0,d.length>>2),p=f[1];if(0!==p)throw new Error(`Invalid version: ${p}`);const g=f[2],m=f[3],b=0===f[4],v=f[5],y=f[6],_=[],w=(8+3*y)*Uint32Array.BYTES_PER_ELEMENT;let k;switch(f[7]){case Int8Array.BYTES_PER_ELEMENT:k=new Int8Array(d.buffer,w);break;case Int16Array.BYTES_PER_ELEMENT:k=new Int16Array(d.buffer,w);break;case Int32Array.BYTES_PER_ELEMENT:k=new Int32Array(d.buffer,w)}h=0;for(let A=0;A<y;A++){const $=f[3*A+8],K=new Float32Array($+2);_.push(K);for(let z=0;z<2;z++)K[z]=f[3*A+8+z+1];for(let z=0;z<$;z++)K[z+2]=K[z]+k[h++]}return{areContours:b,thickness:v,outlines:_,width:g,height:m}}catch(a){return je(`decompressSignature: ${a}`),null}})()}}class Hy extends rx{constructor(){super(),super.updateProperties({fill:_e._defaultLineColor,"stroke-width":0})}clone(){const t=new Hy;return t.updateAll(this),t}}class jy extends bp{constructor(t){super(t),super.updateProperties({stroke:_e._defaultLineColor,"stroke-width":1})}clone(){const t=new jy(this._viewParameters);return t.updateAll(this),t}}class Ei extends ox{#e=!1;#t=null;#r=null;#n=null;static _type="signature";static _editorType=We.SIGNATURE;static _defaultDrawingOptions=null;constructor(t){super({...t,mustBeCommitted:!0,name:"signatureEditor"}),this._willKeepAspectRatio=!0,this.#r=t.signatureData||null,this.#t=null,this.defaultL10nId="pdfjs-editor-signature-editor1"}static initialize(t,e){_e.initialize(t,e),this._defaultDrawingOptions=new Hy,this._defaultDrawnSignatureOptions=new jy(e.viewParameters)}static getDefaultDrawingOptions(t){const e=this._defaultDrawingOptions.clone();return e.updateProperties(t),e}static get supportMultipleDrawings(){return!1}static get typesMap(){return Ue(this,"typesMap",new Map)}static get isDrawer(){return!1}get telemetryFinalData(){return{type:"signature",hasDescription:!!this.#t}}static computeTelemetryFinalData(t){const e=t.get("hasDescription");return{hasAltText:e.get(!0)??0,hasNoAltText:e.get(!1)??0}}get isResizable(){return!0}onScaleChanging(){null!==this._drawId&&super.onScaleChanging()}render(){if(this.div)return this.div;let t,e;const{_isCopy:r}=this;if(r&&(this._isCopy=!1,t=this.x,e=this.y),super.render(),null===this._drawId)if(this.#r){const{lines:o,mustSmooth:i,areContours:s,description:a,uuid:l,heightInPage:c}=this.#r,{rawDims:{pageWidth:u,pageHeight:d},rotation:h}=this.parent.viewport,f=Ql.processDrawnLines({lines:o,pageWidth:u,pageHeight:d,rotation:h,innerMargin:Ei._INNER_MARGIN,mustSmooth:i,areContours:s});this.addSignature(f,c,a,l)}else this.div.setAttribute("data-l10n-args",JSON.stringify({description:""})),this.div.hidden=!0,this._uiManager.getSignature(this);else this.div.setAttribute("data-l10n-args",JSON.stringify({description:this.#t||""}));return r&&(this._isCopy=!0,this._moveAfterPaste(t,e)),this.div}setUuid(t){this.#n=t,this.addEditToolbar()}getUuid(){return this.#n}get description(){return this.#t}set description(t){this.#t=t,this.div&&(this.div.setAttribute("data-l10n-args",JSON.stringify({description:t})),super.addEditToolbar().then(e=>{e?.updateEditSignatureButton(t)}))}getSignaturePreview(){const{newCurves:t,areContours:e,thickness:r,width:o,height:i}=this.#r,s=Math.max(o,i);return{areContours:e,outline:Ql.processDrawnLines({lines:{curves:t.map(l=>({points:l})),thickness:r,width:o,height:i},pageWidth:s,pageHeight:s,rotation:0,innerMargin:0,mustSmooth:!1,areContours:e}).outline}}get toolbarButtons(){return this._uiManager.signatureManager?[["editSignature",this._uiManager.signatureManager]]:super.toolbarButtons}addSignature(t,e,r,o){const{x:i,y:s}=this,{outline:a}=this.#r=t;let l;this.#e=a instanceof By,this.description=r,this.#e?l=Ei.getDefaultDrawingOptions():(l=Ei._defaultDrawnSignatureOptions.clone(),l.updateProperties({"stroke-width":a.thickness})),this._addOutlines({drawOutlines:a,drawingOptions:l});const[,c]=this.pageDimensions;let u=e/c;u=u>=1?.5:u,this.width*=u/this.height,this.width>=1&&(u*=.9/this.width,this.width=.9),this.height=u,this.setDims(),this.x=i,this.y=s,this.center(),this._onResized(),this.onScaleChanging(),this.rotate(),this._uiManager.addToAnnotationStorage(this),this.setUuid(o),this._reportTelemetry({action:"pdfjs.signature.inserted",data:{hasBeenSaved:!!o,hasDescription:!!r}}),this.div.hidden=!1}getFromImage(t){const{rawDims:{pageWidth:e,pageHeight:r},rotation:o}=this.parent.viewport;return Ql.process(t,e,r,o,Ei._INNER_MARGIN)}getFromText(t,e){const{rawDims:{pageWidth:r,pageHeight:o},rotation:i}=this.parent.viewport;return Ql.extractContoursFromText(t,e,r,o,i,Ei._INNER_MARGIN)}getDrawnSignature(t){const{rawDims:{pageWidth:e,pageHeight:r},rotation:o}=this.parent.viewport;return Ql.processDrawnLines({lines:t,pageWidth:e,pageHeight:r,rotation:o,innerMargin:Ei._INNER_MARGIN,mustSmooth:!1,areContours:!1})}createDrawingOptions({areContours:t,thickness:e}){t?this._drawingOptions=Ei.getDefaultDrawingOptions():(this._drawingOptions=Ei._defaultDrawnSignatureOptions.clone(),this._drawingOptions.updateProperties({"stroke-width":e}))}serialize(t=!1){if(this.isEmpty())return null;const{lines:e,points:r}=this.serializeDraw(t),{_drawingOptions:{"stroke-width":o}}=this,i=Object.assign(super.serialize(t),{isSignature:!0,areContours:this.#e,color:[0,0,0],thickness:this.#e?0:o});return this.addComment(i),t?(i.paths={lines:e,points:r},i.uuid=this.#n,i.isCopy=!0):i.lines=e,this.#t&&(i.accessibilityData={type:"Figure",alt:this.#t}),i}static deserializeDraw(t,e,r,o,i,s){return s.areContours?By.deserialize(t,e,r,o,i,s):qu.deserialize(t,e,r,o,i,s)}static deserialize(t,e,r){var o=()=>super.deserialize,i=this;return B(function*(){const s=yield o().call(i,t,e,r);return s.#e=t.areContours,s.description=t.accessibilityData?.alt||"",s.#n=t.uuid,s})()}}class eV extends _e{#e=null;#t=null;#r=null;#n=null;#s=null;#i="";#o=null;#a=!1;#c=null;#l=!1;#h=!1;static _type="stamp";static _editorType=We.STAMP;constructor(t){super({...t,name:"stampEditor"}),this.#n=t.bitmapUrl,this.#s=t.bitmapFile,this.defaultL10nId="pdfjs-editor-stamp-editor"}static initialize(t,e){_e.initialize(t,e)}static isHandlingMimeForPasting(t){return fy.includes(t)}static paste(t,e){e.pasteEditor({mode:We.STAMP},{bitmapFile:t.getAsFile()})}altTextFinish(){this._uiManager.useNewAltTextFlow&&(this.div.hidden=!1),super.altTextFinish()}get telemetryFinalData(){return{type:"stamp",hasAltText:!!this.altTextData?.altText}}static computeTelemetryFinalData(t){const e=t.get("hasAltText");return{hasAltText:e.get(!0)??0,hasNoAltText:e.get(!1)??0}}#d(t,e=!1){t?(this.#e=t.bitmap,e||(this.#t=t.id,this.#l=t.isSvg),t.file&&(this.#i=t.file.name),this.#g()):this.remove()}#f(){if(this.#r=null,this._uiManager.enableWaiting(!1),this.#o){if(this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&this.#e)return void this.addEditToolbar().then(()=>{this._editToolbar.hide(),this._uiManager.editAltText(this,!0)});if(!this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&this.#e){this._reportTelemetry({action:"pdfjs.image.image_added",data:{alt_text_modal:!1,alt_text_type:"empty"}});try{this.mlGuessAltText()}catch{}}this.div.focus()}}mlGuessAltText(){var t=this;return B(function*(e=null,r=!0){if(t.hasAltTextData())return null;const{mlManager:o}=t._uiManager;if(!o)throw new Error("No ML.");if(!(yield o.isEnabledFor("altText")))throw new Error("ML isn't enabled for alt text.");const{data:i,width:s,height:a}=e||t.copyCanvas(null,null,!0).imageData,l=yield o.guess({name:"altText",request:{data:i,width:s,height:a,channels:i.length/(s*a)}});if(!l)throw new Error("No response from the AI service.");if(l.error)throw new Error("Error from the AI service.");if(l.cancel)return null;if(!l.output)throw new Error("No valid response from the AI service.");const c=l.output;return yield t.setGuessedAltText(c),r&&!t.hasAltTextData()&&(t.altTextData={alt:c,decorative:!1}),c}).apply(this,arguments)}#m(){var t=this;if(this.#t)return this._uiManager.enableWaiting(!0),void this._uiManager.imageManager.getFromId(this.#t).then(o=>this.#d(o,!0)).finally(()=>this.#f());if(this.#n){const o=this.#n;return this.#n=null,this._uiManager.enableWaiting(!0),void(this.#r=this._uiManager.imageManager.getFromUrl(o).then(i=>this.#d(i)).finally(()=>this.#f()))}if(this.#s){const o=this.#s;return this.#s=null,this._uiManager.enableWaiting(!0),void(this.#r=this._uiManager.imageManager.getFromFile(o).then(i=>this.#d(i)).finally(()=>this.#f()))}const e=document.createElement("input");e.type="file",e.accept=fy.join(",");const r=this._uiManager._signal;this.#r=new Promise(o=>{e.addEventListener("change",B(function*(){if(e.files&&0!==e.files.length){t._uiManager.enableWaiting(!0);const i=yield t._uiManager.imageManager.getFromFile(e.files[0]);t._reportTelemetry({action:"pdfjs.image.image_selected",data:{alt_text_modal:t._uiManager.useNewAltTextFlow}}),t.#d(i)}else t.remove();o()}),{signal:r}),e.addEventListener("cancel",()=>{this.remove(),o()},{signal:r})}).finally(()=>this.#f()),e.click()}remove(){this.#t&&(this.#e=null,this._uiManager.imageManager.deleteId(this.#t),this.#o?.remove(),this.#o=null,this.#c&&(clearTimeout(this.#c),this.#c=null)),super.remove()}rebuild(){this.parent?(super.rebuild(),null!==this.div&&(this.#t&&null===this.#o&&this.#m(),this.isAttachedToDOM||this.parent.add(this))):this.#t&&this.#m()}onceAdded(t){this._isDraggable=!0,t&&this.div.focus()}isEmpty(){return!(this.#r||this.#e||this.#n||this.#s||this.#t||this.#a)}get toolbarButtons(){return[["altText",this.createAltText()]]}get isResizable(){return!0}render(){if(this.div)return this.div;let t,e;return this._isCopy&&(t=this.x,e=this.y),super.render(),this.div.hidden=!0,this.createAltText(),this.#a||(this.#e?this.#g():this.#m()),this._isCopy&&this._moveAfterPaste(t,e),this._uiManager.addShouldRescale(this),this.div}setCanvas(t,e){const{id:r,bitmap:o}=this._uiManager.imageManager.getFromCanvas(t,e);e.remove(),r&&this._uiManager.imageManager.isValidId(r)&&(this.#t=r,o&&(this.#e=o),this.#a=!1,this.#g())}_onResized(){this.onScaleChanging()}onScaleChanging(){this.parent&&(null!==this.#c&&clearTimeout(this.#c),this.#c=setTimeout(()=>{this.#c=null,this.#p()},200))}#g(){const{div:t}=this;let{width:e,height:r}=this.#e;const[o,i]=this.pageDimensions,s=.75;if(this.width)e=this.width*o,r=this.height*i;else if(e>s*o||r>s*i){const l=Math.min(s*o/e,s*i/r);e*=l,r*=l}this._uiManager.enableWaiting(!1);const a=this.#o=document.createElement("canvas");a.setAttribute("role","img"),this.addContainer(a),this.width=e/o,this.height=r/i,this.setDims(),this._initialOptions?.isCentered?this.center():this.fixAndSetPosition(),this._initialOptions=null,(!this._uiManager.useNewAltTextWhenAddingImage||!this._uiManager.useNewAltTextFlow||this.annotationElementId)&&(t.hidden=!1),this.#p(),this.#h||(this.parent.addUndoableEditor(this),this.#h=!0),this._reportTelemetry({action:"inserted_image"}),this.#i&&this.div.setAttribute("aria-description",this.#i),this.annotationElementId||this._uiManager.a11yAlert("pdfjs-editor-stamp-added-alert")}copyCanvas(t,e,r=!1){t||(t=224);const{width:o,height:i}=this.#e,s=new Ci;let a=this.#e,l=o,c=i,u=null;if(e){if(o>e||i>e){const w=Math.min(e/o,e/i);l=Math.floor(o*w),c=Math.floor(i*w)}u=document.createElement("canvas");const h=u.width=Math.ceil(l*s.sx),f=u.height=Math.ceil(c*s.sy);this.#l||(a=this.#u(h,f));const p=u.getContext("2d");p.filter=this._uiManager.hcmFilter;let g="white",m="#cfcfd8";"none"!==this._uiManager.hcmFilter?m="black":y7.isDarkMode&&(g="#8f8f9d",m="#42414d");const b=15,v=b*s.sx,y=b*s.sy,C=new OffscreenCanvas(2*v,2*y),_=C.getContext("2d");_.fillStyle=g,_.fillRect(0,0,2*v,2*y),_.fillStyle=m,_.fillRect(0,0,v,y),_.fillRect(v,y,v,y),p.fillStyle=p.createPattern(C,"repeat"),p.fillRect(0,0,h,f),p.drawImage(a,0,0,a.width,a.height,0,0,h,f)}let d=null;if(r){let h,f;if(s.symmetric&&a.width<t&&a.height<t)h=a.width,f=a.height;else if(a=this.#e,o>t||i>t){const m=Math.min(t/o,t/i);h=Math.floor(o*m),f=Math.floor(i*m),this.#l||(a=this.#u(h,f))}const g=new OffscreenCanvas(h,f).getContext("2d",{willReadFrequently:!0});g.drawImage(a,0,0,a.width,a.height,0,0,h,f),d={width:h,height:f,data:g.getImageData(0,0,h,f).data}}return{canvas:u,width:l,height:c,imageData:d}}#u(t,e){const{width:r,height:o}=this.#e;let i=r,s=o,a=this.#e;for(;i>2*t||s>2*e;){const l=i,c=s;i>2*t&&(i=i>=16384?Math.floor(i/2)-1:Math.ceil(i/2)),s>2*e&&(s=s>=16384?Math.floor(s/2)-1:Math.ceil(s/2));const u=new OffscreenCanvas(i,s);u.getContext("2d").drawImage(a,0,0,l,c,0,0,i,s),a=u.transferToImageBitmap()}return a}#p(){const[t,e]=this.parentDimensions,{width:r,height:o}=this,i=new Ci,s=Math.ceil(r*t*i.sx),a=Math.ceil(o*e*i.sy),l=this.#o;if(!l||l.width===s&&l.height===a)return;l.width=s,l.height=a;const c=this.#l?this.#e:this.#u(s,a),u=l.getContext("2d");u.filter=this._uiManager.hcmFilter,u.drawImage(c,0,0,c.width,c.height,0,0,s,a)}#b(t){if(t){if(this.#l){const o=this._uiManager.imageManager.getSvgUrl(this.#t);if(o)return o}const e=document.createElement("canvas");return({width:e.width,height:e.height}=this.#e),e.getContext("2d").drawImage(this.#e,0,0),e.toDataURL()}if(this.#l){const[e,r]=this.pageDimensions,o=Math.round(this.width*e*Gl.PDF_TO_CSS_UNITS),i=Math.round(this.height*r*Gl.PDF_TO_CSS_UNITS),s=new OffscreenCanvas(o,i);return s.getContext("2d").drawImage(this.#e,0,0,this.#e.width,this.#e.height,0,0,o,i),s.transferToImageBitmap()}return structuredClone(this.#e)}static deserialize(t,e,r){var o=()=>super.deserialize,i=this;return B(function*(){let s=null,a=!1;if(t instanceof tx){const{data:{rect:b,rotation:v,id:y,structParent:C,popupRef:_,richText:w,contentsObj:k,creationDate:A,modificationDate:$},container:K,parent:{page:{pageNumber:z}},canvas:st}=t;let at,Ct;st?(delete t.canvas,({id:at,bitmap:Ct}=r.imageManager.getFromCanvas(K.id,st)),st.remove()):(a=!0,t._hasNoCanvas=!0);const Nt=(yield e._structTree.getAriaAttributes(`${Wl}${y}`))?.get("aria-label")||"";s=t={annotationType:We.STAMP,bitmapId:at,bitmap:Ct,pageIndex:z-1,rect:b.slice(0),rotation:v,annotationElementId:y,id:y,deleted:!1,accessibilityData:{decorative:!1,altText:Nt},isSvg:!1,structParent:C,popupRef:_,richText:w,comment:k?.str||null,creationDate:A,modificationDate:$}}const l=yield o().call(i,t,e,r),{rect:c,bitmap:u,bitmapUrl:d,bitmapId:h,isSvg:f,accessibilityData:p}=t;a?(r.addMissingCanvas(t.id,l),l.#a=!0):h&&r.imageManager.isValidId(h)?(l.#t=h,u&&(l.#e=u)):l.#n=d,l.#l=f;const[g,m]=l.pageDimensions;return l.width=(c[2]-c[0])/g,l.height=(c[3]-c[1])/m,p&&(l.altTextData=p),l._initialData=s,t.comment&&l.setCommentData(t),l.#h=!!s,l})()}serialize(t=!1,e=null){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const r=Object.assign(super.serialize(t),{bitmapId:this.#t,isSvg:this.#l});if(this.addComment(r),t)return r.bitmapUrl=this.#b(!0),r.accessibilityData=this.serializeAltText(!0),r.isCopy=!0,r;const{decorative:o,altText:i}=this.serializeAltText(!1);if(!o&&i&&(r.accessibilityData={type:"Figure",alt:i}),this.annotationElementId){const a=this.#y(r);return a.isSame?null:(a.isSameAltText?delete r.accessibilityData:r.accessibilityData.structParent=this._initialData.structParent??-1,r.id=this.annotationElementId,delete r.bitmapId,r)}if(null===e)return r;e.stamps||=new Map;const s=this.#l?(r.rect[2]-r.rect[0])*(r.rect[3]-r.rect[1]):null;if(e.stamps.has(this.#t)){if(this.#l){const a=e.stamps.get(this.#t);s>a.area&&(a.area=s,a.serialized.bitmap.close(),a.serialized.bitmap=this.#b(!1))}}else e.stamps.set(this.#t,{area:s,serialized:r}),r.bitmap=this.#b(!1);return r}#y(t){const{pageIndex:e,accessibilityData:{altText:r}}=this._initialData,o=t.pageIndex===e,i=(t.accessibilityData?.alt||"")===r;return{isSame:!this.hasEditedComment&&!this._hasBeenMoved&&!this._hasBeenResized&&o&&i,isSameAltText:i}}renderAnnotationElement(t){return this.deleted?(t.hide(),null):(t.updateEdited({rect:this.getPDFRect(),popup:this.comment}),null)}}let tV=(()=>{class n{#e;#t=!1;#r=null;#n=null;#s=null;#i=new Map;#o=!1;#a=!1;#c=!1;#l=null;#h=null;#d=null;#f=null;#m=null;#g=-1;#u;static _initialized=!1;static#p=new Map([sr,Fy,eV,jn,Ei].map(e=>[e._editorType,e]));constructor({uiManager:e,pageIndex:r,div:o,structTreeLayer:i,accessibilityManager:s,annotationLayer:a,drawLayer:l,textLayer:c,viewport:u,l10n:d}){const h=[...n.#p.values()];if(!n._initialized){n._initialized=!0;for(const f of h)f.initialize(d,e)}e.registerEditorTypes(h),this.#u=e,this.pageIndex=r,this.div=o,this.#e=s,this.#r=a,this.viewport=u,this.#d=c,this.drawLayer=l,this._structTree=i,this.#u.addLayer(this)}get isEmpty(){return 0===this.#i.size}get isInvisible(){return this.isEmpty&&this.#u.getMode()===We.NONE}updateToolbar(e){this.#u.updateToolbar(e)}updateMode(e=this.#u.getMode()){switch(this.#C(),e){case We.NONE:return this.div.classList.toggle("nonEditing",!0),this.disableTextSelection(),this.togglePointerEvents(!1),this.toggleAnnotationLayerPointerEvents(!0),void this.disableClick();case We.INK:this.disableTextSelection(),this.togglePointerEvents(!0),this.enableClick();break;case We.HIGHLIGHT:this.enableTextSelection(),this.togglePointerEvents(!1),this.disableClick();break;default:this.disableTextSelection(),this.togglePointerEvents(!0),this.enableClick()}this.toggleAnnotationLayerPointerEvents(!1);const{classList:r}=this.div;if(r.toggle("nonEditing",!1),e===We.POPUP)r.toggle("commentEditing",!0);else{r.toggle("commentEditing",!1);for(const o of n.#p.values())r.toggle(`${o._type}Editing`,e===o._editorType)}this.div.hidden=!1}hasTextLayer(e){return e===this.#d?.div}setEditingState(e){this.#u.setEditingState(e)}addCommands(e){this.#u.addCommands(e)}cleanUndoStack(e){this.#u.cleanUndoStack(e)}toggleDrawing(e=!1){this.div.classList.toggle("drawing",!e)}togglePointerEvents(e=!1){this.div.classList.toggle("disabled",!e)}toggleAnnotationLayerPointerEvents(e=!1){this.#r?.togglePointerEvents(e)}get#b(){return 0!==this.#i.size?this.#i.values():this.#u.getEditors(this.pageIndex)}enable(){var e=this;return B(function*(){e.#c=!0,e.div.tabIndex=0,e.togglePointerEvents(!0),e.div.classList.toggle("nonEditing",!1),e.#m?.abort(),e.#m=null;const r=new Set;for(const i of e.#b)i.enableEditing(),i.show(!0),i.annotationElementId&&(e.#u.removeChangedExistingAnnotation(i),r.add(i.annotationElementId));const o=e.#r;if(o)for(const i of o.getEditableAnnotations()){if(i.hide(),e.#u.isDeletedAnnotationElement(i.data.id)||r.has(i.data.id))continue;const s=yield e.deserialize(i);s&&(e.addOrRebuild(s),s.enableEditing())}e.#c=!1,e.#u._eventBus.dispatch("editorsrendered",{source:e,pageNumber:e.pageIndex+1})})()}disable(){if(this.#a=!0,this.div.tabIndex=-1,this.togglePointerEvents(!1),this.div.classList.toggle("nonEditing",!0),this.#d&&!this.#m){this.#m=new AbortController;const i=this.#u.combinedSignal(this.#m);this.#d.div.addEventListener("pointerdown",s=>{const{clientX:l,clientY:c,timeStamp:u}=s;if(u-this.#g>500)return void(this.#g=u);this.#g=-1;const{classList:h}=this.div;h.toggle("getElements",!0);const f=document.elementsFromPoint(l,c);if(h.toggle("getElements",!1),!this.div.contains(f[0]))return;let p;const g=new RegExp(`^${Iu}[0-9]+$`);for(const b of f)if(g.test(b.id)){p=b.id;break}if(!p)return;const m=this.#i.get(p);null===m?.annotationElementId&&(s.stopPropagation(),s.preventDefault(),m.dblclick(s))},{signal:i,capture:!0})}const e=this.#r,r=[];if(e){const i=new Map,s=new Map;for(const l of this.#b)l.disableEditing(),l.annotationElementId?null===l.serialize()?(s.set(l.annotationElementId,l),this.getEditableAnnotation(l.annotationElementId)?.show(),l.remove()):i.set(l.annotationElementId,l):r.push(l);const a=e.getEditableAnnotations();for(const l of a){const{id:c}=l.data;if(this.#u.isDeletedAnnotationElement(c)){l.updateEdited({deleted:!0});continue}let u=s.get(c);u?(u.resetAnnotationElement(l),u.show(!1),l.show()):(u=i.get(c),u&&(this.#u.addChangedExistingAnnotation(u),u.renderAnnotationElement(l)&&u.show(!1)),l.show())}}this.#C(),this.isEmpty&&(this.div.hidden=!0);const{classList:o}=this.div;for(const i of n.#p.values())o.remove(`${i._type}Editing`);this.disableTextSelection(),this.toggleAnnotationLayerPointerEvents(!0),e?.updateFakeAnnotations(r),this.#a=!1}getEditableAnnotation(e){return this.#r?.getEditableAnnotation(e)||null}setActiveEditor(e){this.#u.getActive()!==e&&this.#u.setActiveEditor(e)}enableTextSelection(){if(this.div.tabIndex=-1,this.#d?.div&&!this.#f){this.#f=new AbortController;const e=this.#u.combinedSignal(this.#f);this.#d.div.addEventListener("pointerdown",this.#y.bind(this),{signal:e}),this.#d.div.classList.add("highlighting")}}disableTextSelection(){this.div.tabIndex=0,this.#d?.div&&this.#f&&(this.#f.abort(),this.#f=null,this.#d.div.classList.remove("highlighting"))}#y(e){this.#u.unselectAll();const{target:r}=e;if(r===this.#d.div||("img"===r.getAttribute("role")||r.classList.contains("endOfContent"))&&this.#d.div.contains(r)){const{isMac:o}=pr.platform;if(0!==e.button||e.ctrlKey&&o)return;this.#u.showAllEditors("highlight",!0,!0),this.#d.div.classList.add("free"),this.toggleDrawing(),jn.startHighlighting(this,"ltr"===this.#u.direction,{target:this.#d.div,x:e.x,y:e.y}),this.#d.div.addEventListener("pointerup",()=>{this.#d.div.classList.remove("free"),this.toggleDrawing(!0)},{once:!0,signal:this.#u._signal}),e.preventDefault()}}enableClick(){if(this.#n)return;this.#n=new AbortController;const e=this.#u.combinedSignal(this.#n);this.div.addEventListener("pointerdown",this.pointerdown.bind(this),{signal:e});const r=this.pointerup.bind(this);this.div.addEventListener("pointerup",r,{signal:e}),this.div.addEventListener("pointercancel",r,{signal:e})}disableClick(){this.#n?.abort(),this.#n=null}attach(e){this.#i.set(e.id,e);const{annotationElementId:r}=e;r&&this.#u.isDeletedAnnotationElement(r)&&this.#u.removeDeletedAnnotationElement(e)}detach(e){this.#i.delete(e.id),this.#e?.removePointerInTextLayer(e.contentDiv),!this.#a&&e.annotationElementId&&this.#u.addDeletedAnnotationElement(e)}remove(e){this.detach(e),this.#u.removeEditor(e),e.div.remove(),e.isAttachedToDOM=!1}changeParent(e){e.parent!==this&&(e.parent&&e.annotationElementId&&(this.#u.addDeletedAnnotationElement(e),_e.deleteAnnotationElement(e),e.annotationElementId=null),this.attach(e),e.parent?.detach(e),e.setParent(this),e.div&&e.isAttachedToDOM&&(e.div.remove(),this.div.append(e.div)))}add(e){if(e.parent!==this||!e.isAttachedToDOM){if(this.changeParent(e),this.#u.addEditor(e),this.attach(e),!e.isAttachedToDOM){const r=e.render();this.div.append(r),e.isAttachedToDOM=!0}e.fixAndSetPosition(),e.onceAdded(!this.#c),this.#u.addToAnnotationStorage(e),e._reportTelemetry(e.telemetryInitialData)}}moveEditorInDOM(e){if(!e.isAttachedToDOM)return;const{activeElement:r}=document;e.div.contains(r)&&!this.#s&&(e._focusEventsAllowed=!1,this.#s=setTimeout(()=>{this.#s=null,e.div.contains(document.activeElement)?e._focusEventsAllowed=!0:(e.div.addEventListener("focusin",()=>{e._focusEventsAllowed=!0},{once:!0,signal:this.#u._signal}),r.focus())},0)),e._structTreeParentId=this.#e?.moveElementInDOM(this.div,e.div,e.contentDiv,!0)}addOrRebuild(e){e.needsToBeRebuilt()?(e.parent||=this,e.rebuild(),e.show()):this.add(e)}addUndoableEditor(e){this.addCommands({cmd:()=>e._uiManager.rebuild(e),undo:()=>{e.remove()},mustExec:!1})}getEditorByUID(e){for(const r of this.#i.values())if(r.uid===e)return r;return null}getNextId(){return this.#u.getId()}get#v(){return n.#p.get(this.#u.getMode())}combinedSignal(e){return this.#u.combinedSignal(e)}#S(e){const r=this.#v;return r?new r.prototype.constructor(e):null}canCreateNewEmptyEditor(){return this.#v?.canCreateNewEmptyEditor()}pasteEditor(e,r){var o=this;return B(function*(){o.updateToolbar(e),yield o.#u.updateMode(e.mode);const{offsetX:i,offsetY:s}=o.#E(),a=o.getNextId(),l=o.#S({parent:o,id:a,x:i,y:s,uiManager:o.#u,isCentered:!0,...r});l&&o.add(l)})()}deserialize(e){var r=this;return B(function*(){return(yield n.#p.get(e.annotationType??e.annotationEditorType)?.deserialize(e,r,r.#u))||null})()}createAndAddNewEditor(e,r,o={}){const i=this.getNextId(),s=this.#S({parent:this,id:i,x:e.offsetX,y:e.offsetY,uiManager:this.#u,isCentered:r,...o});return s&&this.add(s),s}get boundingClientRect(){return this.div.getBoundingClientRect()}#E(){const{x:e,y:r,width:o,height:i}=this.boundingClientRect,s=Math.max(0,e),a=Math.max(0,r),u=(s+Math.min(window.innerWidth,e+o))/2-e,d=(a+Math.min(window.innerHeight,r+i))/2-r,[h,f]=this.viewport.rotation%180==0?[u,d]:[d,u];return{offsetX:h,offsetY:f}}addNewEditor(e={}){this.createAndAddNewEditor(this.#E(),!0,e)}setSelected(e){this.#u.setSelected(e)}toggleSelected(e){this.#u.toggleSelected(e)}unselect(e){this.#u.unselect(e)}pointerup(e){const{isMac:r}=pr.platform;if(0!==e.button||e.ctrlKey&&r||e.target!==this.div||!this.#o||(this.#o=!1,this.#v?.isDrawer&&this.#v.supportMultipleDrawings))return;if(!this.#t)return void(this.#t=!0);const o=this.#u.getMode();o!==We.STAMP&&o!==We.SIGNATURE?this.createAndAddNewEditor(e,!1):this.#u.unselectAll()}pointerdown(e){if(this.#u.getMode()===We.HIGHLIGHT&&this.enableTextSelection(),this.#o)return void(this.#o=!1);const{isMac:r}=pr.platform;if(0!==e.button||e.ctrlKey&&r||e.target!==this.div)return;if(this.#o=!0,this.#v?.isDrawer)return void this.startDrawingSession(e);const o=this.#u.getActive();this.#t=!o||o.isEmpty()}startDrawingSession(e){if(this.div.focus({preventScroll:!0}),this.#l)return void this.#v.startDrawing(this,this.#u,!1,e);this.#u.setCurrentDrawingSession(this),this.#l=new AbortController;const r=this.#u.combinedSignal(this.#l);this.div.addEventListener("blur",({relatedTarget:o})=>{o&&!this.div.contains(o)&&(this.#h=null,this.commitOrRemove())},{signal:r}),this.#v.startDrawing(this,this.#u,!1,e)}pause(e){if(e){const{activeElement:r}=document;return void(this.div.contains(r)&&(this.#h=r))}this.#h&&setTimeout(()=>{this.#h?.focus(),this.#h=null},0)}endDrawingSession(e=!1){return this.#l?(this.#u.setCurrentDrawingSession(null),this.#l.abort(),this.#l=null,this.#h=null,this.#v.endDrawing(e)):null}findNewParent(e,r,o){const i=this.#u.findParent(r,o);return null!==i&&i!==this&&(i.changeParent(e),!0)}commitOrRemove(){return!!this.#l&&(this.endDrawingSession(),!0)}onScaleChanging(){this.#l&&this.#v.onScaleChangingWhenDrawing(this)}destroy(){this.commitOrRemove(),this.#u.getActive()?.parent===this&&(this.#u.commitOrRemove(),this.#u.setActiveEditor(null)),this.#s&&(clearTimeout(this.#s),this.#s=null);for(const e of this.#i.values())this.#e?.removePointerInTextLayer(e.contentDiv),e.setParent(null),e.isAttachedToDOM=!1,e.div.remove();this.div=null,this.#i.clear(),this.#u.removeLayer(this)}#C(){for(const e of this.#i.values())e.isEmpty()&&e.remove()}render({viewport:e}){this.viewport=e,ga(this.div,e);for(const r of this.#u.getEditors(this.pageIndex))this.add(r),r.rebuild();this.updateMode()}update({viewport:e}){this.#u.commitOrRemove(),this.#C();const r=this.viewport.rotation,o=e.rotation;if(this.viewport=e,ga(this.div,{rotation:o}),r!==o)for(const i of this.#i.values())i.rotate(o)}get pageDimensions(){const{pageWidth:e,pageHeight:r}=this.viewport.rawDims;return[e,r]}get scale(){return this.#u.viewParameters.realScale}}return n})();class br{#e=null;#t=new Map;#r=new Map;static#n=0;constructor({pageIndex:t}){this.pageIndex=t}setParent(t){if(this.#e){if(this.#e!==t){if(this.#t.size>0)for(const e of this.#t.values())e.remove(),t.append(e);this.#e=t}}else this.#e=t}static get _svgFactory(){return Ue(this,"_svgFactory",new gp)}static#s(t,[e,r,o,i]){const{style:s}=t;s.top=100*r+"%",s.left=100*e+"%",s.width=100*o+"%",s.height=100*i+"%"}#i(){const t=br._svgFactory.create(1,1,!0);return this.#e.append(t),t.setAttribute("aria-hidden",!0),t}#o(t,e){const r=br._svgFactory.createElement("clipPath");t.append(r);const o=`clip_${e}`;r.setAttribute("id",o),r.setAttribute("clipPathUnits","objectBoundingBox");const i=br._svgFactory.createElement("use");return r.append(i),i.setAttribute("href",`#${e}`),i.classList.add("clip"),o}#a(t,e){for(const[r,o]of Object.entries(e))null===o?t.removeAttribute(r):t.setAttribute(r,o)}draw(t,e=!1,r=!1){const o=br.#n++,i=this.#i(),s=br._svgFactory.createElement("defs");i.append(s);const a=br._svgFactory.createElement("path");s.append(a);const l=`path_p${this.pageIndex}_${o}`;a.setAttribute("id",l),a.setAttribute("vector-effect","non-scaling-stroke"),e&&this.#r.set(o,a);const c=r?this.#o(s,l):null,u=br._svgFactory.createElement("use");return i.append(u),u.setAttribute("href",`#${l}`),this.updateProperties(i,t),this.#t.set(o,i),{id:o,clipPathId:`url(#${c})`}}drawOutline(t,e){const r=br.#n++,o=this.#i(),i=br._svgFactory.createElement("defs");o.append(i);const s=br._svgFactory.createElement("path");i.append(s);const a=`path_p${this.pageIndex}_${r}`;let l;if(s.setAttribute("id",a),s.setAttribute("vector-effect","non-scaling-stroke"),e){const d=br._svgFactory.createElement("mask");i.append(d),l=`mask_p${this.pageIndex}_${r}`,d.setAttribute("id",l),d.setAttribute("maskUnits","objectBoundingBox");const h=br._svgFactory.createElement("rect");d.append(h),h.setAttribute("width","1"),h.setAttribute("height","1"),h.setAttribute("fill","white");const f=br._svgFactory.createElement("use");d.append(f),f.setAttribute("href",`#${a}`),f.setAttribute("stroke","none"),f.setAttribute("fill","black"),f.setAttribute("fill-rule","nonzero"),f.classList.add("mask")}const c=br._svgFactory.createElement("use");o.append(c),c.setAttribute("href",`#${a}`),l&&c.setAttribute("mask",`url(#${l})`);const u=c.cloneNode();return o.append(u),c.classList.add("mainOutline"),u.classList.add("secondaryOutline"),this.updateProperties(o,t),this.#t.set(r,o),r}finalizeDraw(t,e){this.#r.delete(t),this.updateProperties(t,e)}updateProperties(t,e){if(!e)return;const{root:r,bbox:o,rootClass:i,path:s}=e,a="number"==typeof t?this.#t.get(t):t;if(a){if(r&&this.#a(a,r),o&&br.#s(a,o),i){const{classList:l}=a;for(const[c,u]of Object.entries(i))l.toggle(c,u)}s&&this.#a(a.firstElementChild.firstElementChild,s)}}updateParent(t,e){if(e===this)return;const r=this.#t.get(t);r&&(e.#e.append(r),this.#t.delete(t),e.#t.set(t,r))}remove(t){this.#r.delete(t),null!==this.#e&&(this.#t.get(t).remove(),this.#t.delete(t))}destroy(){this.#e=null;for(const t of this.#t.values())t.remove();this.#t.clear(),this.#r.clear()}}globalThis._pdfjsTestingUtils={HighlightOutliner:Ly},globalThis.pdfjsLib={AbortException:_s,AnnotationEditorLayer:tV,AnnotationEditorParamsType:bt,AnnotationEditorType:We,AnnotationEditorUIManager:Hu,AnnotationLayer:Oy,AnnotationMode:ys,AnnotationType:Wn,applyOpacity:function C7(n,t,e,r){const o=255*(1-(r=Math.min(Math.max(r??1,0),1)));return[n=Math.round(n*r+o),t=Math.round(t*r+o),e=Math.round(e*r+o)]},build:"f44e5f0e6",ColorPicker:jo,createValidAbsoluteUrl:XA,CSSConstants:class _7{static get commentForegroundColor(){const t=document.createElement("span");t.classList.add("comment","sidebar");const{style:e}=t;e.width=e.height="0",e.display="none",e.color="var(--comment-fg-color)",document.body.append(t);const{color:r}=window.getComputedStyle(t);return t.remove(),Ue(this,"commentForegroundColor",Pu(r))}},DOMSVGFactory:gp,DrawLayer:br,FeatureTest:pr,fetchData:Nu,findContrastColor:function w7(n,t){const e=n[0]+256*n[1]+65536*n[2]+16777216*t[0]+4294967296*t[1]+1099511627776*t[2];let r=lI.get(e);if(r)return r;const o=new Float32Array(9),i=o.subarray(0,3),s=o.subarray(3,6);iI(n,s);const a=o.subarray(6,9);iI(t,a);const l=a[2]<.5,c=l?12:4.5;if(s[2]=l?Math.sqrt(s[2]):1-Math.sqrt(1-s[2]),aI(s,a,i)<c){let u,d;l?(u=s[2],d=1):(u=0,d=s[2]);const h=.005;for(;d-u>h;){const f=s[2]=(u+d)/2;l===aI(s,a,i)<c?u=f:d=f}s[2]=l?d:u}return py(s,i),r=he.makeHexColor(Math.round(255*i[0]),Math.round(255*i[1]),Math.round(255*i[2])),lI.set(e,r),r},getDocument:qI,getFilenameFromUrl:function p7(n){return[n]=n.split(/[#?]/,1),n.substring(n.lastIndexOf("/")+1)},getPdfFilenameFromUrl:function g7(n,t="document.pdf"){if("string"!=typeof n)return t;if(op(n))return je('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),t;const r=(a=>{try{return new URL(a)}catch{try{return new URL(decodeURIComponent(a))}catch{try{return new URL(a,"https://foo.bar")}catch{try{return new URL(decodeURIComponent(a),"https://foo.bar")}catch{return null}}}}})(n);if(!r)return t;const o=a=>{try{let l=decodeURIComponent(a);return l.includes("/")?(l=l.split("/").at(-1),l.test(/^\.pdf$/i)?l:a):l}catch{return a}},i=/\.pdf$/i,s=r.pathname.split("/").at(-1);if(i.test(s))return o(s);if(r.searchParams.size>0){const a=Array.from(r.searchParams.values()).reverse();for(const c of a)if(i.test(c))return o(c);const l=Array.from(r.searchParams.keys()).reverse();for(const c of l)if(i.test(c))return o(c)}if(r.hash){const l=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i.exec(r.hash);if(l)return o(l[0])}return t},getRGB:Pu,getUuid:tI,getXfaPageViewport:function b7(n,{scale:t=1,rotation:e=0}){const{width:r,height:o}=n.attributes.style,i=[0,0,parseInt(r),parseInt(o)];return new Ou({viewBox:i,userUnit:1,scale:t,rotation:e})},GlobalWorkerOptions:Uu,ImageKind:Qf,InvalidPDFException:ay,isDataScheme:op,isPdfFile:dy,isValidExplicitDest:N7,MathClamp:jr,noContextMenu:Fo,normalizeUnicode:function d7(n){return ly||(ly=/([\u00a0\u00b5\u037e\u0eb3\u2000-\u200a\u202f\u2126\ufb00-\ufb04\ufb06\ufb20-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufba1\ufba4-\ufba9\ufbae-\ufbb1\ufbd3-\ufbdc\ufbde-\ufbe7\ufbea-\ufbf8\ufbfc-\ufbfd\ufc00-\ufc5d\ufc64-\ufcf1\ufcf5-\ufd3d\ufd88\ufdf4\ufdfa-\ufdfb\ufe71\ufe77\ufe79\ufe7b\ufe7d]+)|(\ufb05+)/gu,eI=new Map([["\ufb05","\u017ft"]])),n.replaceAll(ly,(t,e,r)=>e?e.normalize("NFKC"):eI.get(r))},OPS:xu,OutputScale:Ci,PasswordResponses:{NEED_PASSWORD:1,INCORRECT_PASSWORD:2},PDFDataRangeTransport:YI,PDFDateString:hy,PDFWorker:mr,PermissionFlag:{PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048},PixelsPerInch:Gl,RenderingCancelledException:uy,renderRichText:cI,ResponseException:np,setLayerDimensions:ga,shadow:Ue,SignatureExtractor:Ql,stopEvent:Rn,SupportedImageMimeTypes:fy,TextLayer:$r,TouchManager:sp,updateUrlHash:ZA,Util:he,VerbosityLevel:Jf,version:"5.4.449",XfaLayer:rI};let nV=(()=>{class n{analyzeInvoice(e){return B(function*(){const r=yield e.arrayBuffer(),o=yield qI({data:r}).promise,i=yield(0,Q$.createWorker)("spa"),s=[];for(let a=1;a<=o.numPages;a++){const l=yield o.getPage(a),c=l.getViewport({scale:2}),u=document.createElement("canvas"),d=u.getContext("2d");u.width=c.width,u.height=c.height,yield l.render({canvasContext:d,viewport:c}).promise;const h=u.toDataURL(),{data:f}=yield i.recognize(h);s.push(f.text)}return yield i.terminate(),s})()}static \u0275fac=function(r){return new(r||n)};static \u0275prov=Z({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const rV=(n,t)=>t.IVA,oV=(n,t)=>t.Referencia;function iV(n,t){if(1&n&&(ge(0,"tr")(1,"td",6),q(2),me(),ge(3,"td",6),q(4),me(),ge(5,"td",6),q(6),me(),ge(7,"td",6),q(8),me()()),2&n){const e=t.$implicit;x(2),mt(" ",e.IVA," "),x(2),mt(" ",e.Importe.toFixed(2)," "),x(2),mt(" ",e.Cuota.toFixed(2)," "),x(2),mt(" ",null==e.Total?null:e.Total.toFixed(2)," ")}}function sV(n,t){if(1&n&&(ge(0,"tr")(1,"td",8),q(2),me(),ge(3,"td",8),q(4),me(),ge(5,"td",6),q(6),me(),ge(7,"td",6),q(8),me(),ge(9,"td",6),q(10),me(),ge(11,"td",6),q(12),me(),ge(13,"td",6),q(14),me()()),2&n){const e=t.$implicit;x(2),mt(" ",e.Referencia," "),x(2),mt(" ",e.Articulo," "),x(2),mt(" ",e.Cantidad," "),x(2),mt(" ",e.Precio," "),x(2),mt(" ",e.IVA," "),x(2),mt(" ",e.Descuento," "),x(2),mt(" ",e.Importe," ")}}let aV=(()=>{class n{papa;ocrService;factura=new qf([]);uploaded=Hn();constructor(e,r){this.papa=e,this.ocrService=r}uploadInvoicePdf(e){var r=this;return B(function*(){const o=e.target;alert("Comienza OCR");const i=document.getElementById("txtInvoice");if(!o.files)return;i.innerHTML+=(yield r.ocrService.analyzeInvoice(o.files[0]));const s=i.innerHTML.split("\n").map(l=>l.replace(/\|/g,"").trim());i.innerHTML=s.join("\n");const a=[];for(const l of r.extraerProductos(i.innerHTML))a.push(new Gf(l));r.factura=new qf(a),alert("Fin OCR")})()}updateProduct(){this.uploaded.emit(this.factura)}uploadInvoiceFromText(){let r=document.getElementById("txtInvoice").value;const o=[];for(const i of this.extraerProductos(r))new Gf(i),o.push(i);this.factura=new qf(o),this.uploaded.emit(this.factura)}extraerProductos(e){const r=[/PAGO AL CONTADO/,/^Dto\.?$/i,/CARLOS VILLEGAS ARRANZ/,/CTRA\. ZORROZA CASTREJANA/,/\bZORROZA\b/,/^10$/,/^COPIA$/i,/P\xe1gina \d+ de \d+/i,/^\d{10,}$/,/^[\d.,]+$/,/^\S{20,}$/,/^\d+[.,]?\d*\s*%$/,/^(\d{1,3}([.,]\d{3})*[.,]\d{2}|\d+[.,]\d{2})$/];let o=(e=e.replace(/\u041d/g,"H").replace(/\u0410/g,"A")).split(/\r?\n/).map(l=>l.trim()).filter(l=>l.length>0);o=o.filter(l=>!r.some(c=>c.test(l.trim())));const i=[],s=[],a=/^([A-Z\d]+)\s+(.+?)\s+(-?\d+)\s+(-?[\d.,]+)(?:\s+(-?[\d.,]+)\s*%?)?\s+(-?\d+)\s+(-?[\d.,]+)$/i;for(let l of o){l=l.trim().replace(/[^a-zA-Z0-9 .,&%\n\-\/]/g,"");let c=l.trim().match(a);if(c){const[u,d,h,f,p,g,m,b]=c,v=new Gf({Referencia:d.trim().replace(/a/gi,"4"),Articulo:h.trim().replace("NNN",""),Cantidad:parseInt(f),PrecioCoste:p.replace(/,/g,".").includes(".")?parseFloat(p.replace(/,/g,".")):parseFloat(p.replace(/,/g,"."))/100,Descuento:g?parseFloat(g):0,IVA:parseInt(m)});i.push(v)}else s.push({Error:"Formato no reconocido",Line:l}),console.debug("ERR(No match): "+l)}return i}static \u0275fac=function(r){return new(r||n)(Ce(KA),Ce(nV))};static \u0275cmp=Mt({type:n,selectors:[["app-factura"]],outputs:{uploaded:"uploaded"},decls:50,vars:1,consts:[[1,"row"],[1,"col-12","form-group"],["id","txtInvoice","rows","5",1,"form-control",3,"change"],["type","button","id","btnInvoice","value","Extraer datos",3,"click"],["id","desglose",1,"col-12","col-md-4"],[1,"table","table-sm","table-stripped"],[1,"text-right"],["id","articles"],[1,"text-left"]],template:function(r,o){1&r&&(ge(0,"form")(1,"p"),q(2," Abre el pdf con la factura. Copia todo el contenido texto de la misma y pegalo en la siguiente caja. "),me(),ge(3,"div",0)(4,"div",1)(5,"textarea",2),Pl("change",function(){return o.uploadInvoiceFromText()}),me(),ge(6,"input",3),Pl("click",function(){return o.uploadInvoiceFromText()}),me()()()(),ge(7,"div",0)(8,"div",4)(9,"table",5)(10,"thead")(11,"th",6),q(12,"IVA"),me(),ge(13,"th",6),q(14,"Importe"),me(),ge(15,"th",6),q(16,"Cuota"),me(),ge(17,"th",6),q(18,"Total"),me()(),ge(19,"tbody"),Nl(20,iV,9,4,"tr",null,rV),me(),ge(22,"tfoot")(23,"tr"),Vn(24,"th",6)(25,"th",6)(26,"th",6),ge(27,"th",6),q(28),me()()()()()(),ge(29,"div",7)(30,"table",5)(31,"thead")(32,"tr")(33,"th",8),q(34,"Ref"),me(),ge(35,"th",8),q(36,"Art\xedculo"),me(),ge(37,"th",8),q(38,"Cantidad"),me(),ge(39,"th",6),q(40,"Precio"),me(),ge(41,"th",6),q(42,"IVA"),me(),ge(43,"th",6),q(44,"DTO"),me(),ge(45,"th",6),q(46,"Importe"),me()()(),ge(47,"tbody"),Nl(48,sV,15,7,"tr",null,oV),me()()()),2&r&&(x(20),Ol(o.factura.Desglose),x(8),mt(" ",o.factura.Total.toFixed(2)," "),x(20),Ol(o.factura.lineas))},encapsulation:2})}return n})();const lV=(n,t)=>t.id;function cV(n,t){if(1&n&&(ge(0,"tr")(1,"td",4),q(2),me(),ge(3,"td",4),q(4),me(),ge(5,"td",5),q(6),me(),ge(7,"td",5),q(8),me(),ge(9,"td",5),q(10),me(),ge(11,"td",5),q(12),me()()),2&n){const e=t.$implicit;x(2),mt(" ",e.Descripcion," "),x(2),mt(" ",e.Referencia," "),x(2),mt(" ",e.PrecioCoste," "),x(2),mt(" ",e.PrecioVenta," "),x(2),mt(" ",e.IVA," "),x(2),mt(" ",e.Margen.toFixed(2)," ")}}function uV(n,t){if(1&n&&(ge(0,"div",2)(1,"table",3)(2,"thead")(3,"tr")(4,"th",4),q(5,"Descripci\xf3n"),me(),ge(6,"th",4),q(7,"Referencia"),me(),ge(8,"th",5),q(9,"Precio (coste)"),me(),ge(10,"th",5),q(11,"Precio (venta)"),me(),ge(12,"th",5),q(13,"IVA"),me()()(),ge(14,"tbody"),Nl(15,cV,13,6,"tr",null,lV),me()()()),2&n){const e=Q();x(15),Ol(e.catalogo.Productos.slice(0,50))}}let dV=(()=>{class n{papa;catalogo=new ry([]);uploaded=Hn();constructor(e){this.papa=e}upload(e){const o=e.target.files?.[0];o&&this.papa.parse(o,{header:!0,skipEmptyLines:!0,complete:i=>{this.catalogo=new ry(i.data),this.uploaded.emit(this.catalogo)},error:i=>{console.error("Error al procesar el CSV:",i.message)}})}static \u0275fac=function(r){return new(r||n)(Ce(KA))};static \u0275cmp=Mt({type:n,selectors:[["app-catalogo"]],outputs:{uploaded:"uploaded"},decls:7,vars:1,consts:[[1,"form-group"],["type","file","id","fuCatalog","accept",".csv",1,"d-block",3,"change"],["id","catalogo"],[1,"table","table-stripped"],[1,"text-left"],[1,"text-right"]],template:function(r,o){1&r&&(ge(0,"ol")(1,"li")(2,"div",0)(3,"label"),q(4,"Sube el cat\xe1logo que has descargado y pasa al siguiente paso"),me(),ge(5,"input",1),Pl("change",function(s){return o.upload(s)}),me()()()(),kr(6,uV,17,0,"div",2)),2&r&&(x(6),Tr(o.catalogo.Size>0?6:-1))},encapsulation:2})}return n})();const Xy=/\s+/,fx=[];let Zy=(()=>{class n{_ngEl;_renderer;initialClasses=fx;rawClass;stateMap=new Map;constructor(e,r){this._ngEl=e,this._renderer=r}set klass(e){this.initialClasses=null!=e?e.trim().split(Xy):fx}set ngClass(e){this.rawClass="string"==typeof e?e.trim().split(Xy):e}ngDoCheck(){for(const r of this.initialClasses)this._updateState(r,!0);const e=this.rawClass;if(Array.isArray(e)||e instanceof Set)for(const r of e)this._updateState(r,!0);else if(null!=e)for(const r of Object.keys(e))this._updateState(r,!!e[r]);this._applyStateDiff()}_updateState(e,r){const o=this.stateMap.get(e);void 0!==o?(o.enabled!==r&&(o.changed=!0,o.enabled=r),o.touched=!0):this.stateMap.set(e,{enabled:r,changed:!0,touched:!0})}_applyStateDiff(){for(const e of this.stateMap){const r=e[0],o=e[1];o.changed?(this._toggleClass(r,o.enabled),o.changed=!1):o.touched||(o.enabled&&this._toggleClass(r,!1),this.stateMap.delete(r)),o.touched=!1}}_toggleClass(e,r){(e=e.trim()).length>0&&e.split(Xy).forEach(o=>{r?this._renderer.addClass(this._ngEl.nativeElement,o):this._renderer.removeClass(this._ngEl.nativeElement,o)})}static \u0275fac=function(r){return new(r||n)(Ce(xo),Ce(wl))};static \u0275dir=xn({type:n,selectors:[["","ngClass",""]],inputs:{klass:[0,"class","klass"],ngClass:"ngClass"}})}return n})();class ZV{$implicit;ngForOf;index;count;constructor(t,e,r,o){this.$implicit=t,this.ngForOf=e,this.index=r,this.count=o}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let px=(()=>{class n{_viewContainer;_template;_differs;set ngForOf(e){this._ngForOf=e,this._ngForOfDirty=!0}set ngForTrackBy(e){this._trackByFn=e}get ngForTrackBy(){return this._trackByFn}_ngForOf=null;_ngForOfDirty=!0;_differ=null;_trackByFn;constructor(e,r,o){this._viewContainer=e,this._template=r,this._differs=o}set ngForTemplate(e){e&&(this._template=e)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const e=this._ngForOf;!this._differ&&e&&(this._differ=this._differs.find(e).create(this.ngForTrackBy))}if(this._differ){const e=this._differ.diff(this._ngForOf);e&&this._applyChanges(e)}}_applyChanges(e){const r=this._viewContainer;e.forEachOperation((o,i,s)=>{if(null==o.previousIndex)r.createEmbeddedView(this._template,new ZV(o.item,this._ngForOf,-1,-1),null===s?void 0:s);else if(null==s)r.remove(null===i?void 0:i);else if(null!==i){const a=r.get(i);r.move(a,s),gx(a,o)}});for(let o=0,i=r.length;o<i;o++){const a=r.get(o).context;a.index=o,a.count=i,a.ngForOf=this._ngForOf}e.forEachIdentityChange(o=>{gx(r.get(o.currentIndex),o)})}static ngTemplateContextGuard(e,r){return!0}static \u0275fac=function(r){return new(r||n)(Ce(Zo),Ce(bi),Ce(Wv))};static \u0275dir=xn({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}})}return n})();function gx(n,t){n.context.$implicit=t.item}let Xu=(()=>{class n{_viewContainer;_context=new QV;_thenTemplateRef=null;_elseTemplateRef=null;_thenViewRef=null;_elseViewRef=null;constructor(e,r){this._viewContainer=e,this._thenTemplateRef=r}set ngIf(e){this._context.$implicit=this._context.ngIf=e,this._updateView()}set ngIfThen(e){mx(e),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()}set ngIfElse(e){mx(e),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngIfUseIfTypeGuard;static ngTemplateGuard_ngIf;static ngTemplateContextGuard(e,r){return!0}static \u0275fac=function(r){return new(r||n)(Ce(Zo),Ce(bi))};static \u0275dir=xn({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}})}return n})();class QV{$implicit=null;ngIf=null}function mx(n,t){if(n&&!n.createEmbeddedView)throw new R(2020,!1)}let e_=(()=>{class n{_ngEl;_differs;_renderer;_ngStyle=null;_differ=null;constructor(e,r,o){this._ngEl=e,this._differs=r,this._renderer=o}set ngStyle(e){this._ngStyle=e,!this._differ&&e&&(this._differ=this._differs.find(e).create())}ngDoCheck(){if(this._differ){const e=this._differ.diff(this._ngStyle);e&&this._applyChanges(e)}}_setStyle(e,r){const[o,i]=e.split("."),s=-1===o.indexOf("-")?void 0:hs.DashCase;null!=r?this._renderer.setStyle(this._ngEl.nativeElement,o,i?`${r}${i}`:r,s):this._renderer.removeStyle(this._ngEl.nativeElement,o,s)}_applyChanges(e){e.forEachRemovedItem(r=>this._setStyle(r.key,null)),e.forEachAddedItem(r=>this._setStyle(r.key,r.currentValue)),e.forEachChangedItem(r=>this._setStyle(r.key,r.currentValue))}static \u0275fac=function(r){return new(r||n)(Ce(xo),Ce($f),Ce(wl))};static \u0275dir=xn({type:n,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"}})}return n})(),ec=(()=>{class n{_viewContainerRef;_viewRef=null;ngTemplateOutletContext=null;ngTemplateOutlet=null;ngTemplateOutletInjector=null;constructor(e){this._viewContainerRef=e}ngOnChanges(e){if(this._shouldRecreateView(e)){const r=this._viewContainerRef;if(this._viewRef&&r.remove(r.indexOf(this._viewRef)),!this.ngTemplateOutlet)return void(this._viewRef=null);const o=this._createContextForwardProxy();this._viewRef=r.createEmbeddedView(this.ngTemplateOutlet,o,{injector:this.ngTemplateOutletInjector??void 0})}}_shouldRecreateView(e){return!!e.ngTemplateOutlet||!!e.ngTemplateOutletInjector}_createContextForwardProxy(){return new Proxy({},{set:(e,r,o)=>!!this.ngTemplateOutletContext&&Reflect.set(this.ngTemplateOutletContext,r,o),get:(e,r,o)=>{if(this.ngTemplateOutletContext)return Reflect.get(this.ngTemplateOutletContext,r,o)}})}static \u0275fac=function(r){return new(r||n)(Ce(Zo))};static \u0275dir=xn({type:n,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},features:[Vs]})}return n})(),Vr=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=yi({type:n});static \u0275inj=Go({})}return n})();const Dz=()=>[],Sz=(n,t)=>t.New.id;function kz(n,t){if(1&n&&(V(0,"span"),q(1),G()),2&n){const e=Q().$implicit;x(),mt(" ",e.New.Referencia," ")}}function Tz(n,t){if(1&n&&(V(0,"span"),q(1),G()),2&n){const e=Q().$implicit;x(),mt(" ",e.New.Descripcion," ")}}function Az(n,t){if(1&n&&(V(0,"span"),q(1),G()),2&n){const e=Q().$implicit;x(),mt(" ",e.New.PrecioCoste," ")}}function Iz(n,t){if(1&n&&(V(0,"span"),q(1),G()),2&n){const e=Q().$implicit;x(),mt(" ",e.New.PrecioVenta," ")}}function xz(n,t){if(1&n&&(V(0,"span"),q(1),G()),2&n){const e=Q().$implicit;x(),mt(" ",e.New.IVA," ")}}function Mz(n,t){if(1&n&&(V(0,"span"),q(1),G()),2&n){const e=Q().$implicit;x(),mt(" ",e.New.Margen.toFixed(2)," ")}}function Rz(n,t){if(1&n&&(V(0,"div",1)(1,"table",3)(2,"thead"),gt(3,"th"),V(4,"th"),q(5," Anterior "),G(),V(6,"th"),q(7," Nuevo "),G()(),V(8,"tbody")(9,"tr")(10,"th",4),q(11,"Referencia"),G(),V(12,"td",4),q(13),G(),V(14,"td",4),qe(15,kz,2,1,"span",5),G()(),V(16,"tr")(17,"th",4),q(18,"Descripci\xf3n"),G(),V(19,"td",4),q(20),G(),V(21,"td",4),qe(22,Tz,2,1,"span",5),G()(),V(23,"tr")(24,"th",4),q(25,"Precio (coste)"),G(),V(26,"td"),q(27),G(),V(28,"td"),qe(29,Az,2,1,"span",5),G()(),V(30,"tr")(31,"th",4),q(32,"Precio (venta)"),G(),V(33,"td"),q(34),G(),V(35,"td"),qe(36,Iz,2,1,"span",5),G()(),V(37,"tr")(38,"th"),q(39,"IVA"),G(),V(40,"td"),q(41),G(),V(42,"td"),qe(43,xz,2,1,"span",5),G()(),V(44,"tr")(45,"th"),q(46,"Margen"),G(),V(47,"td"),q(48),G(),V(49,"td"),qe(50,Mz,2,1,"span",5),G()()()()()),2&n){const e=t.$implicit;x(13),mt(" ",null==e.Old?null:e.Old.Referencia," "),x(),Be(e.Old?"":"text-danger"),x(),H("ngIf",e.New.Referencia!=(null==e.Old?null:e.Old.Referencia)),x(4),Be(e.New.Descripcion!=(null==e.Old?null:e.Old.Descripcion)?"text-danger":""),x(),mt(" ",null==e.Old?null:e.Old.Descripcion," "),x(2),H("ngIf",e.New.Descripcion!=(null==e.Old?null:e.Old.Descripcion)),x(5),mt(" ",null==e.Old?null:e.Old.PrecioCoste," "),x(2),H("ngIf",e.New.PrecioCoste>((null==e.Old?null:e.Old.PrecioCoste)||0)),x(4),Be(e.Old&&e.New.PrecioVenta>e.Old.PrecioVenta?"text-danger":""),x(),mt(" ",null==e.Old?null:e.Old.PrecioVenta," "),x(2),H("ngIf",e.New.PrecioVenta>((null==e.Old?null:e.Old.PrecioVenta)||0)),x(4),Be(e.Old&&e.New.IVA>e.Old.IVA?"text-danger":""),x(),mt(" ",null==e.Old?null:e.Old.IVA," "),x(2),H("ngIf",e.New.IVA>((null==e.Old?null:e.Old.IVA)||0)),x(4),Be(e.Old&&e.New.Margen!=e.Old.Margen?"text-danger":""),x(),mt(" ",null==e.Old||null==e.Old.Margen?null:e.Old.Margen.toFixed(2)," "),x(2),H("ngIf",e.New.Margen!=(null==e.Old?null:e.Old.Margen))}}let Nz=(()=>{class n{updates=[];isAllChecked(){return!this.updates.some(e=>!e.Active)}checkAll(){const e=!this.updates.some(r=>!r.Active);this.updates.forEach(r=>r.Active=!e)}onSelectUpdate(e){e.Active=!e.Active}onChangeProduct(e,r){const o=e.target.value,i=this.updates.find(s=>s.Old?.Referencia==r.Old?.Referencia);i&&(i.New.PrecioCoste=o)}arrayToTabulatedText(){return this.updates.map(r=>({Ref:r.New.Referencia,Descripcion:r.New.Descripcion,Coste:r.New.PrecioCoste,Venta:r.New.PrecioVenta,IVA:r.New.IVA,Margen:r.New.Margen,CosteAnt:r.Old?.PrecioCoste,VentaAnt:r.Old?.PrecioVenta,IVAAnt:r.Old?.IVA,MargenAnt:r.Old?.Margen})).map(r=>r.Ref.padEnd(7)+r.Descripcion.padEnd(50)+r.Coste.toFixed().padEnd(6)+r.Venta.toFixed(2).padEnd(6)+r.Margen.toFixed(2).padEnd(6)).join("\n")}arrayToAlignedText(e){if(0===e.length)return"";const r=Object.keys(e[0]),o=r.map(l=>Math.max(l.length,...e.map(c=>String(c[l]??"").length)));return[r.map((l,c)=>l.padEnd(o[c])).join("  ").trim(),...e.map(l=>r.map((c,u)=>String(l[c]??"").padEnd(o[u])).join("  "))].join("\n")}static \u0275fac=function(r){return new(r||n)};static \u0275cmp=Mt({type:n,selectors:[["app-updater"]],inputs:{updates:"updates"},decls:6,vars:2,consts:[[1,"row"],[1,"col-12","col-md-6"],["type","button","value","a texto"],[1,"table","table-stripped","tabl-bordered"],[1,"text-left"],[4,"ngIf"]],template:function(r,o){1&r&&(V(0,"div",0),Nl(1,Rz,51,22,"div",1,Sz),G(),gt(3,"input",2),V(4,"pre"),q(5),G()),2&r&&(x(),Ol(o.updates||Nv(1,Dz)),x(4),mt("    ",o.arrayToTabulatedText(),"\n"))},dependencies:[Vr,Xu],styles:["th[_ngcontent-%COMP%]{width:33%}"]})}return n})();var xp={};function ti(n="pui_id_"){return Object.hasOwn(xp,n)||(xp[n]=0),xp[n]++,`${n}${xp[n]}`}function yx(n,t){return!!n&&(n.classList?n.classList.contains(t):new RegExp("(^| )"+t+"( |$)","gi").test(n.className))}function tc(n,t){if(n&&t){let e=r=>{yx(n,r)||(n.classList?n.classList.add(r):n.className+=" "+r)};[t].flat().filter(Boolean).forEach(r=>r.split(" ").forEach(e))}}function Di(n,t){if(n&&t){let e=r=>{n.classList?n.classList.remove(r):n.className=n.className.replace(new RegExp("(^|\\b)"+r.split(" ").join("|")+"(\\b|$)","gi")," ")};[t].flat().filter(Boolean).forEach(r=>r.split(" ").forEach(e))}}function Zu(){let n=window,t=document,e=t.documentElement,r=t.getElementsByTagName("body")[0];return{width:n.innerWidth||e.clientWidth||r.clientWidth,height:n.innerHeight||e.clientHeight||r.clientHeight}}function o_(n){return n?Math.abs(n.scrollLeft):0}function i_(n){return!!n&&"rtl"===getComputedStyle(n).direction}function Rp(n,t){n&&("string"==typeof t?n.style.cssText=t:Object.entries(t||{}).forEach(([e,r])=>n.style[e]=r))}function nc(n,t){if(n instanceof HTMLElement){let e=n.offsetWidth;if(t){let r=getComputedStyle(n);e+=parseFloat(r.marginLeft)+parseFloat(r.marginRight)}return e}return 0}function _x(n){return!!(null!==n&&typeof n<"u"&&n.nodeName&&function s_(n){if(n){let t=n.parentNode;return t&&t instanceof ShadowRoot&&t.host&&(t=t.host),t}return null}(n))}function Cs(n){return typeof Element<"u"?n instanceof Element:null!==n&&"object"==typeof n&&1===n.nodeType&&"string"==typeof n.nodeName}function Vz(n,t){let e=function Uz(n,t){var e,r,o,a;if(n)switch(n){case"document":return document;case"window":return window;case"body":return document.body;case"@next":return t?.nextElementSibling;case"@prev":return t?.previousElementSibling;case"@first":return t?.firstElementChild;case"@last":return t?.lastElementChild;case"@child":return null==(e=t?.children)?void 0:e[0];case"@parent":return t?.parentElement;case"@grandparent":return null==(r=t?.parentElement)?void 0:r.parentElement;default:{if("string"==typeof n){let a=n.match(/^@child\[(\d+)]/);return a?(null==(o=t?.children)?void 0:o[parseInt(a[1],10)])||null:document.querySelector(n)||null}let i="function"==typeof(a=n)&&"call"in a&&"apply"in a?n():n,s=function Cx(n){let t=n;return n&&"object"==typeof n&&(Object.hasOwn(n,"current")?t=n.current:Object.hasOwn(n,"el")&&(t=Object.hasOwn(n.el,"nativeElement")?n.el.nativeElement:n.el)),Cs(t)?t:void 0}(i);return _x(s)?s:9===i?.nodeType?i:void 0}}}(n,t);if(!e)throw new Error("Cannot append "+t+" to "+n);e.appendChild(t)}function c_(n,t={}){if(Cs(n)){let e=(r,o)=>{var i,s;let a=null!=(i=n?.$attrs)&&i[r]?[null==(s=n?.$attrs)?void 0:s[r]]:[];return[o].flat().reduce((l,c)=>{if(null!=c){let u=typeof c;if("string"===u||"number"===u)l.push(c);else if("object"===u){let d=Array.isArray(c)?e(r,c):Object.entries(c).map(([h,f])=>"style"!==r||!f&&0!==f?f?h:void 0:`${h.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}:${f}`);l=d.length?l.concat(d.filter(h=>!!h)):l}}return l},a)};Object.entries(t).forEach(([r,o])=>{if(null!=o){let i=r.match(/^on(.+)/);i?n.addEventListener(i[1].toLowerCase(),o):"p-bind"===r||"pBind"===r?c_(n,o):(o="class"===r?[...new Set(e("class",o))].join(" ").trim():"style"===r?e("style",o).join(";").trim():o,(n.$attrs=n.$attrs||{})&&(n.$attrs[r]=o),n.setAttribute(r,o))}})}}function u_(n,t){n&&document.activeElement!==n&&n.focus(t)}function Qu(n,t){if(Cs(n)){let e=n.getAttribute(t);return isNaN(e)?"true"===e||"false"===e?"true"===e:e:+e}}function d_(n,t=""){let e=function Gz(n,t){return Cs(n)?Array.from(n.querySelectorAll(t)):[]}(n,`button:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${t},\n            [href]:not([tabindex = "-1"]):not([style*="display:none"]):not([hidden])${t},\n            input:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${t},\n            select:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${t},\n            textarea:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${t},\n            [tabIndex]:not([tabIndex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${t},\n            [contenteditable]:not([tabIndex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${t}`),r=[];for(let o of e)"none"!=getComputedStyle(o).display&&"hidden"!=getComputedStyle(o).visibility&&r.push(o);return r}function Sx(n){if(n){let t=n.offsetHeight,e=getComputedStyle(n);return t-=parseFloat(e.paddingTop)+parseFloat(e.paddingBottom)+parseFloat(e.borderTopWidth)+parseFloat(e.borderBottomWidth),t}return 0}function Np(n){if(n){let t=n.getBoundingClientRect();return{top:t.top+(window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0),left:t.left+(window.pageXOffset||o_(document.documentElement)||o_(document.body)||0)}}return{top:"auto",left:"auto"}}function rc(n,t){if(n){let e=n.offsetHeight;if(t){let r=getComputedStyle(n);e+=parseFloat(r.marginTop)+parseFloat(r.marginBottom)}return e}return 0}function oc(n){if(n){let t=n.offsetWidth,e=getComputedStyle(n);return t-=parseFloat(e.paddingLeft)+parseFloat(e.paddingRight)+parseFloat(e.borderLeftWidth)+parseFloat(e.borderRightWidth),t}return 0}function h_(){return new Promise(n=>{requestAnimationFrame(()=>{requestAnimationFrame(n)})})}function Ju(n,t="",e){Cs(n)&&null!=e&&n.setAttribute(t,e)}function Tx(n,t,e=null,r){var o;t&&(null==(o=n?.style)||o.setProperty(t,e,r))}let Ar=(()=>class n{static STARTS_WITH="startsWith";static CONTAINS="contains";static NOT_CONTAINS="notContains";static ENDS_WITH="endsWith";static EQUALS="equals";static NOT_EQUALS="notEquals";static IN="in";static LESS_THAN="lt";static LESS_THAN_OR_EQUAL_TO="lte";static GREATER_THAN="gt";static GREATER_THAN_OR_EQUAL_TO="gte";static BETWEEN="between";static IS="is";static IS_NOT="isNot";static BEFORE="before";static AFTER="after";static DATE_IS="dateIs";static DATE_IS_NOT="dateIsNot";static DATE_BEFORE="dateBefore";static DATE_AFTER="dateAfter"})(),f_=(()=>{class n{messageSource=new Yr;clearSource=new Yr;messageObserver=this.messageSource.asObservable();clearObserver=this.clearSource.asObservable();add(e){e&&this.messageSource.next(e)}addAll(e){e&&e.length&&this.messageSource.next(e)}clear(e){this.clearSource.next(e||null)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=Z({token:n,factory:n.\u0275fac})}return n})(),Op=(()=>{class n{template;type;name;constructor(e){this.template=e}getType(){return this.name}static \u0275fac=function(r){return new(r||n)(Ce(bi))};static \u0275dir=xn({type:n,selectors:[["","pTemplate",""]],inputs:{type:"type",name:[0,"pTemplate","name"]}})}return n})(),ni=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=yi({type:n});static \u0275inj=Go({imports:[Vr]})}return n})(),Ax=(()=>class n{static STARTS_WITH="startsWith";static CONTAINS="contains";static NOT_CONTAINS="notContains";static ENDS_WITH="endsWith";static EQUALS="equals";static NOT_EQUALS="notEquals";static NO_FILTER="noFilter";static LT="lt";static LTE="lte";static GT="gt";static GTE="gte";static IS="is";static IS_NOT="isNot";static BEFORE="before";static AFTER="after";static CLEAR="clear";static APPLY="apply";static MATCH_ALL="matchAll";static MATCH_ANY="matchAny";static ADD_RULE="addRule";static REMOVE_RULE="removeRule";static ACCEPT="accept";static REJECT="reject";static CHOOSE="choose";static UPLOAD="upload";static CANCEL="cancel";static PENDING="pending";static FILE_SIZE_TYPES="fileSizeTypes";static DAY_NAMES="dayNames";static DAY_NAMES_SHORT="dayNamesShort";static DAY_NAMES_MIN="dayNamesMin";static MONTH_NAMES="monthNames";static MONTH_NAMES_SHORT="monthNamesShort";static FIRST_DAY_OF_WEEK="firstDayOfWeek";static TODAY="today";static WEEK_HEADER="weekHeader";static WEAK="weak";static MEDIUM="medium";static STRONG="strong";static PASSWORD_PROMPT="passwordPrompt";static EMPTY_MESSAGE="emptyMessage";static EMPTY_FILTER_MESSAGE="emptyFilterMessage";static SHOW_FILTER_MENU="showFilterMenu";static HIDE_FILTER_MENU="hideFilterMenu";static SELECTION_MESSAGE="selectionMessage";static ARIA="aria";static SELECT_COLOR="selectColor";static BROWSE_FILES="browseFiles"})();function Ki(n){return null==n||""===n||Array.isArray(n)&&0===n.length||!(n instanceof Date)&&"object"==typeof n&&0===Object.keys(n).length}function p_(n,t,e=new WeakSet){if(n===t)return!0;if(!n||!t||"object"!=typeof n||"object"!=typeof t||e.has(n)||e.has(t))return!1;e.add(n).add(t);let i,s,a,r=Array.isArray(n),o=Array.isArray(t);if(r&&o){if(s=n.length,s!=t.length)return!1;for(i=s;0!==i--;)if(!p_(n[i],t[i],e))return!1;return!0}if(r!=o)return!1;let l=n instanceof Date,c=t instanceof Date;if(l!=c)return!1;if(l&&c)return n.getTime()==t.getTime();let u=n instanceof RegExp,d=t instanceof RegExp;if(u!=d)return!1;if(u&&d)return n.toString()==t.toString();let h=Object.keys(n);if(s=h.length,s!==Object.keys(t).length)return!1;for(i=s;0!==i--;)if(!Object.prototype.hasOwnProperty.call(t,h[i]))return!1;for(i=s;0!==i--;)if(a=h[i],!p_(n[a],t[a],e))return!1;return!0}function cW(n,t){return p_(n,t)}function Lp(n){return"function"==typeof n&&"call"in n&&"apply"in n}function hn(n){return!Ki(n)}function g_(n,t){if(!n||!t)return null;try{let e=n[t];if(hn(e))return e}catch{}if(Object.keys(n).length){if(Lp(t))return t(n);if(-1===t.indexOf("."))return n[t];{let e=t.split("."),r=n;for(let o=0,i=e.length;o<i;++o){if(null==r)return null;r=r[e[o]]}return r}}return null}function Pp(n,t,e){return e?g_(n,e)===g_(t,e):cW(n,t)}function ri(n,t=!0){return n instanceof Object&&n.constructor===Object&&(t||0!==Object.keys(n).length)}function zr(n,...t){return Lp(n)?n(...t):n}function bo(n,t=!0){return"string"==typeof n&&(t||""!==n)}function ya(n){return bo(n)?n.replace(/(-|_)/g,"").toLowerCase():n}function Nx(n,t="",e={}){let r=ya(t).split("."),o=r.shift();return o?ri(n)?Nx(zr(n[Object.keys(n).find(s=>ya(s)===o)||""],e),r.join("."),e):void 0:zr(n,e)}function _a(n,t){if(t){let e=t.test(n);return t.lastIndex=0,e}return!1}function ed(n){return n&&n.replace(/\/\*(?:(?!\*\/)[\s\S])*\*\/|[\r\n\t]+/g,"").replace(/ {2,}/g," ").replace(/ ([{:}]) /g,"$1").replace(/([;,]) /g,"$1").replace(/ !/g,"!").replace(/: /g,":").trim()}function Px(n){return bo(n)?n.replace(/(_)/g,"-").replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase():n}function Fx(n){return"auto"===n?0:"number"==typeof n?n:1e3*Number(n.replace(/[^\d.]/g,"").replace(",","."))}var gW=Object.defineProperty,mW=Object.defineProperties,bW=Object.getOwnPropertyDescriptors,Fp=Object.getOwnPropertySymbols,Bx=Object.prototype.hasOwnProperty,Hx=Object.prototype.propertyIsEnumerable,jx=(n,t,e)=>t in n?gW(n,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):n[t]=e,fn=(n,t)=>{for(var e in t||(t={}))Bx.call(t,e)&&jx(n,e,t[e]);if(Fp)for(var e of Fp(t))Hx.call(t,e)&&jx(n,e,t[e]);return n},Ca=(n,t)=>mW(n,bW(t)),Xi=(n,t)=>{var e={};for(var r in n)Bx.call(n,r)&&t.indexOf(r)<0&&(e[r]=n[r]);if(null!=n&&Fp)for(var r of Fp(n))t.indexOf(r)<0&&Hx.call(n,r)&&(e[r]=n[r]);return e},vr=function oW(){let n=new Map;return{on(t,e){let r=n.get(t);return r?r.push(e):r=[e],n.set(t,r),this},off(t,e){let r=n.get(t);return r&&r.splice(r.indexOf(e)>>>0,1),this},emit(t,e){let r=n.get(t);r&&r.forEach(o=>{o(e)})},clear(){n.clear()}}}(),ws=/{([^}]*)}/g,$x=/(\d+\s+[\+\-\*\/]\s+\d+)/g,Ux=/var\([^)]+\)/g;function Vx(n){return bo(n)?n.replace(/[A-Z]/g,(t,e)=>0===e?t:"."+t.toLowerCase()).toLowerCase():n}function yW(n){return ri(n)&&n.hasOwnProperty("$value")&&n.hasOwnProperty("$type")?n.$value:n}function m_(n="",t=""){return function _W(n){return n.replaceAll(/ /g,"").replace(/[^\w]/g,"-")}(`${bo(n,!1)&&bo(t,!1)?`${n}-`:n}${t}`)}function zx(n="",t=""){return`--${m_(n,t)}`}function Wx(n,t="",e="",r=[],o){if(bo(n)){let i=n.trim();if(function CW(n=""){return((n.match(/{/g)||[]).length+(n.match(/}/g)||[]).length)%2!=0}(i))return;if(_a(i,ws)){let s=i.replaceAll(ws,a=>{let l=a.replace(/{|}/g,"").split(".").filter(c=>!r.some(u=>_a(c,u)));return`var(${zx(e,Px(l.join("-")))}${hn(o)?`, ${o}`:""})`});return _a(s.replace(Ux,"0"),$x)?`calc(${s})`:s}return i}if(function fW(n){return hn(n)&&!isNaN(n)}(n))return n}function wW(n,t,e){bo(t,!1)&&n.push(`${t}:${e};`)}function ic(n,t){return n?`${n}{${t}}`:""}function Gx(n,t){if(-1===n.indexOf("dt("))return n;function e(s,a){let l=[],c=0,u="",d=null,h=0;for(;c<=s.length;){let f=s[c];if(('"'===f||"'"===f||"`"===f)&&"\\"!==s[c-1]&&(d=d===f?null:f),!d&&("("===f&&h++,")"===f&&h--,(","===f||c===s.length)&&0===h)){let p=u.trim();p.startsWith("dt(")?l.push(Gx(p,a)):l.push(r(p)),u="",c++;continue}void 0!==f&&(u+=f),c++}return l}function r(s){let a=s[0];if(('"'===a||"'"===a||"`"===a)&&s[s.length-1]===a)return s.slice(1,-1);let l=Number(s);return isNaN(l)?s:l}let o=[],i=[];for(let s=0;s<n.length;s++)if("d"===n[s]&&"dt("===n.slice(s,s+3))i.push(s),s+=2;else if(")"===n[s]&&i.length>0){let a=i.pop();0===i.length&&o.push([a,s])}if(!o.length)return n;for(let s=o.length-1;s>=0;s--){let[a,l]=o[s],d=t(...e(n.slice(a+3,l),t));n=n.slice(0,a)+d+n.slice(l+1)}return n}var Zx=n=>{var t;let e=It.getTheme(),r=b_(e,n,void 0,"variable");return{name:null==(t=r?.match(/--[\w-]+/g))?void 0:t[0],variable:r,value:b_(e,n,void 0,"value")}},Es=(...n)=>b_(It.getTheme(),...n),b_=(n={},t,e,r)=>{if(t){let{variable:o,options:i}=It.defaults||{},{prefix:s,transform:a}=n?.options||i||{},l=_a(t,ws)?t:`{${t}}`;return"value"===r||Ki(r)&&"strict"===a?It.getTokenValue(t):Wx(l,void 0,s,[o.excludedKeyRegex],e)}return""};function td(n,...t){return n instanceof Array?Gx(n.reduce((r,o,i)=>{var s;return r+o+(null!=(s=zr(t[i],{dt:Es}))?s:"")},""),Es):zr(n,{dt:Es})}var oi={regex:{rules:{class:{pattern:/^\.([a-zA-Z][\w-]*)$/,resolve(n){return{type:"class",selector:n,matched:this.pattern.test(n.trim())}}},attr:{pattern:/^\[(.*)\]$/,resolve(n){return{type:"attr",selector:`:root${n},:host${n}`,matched:this.pattern.test(n.trim())}}},media:{pattern:/^@media (.*)$/,resolve(n){return{type:"media",selector:n,matched:this.pattern.test(n.trim())}}},system:{pattern:/^system$/,resolve(n){return{type:"system",selector:"@media (prefers-color-scheme: dark)",matched:this.pattern.test(n.trim())}}},custom:{resolve:n=>({type:"custom",selector:n,matched:!0})}},resolve(n){let t=Object.keys(this.rules).filter(e=>"custom"!==e).map(e=>this.rules[e]);return[n].flat().map(e=>{var r;return null!=(r=t.map(o=>o.resolve(e)).find(o=>o.matched))?r:this.rules.custom.resolve(e)})}},_toVariables:(n,t)=>function kW(n,t={}){let e=It.defaults.variable,{prefix:r=e.prefix,selector:o=e.selector,excludedKeyRegex:i=e.excludedKeyRegex}=t,s=[],a=[],l=[{node:n,path:r}];for(;l.length;){let{node:u,path:d}=l.pop();for(let h in u){let p=yW(u[h]),g=_a(h,i)?m_(d):m_(d,Px(h));if(ri(p))l.push({node:p,path:g});else{wW(a,zx(g),Wx(p,g,r,[i]));let v=g;r&&v.startsWith(r+"-")&&(v=v.slice(r.length+1)),s.push(v.replace(/-/g,"."))}}}let c=a.join("");return{value:a,tokens:s,declarations:c,css:ic(o,c)}}(n,{prefix:t?.prefix}),getCommon({name:n="",theme:t={},set:r,defaults:o}){var i,s,a,l,c,u,d;let p,g,m,b,v,y,C,{preset:h,options:f}=t;if(hn(h)&&"strict"!==f.transform){let{primitive:_,semantic:w,extend:k}=h,A=w||{},{colorScheme:$}=A,K=Xi(A,["colorScheme"]),z=k||{},{colorScheme:st}=z,at=Xi(z,["colorScheme"]),Ct=$||{},{dark:Nt}=Ct,be=Xi(Ct,["dark"]),Ee=st||{},{dark:jt}=Ee,zt=Xi(Ee,["dark"]),Co=hn(_)?this._toVariables({primitive:_},f):{},wo=hn(K)?this._toVariables({semantic:K},f):{},$n=hn(be)?this._toVariables({light:be},f):{},an=hn(Nt)?this._toVariables({dark:Nt},f):{},Vo=hn(at)?this._toVariables({semantic:at},f):{},zo=hn(zt)?this._toVariables({light:zt},f):{},li=hn(jt)?this._toVariables({dark:jt},f):{},[Nn,wd]=[null!=(i=Co.declarations)?i:"",Co.tokens],[Ra,Na]=[null!=(s=wo.declarations)?s:"",wo.tokens||[]],[Ed,Dd]=[null!=(a=$n.declarations)?a:"",$n.tokens||[]],[sg,b0]=[null!=(l=an.declarations)?l:"",an.tokens||[]],[Cle,wle]=[null!=(c=Vo.declarations)?c:"",Vo.tokens||[]],[Ele,Dle]=[null!=(u=zo.declarations)?u:"",zo.tokens||[]],[Sle,kle]=[null!=(d=li.declarations)?d:"",li.tokens||[]];p=this.transformCSS(n,Nn,"light","variable",f,r,o),g=wd,m=`${this.transformCSS(n,`${Ra}${Ed}`,"light","variable",f,r,o)}${this.transformCSS(n,`${sg}`,"dark","variable",f,r,o)}`,b=[...new Set([...Na,...Dd,...b0])],v=`${this.transformCSS(n,`${Cle}${Ele}color-scheme:light`,"light","variable",f,r,o)}${this.transformCSS(n,`${Sle}color-scheme:dark`,"dark","variable",f,r,o)}`,y=[...new Set([...wle,...Dle,...kle])],C=zr(h.css,{dt:Es})}return{primitive:{css:p,tokens:g},semantic:{css:m,tokens:b},global:{css:v,tokens:y},style:C}},getPreset({name:n="",preset:t={},options:e,set:o,defaults:i,selector:s}){var a,l,c;let u,d,h;if(hn(t)&&"strict"!==e.transform){let f=n.replace("-directive",""),p=t,{colorScheme:g,extend:m,css:b}=p,v=Xi(p,["colorScheme","extend","css"]),y=m||{},{colorScheme:C}=y,_=Xi(y,["colorScheme"]),w=g||{},{dark:k}=w,A=Xi(w,["dark"]),$=C||{},{dark:K}=$,z=Xi($,["dark"]),st=hn(v)?this._toVariables({[f]:fn(fn({},v),_)},e):{},at=hn(A)?this._toVariables({[f]:fn(fn({},A),z)},e):{},Ct=hn(k)?this._toVariables({[f]:fn(fn({},k),K)},e):{},[Nt,be]=[null!=(a=st.declarations)?a:"",st.tokens||[]],[Ee,jt]=[null!=(l=at.declarations)?l:"",at.tokens||[]],[zt,Co]=[null!=(c=Ct.declarations)?c:"",Ct.tokens||[]];u=`${this.transformCSS(f,`${Nt}${Ee}`,"light","variable",e,o,i,s)}${this.transformCSS(f,zt,"dark","variable",e,o,i,s)}`,d=[...new Set([...be,...jt,...Co])],h=zr(b,{dt:Es})}return{css:u,tokens:d,style:h}},getPresetC({name:n="",theme:t={},params:e,set:r,defaults:o}){var i;let{preset:s,options:a}=t,l=null==(i=s?.components)?void 0:i[n];return this.getPreset({name:n,preset:l,options:a,params:e,set:r,defaults:o})},getPresetD({name:n="",theme:t={},params:e,set:r,defaults:o}){var i,s;let a=n.replace("-directive",""),{preset:l,options:c}=t,u=(null==(i=l?.components)?void 0:i[a])||(null==(s=l?.directives)?void 0:s[a]);return this.getPreset({name:a,preset:u,options:c,params:e,set:r,defaults:o})},applyDarkColorScheme:n=>!("none"===n.darkModeSelector||!1===n.darkModeSelector),getColorSchemeOption(n,t){var e;return this.applyDarkColorScheme(n)?this.regex.resolve(!0===n.darkModeSelector?t.options.darkModeSelector:null!=(e=n.darkModeSelector)?e:t.options.darkModeSelector):[]},getLayerOrder(n,t={},e,r){let{cssLayer:o}=t;return o?`@layer ${zr(o.order||o.name||"primeui",e)}`:""},getCommonStyleSheet({name:n="",theme:t={},params:e,props:r={},set:o,defaults:i}){let s=this.getCommon({name:n,theme:t,params:e,set:o,defaults:i}),a=Object.entries(r).reduce((l,[c,u])=>l.push(`${c}="${u}"`)&&l,[]).join(" ");return Object.entries(s||{}).reduce((l,[c,u])=>{if(ri(u)&&Object.hasOwn(u,"css")){let d=ed(u.css);l.push(`<style type="text/css" data-primevue-style-id="${c}-variables" ${a}>${d}</style>`)}return l},[]).join("")},getStyleSheet({name:n="",theme:t={},params:e,props:r={},set:o,defaults:i}){var s;let a={name:n,theme:t,params:e,set:o,defaults:i},l=null==(s=n.includes("-directive")?this.getPresetD(a):this.getPresetC(a))?void 0:s.css,c=Object.entries(r).reduce((u,[d,h])=>u.push(`${d}="${h}"`)&&u,[]).join(" ");return l?`<style type="text/css" data-primevue-style-id="${n}-variables" ${c}>${ed(l)}</style>`:""},createTokens(n={},t,e="",r="",o={}){let i=function(a,l={},c=[]){if(c.includes(this.path))return console.warn(`Circular reference detected at ${this.path}`),{colorScheme:a,path:this.path,paths:l,value:void 0};c.push(this.path),l.name=this.path,l.binding||(l.binding={});let u=this.value;if("string"==typeof this.value&&ws.test(this.value)){let d=this.value.trim().replace(ws,h=>{var f;let p=h.slice(1,-1),g=this.tokens[p];if(!g)return console.warn(`Token not found for path: ${p}`),"__UNRESOLVED__";let m=g.computed(a,l,c);return Array.isArray(m)&&2===m.length?`light-dark(${m[0].value},${m[1].value})`:null!=(f=m?.value)?f:"__UNRESOLVED__"});u=$x.test(d.replace(Ux,"0"))?`calc(${d})`:d}return Ki(l.binding)&&delete l.binding,c.pop(),{colorScheme:a,path:this.path,paths:l,value:u.includes("__UNRESOLVED__")?void 0:u}},s=(a,l,c)=>{Object.entries(a).forEach(([u,d])=>{let h=_a(u,t.variable.excludedKeyRegex)?l:l?`${l}.${Vx(u)}`:Vx(u),f=c?`${c}.${u}`:u;ri(d)?s(d,h,f):(o[h]||(o[h]={paths:[],computed:(p,g={},m=[])=>{if(1===o[h].paths.length)return o[h].paths[0].computed(o[h].paths[0].scheme,g.binding,m);if(p&&"none"!==p)for(let b=0;b<o[h].paths.length;b++){let v=o[h].paths[b];if(v.scheme===p)return v.computed(p,g.binding,m)}return o[h].paths.map(b=>b.computed(b.scheme,g[b.scheme],m))}}),o[h].paths.push({path:f,value:d,scheme:f.includes("colorScheme.light")?"light":f.includes("colorScheme.dark")?"dark":"none",computed:i,tokens:o}))})};return s(n,e,r),o},getTokenValue(n,t,e){var r;let o=t.split(".").filter(l=>!_a(l.toLowerCase(),e.variable.excludedKeyRegex)).join("."),i=t.includes("colorScheme.light")?"light":t.includes("colorScheme.dark")?"dark":void 0,s=[null==(r=n[o])?void 0:r.computed(i)].flat().filter(a=>a);return 1===s.length?s[0].value:s.reduce((a={},l)=>{let c=l,{colorScheme:u}=c,d=Xi(c,["colorScheme"]);return a[u]=d,a},void 0)},getSelectorRule:(n,t,e,r)=>"class"===e||"attr"===e?ic(hn(t)?`${n}${t},${n} ${t}`:n,r):ic(n,ic(t??":root,:host",r)),transformCSS(n,t,e,r,o={},i,s,a){if(hn(t)){let{cssLayer:l}=o;if("style"!==r){let c=this.getColorSchemeOption(o,s);t="dark"===e?c.reduce((u,{type:d,selector:h})=>(hn(h)&&(u+=h.includes("[CSS]")?h.replace("[CSS]",t):this.getSelectorRule(h,a,d,t)),u),""):ic(a??":root,:host",t)}if(l){let c={name:"primeui",order:"primeui"};ri(l)&&(c.name=zr(l.name,{name:n,type:r})),hn(c.name)&&(t=ic(`@layer ${c.name}`,t),i?.layerNames(c.name))}return t}return""}},It={defaults:{variable:{prefix:"p",selector:":root,:host",excludedKeyRegex:/^(primitive|semantic|components|directives|variables|colorscheme|light|dark|common|root|states|extend|css)$/gi},options:{prefix:"p",darkModeSelector:"system",cssLayer:!1}},_theme:void 0,_layerNames:new Set,_loadedStyleNames:new Set,_loadingStyles:new Set,_tokens:{},update(n={}){let{theme:t}=n;t&&(this._theme=Ca(fn({},t),{options:fn(fn({},this.defaults.options),t.options)}),this._tokens=oi.createTokens(this.preset,this.defaults),this.clearLoadedStyleNames())},get theme(){return this._theme},get preset(){var n;return(null==(n=this.theme)?void 0:n.preset)||{}},get options(){var n;return(null==(n=this.theme)?void 0:n.options)||{}},get tokens(){return this._tokens},getTheme(){return this.theme},setTheme(n){this.update({theme:n}),vr.emit("theme:change",n)},getPreset(){return this.preset},setPreset(n){this._theme=Ca(fn({},this.theme),{preset:n}),this._tokens=oi.createTokens(n,this.defaults),this.clearLoadedStyleNames(),vr.emit("preset:change",n),vr.emit("theme:change",this.theme)},getOptions(){return this.options},setOptions(n){this._theme=Ca(fn({},this.theme),{options:n}),this.clearLoadedStyleNames(),vr.emit("options:change",n),vr.emit("theme:change",this.theme)},getLayerNames(){return[...this._layerNames]},setLayerNames(n){this._layerNames.add(n)},getLoadedStyleNames(){return this._loadedStyleNames},isStyleNameLoaded(n){return this._loadedStyleNames.has(n)},setLoadedStyleName(n){this._loadedStyleNames.add(n)},deleteLoadedStyleName(n){this._loadedStyleNames.delete(n)},clearLoadedStyleNames(){this._loadedStyleNames.clear()},getTokenValue(n){return oi.getTokenValue(this.tokens,n,this.defaults)},getCommon(n="",t){return oi.getCommon({name:n,theme:this.theme,params:t,defaults:this.defaults,set:{layerNames:this.setLayerNames.bind(this)}})},getComponent(n="",t){let e={name:n,theme:this.theme,params:t,defaults:this.defaults,set:{layerNames:this.setLayerNames.bind(this)}};return oi.getPresetC(e)},getDirective(n="",t){let e={name:n,theme:this.theme,params:t,defaults:this.defaults,set:{layerNames:this.setLayerNames.bind(this)}};return oi.getPresetD(e)},getCustomPreset(n="",t,e,r){let o={name:n,preset:t,options:this.options,selector:e,params:r,defaults:this.defaults,set:{layerNames:this.setLayerNames.bind(this)}};return oi.getPreset(o)},getLayerOrderCSS(n=""){return oi.getLayerOrder(n,this.options,{names:this.getLayerNames()},this.defaults)},transformCSS(n="",t,e="style",r){return oi.transformCSS(n,t,r,e,this.options,{layerNames:this.setLayerNames.bind(this)},this.defaults)},getCommonStyleSheet(n="",t,e={}){return oi.getCommonStyleSheet({name:n,theme:this.theme,params:t,props:e,defaults:this.defaults,set:{layerNames:this.setLayerNames.bind(this)}})},getStyleSheet(n,t,e={}){return oi.getStyleSheet({name:n,theme:this.theme,params:t,props:e,defaults:this.defaults,set:{layerNames:this.setLayerNames.bind(this)}})},onStyleMounted(n){this._loadingStyles.add(n)},onStyleUpdated(n){this._loadingStyles.add(n)},onStyleLoaded(n,{name:t}){this._loadingStyles.size&&(this._loadingStyles.delete(t),vr.emit(`theme:${t}:load`,n),!this._loadingStyles.size&&vr.emit("theme:load"))}};function sc(...n){if(n){let t=[];for(let e=0;e<n.length;e++){let r=n[e];if(!r)continue;let o=typeof r;if("string"===o||"number"===o)t.push(r);else if("object"===o){let i=Array.isArray(r)?[sc(...r)]:Object.entries(r).map(([s,a])=>a?s:void 0);t=i.length?t.concat(i.filter(s=>!!s)):t}}return t.join(" ").trim()}}var TW=Object.defineProperty,Qx=Object.getOwnPropertySymbols,AW=Object.prototype.hasOwnProperty,IW=Object.prototype.propertyIsEnumerable,Jx=(n,t,e)=>t in n?TW(n,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):n[t]=e,eM=(n,t)=>{for(var e in t||(t={}))AW.call(t,e)&&Jx(n,e,t[e]);if(Qx)for(var e of Qx(t))IW.call(t,e)&&Jx(n,e,t[e]);return n};function tM(...n){if(n){let t=[];for(let e=0;e<n.length;e++){let r=n[e];if(!r)continue;let o=typeof r;if("string"===o||"number"===o)t.push(r);else if("object"===o){let i=Array.isArray(r)?[tM(...r)]:Object.entries(r).map(([s,a])=>a?s:void 0);t=i.length?t.concat(i.filter(s=>!!s)):t}}return t.join(" ").trim()}}function xW(n){return"function"==typeof n&&"call"in n&&"apply"in n}function nM(...n){return n?.reduce((t,e={})=>{for(let r in e){let o=e[r];if("style"===r)t.style=eM(eM({},t.style),e.style);else if("class"===r||"className"===r)t[r]=tM(t[r],e[r]);else if(xW(o)){let i=t[r];t[r]=i?(...s)=>{i(...s),o(...s)}:o}else t[r]=o}return t},{})}let RW=0,NW=(()=>{class n{document=D(ur);use(e,r={}){let i=e,s=null;const{immediate:a=!0,manual:l=!1,name:c="style_"+ ++RW,id:u,media:d,nonce:h,first:f=!1,props:p={}}=r;if(this.document){if(s=this.document.querySelector(`style[data-primeng-style-id="${c}"]`)||u&&this.document.getElementById(u)||this.document.createElement("style"),s){if(!s.isConnected){i=e;const g=this.document.head;Ju(s,"nonce",h),f&&g.firstChild?g.insertBefore(s,g.firstChild):g.appendChild(s),c_(s,{type:"text/css",media:d,nonce:h,"data-primeng-style-id":c})}s.textContent!==i&&(s.textContent=i)}return{id:u,name:c,el:s,css:i}}}static \u0275fac=function(r){return new(r||n)};static \u0275prov=Z({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var nd={_loadedStyleNames:new Set,getLoadedStyleNames(){return this._loadedStyleNames},isStyleNameLoaded(n){return this._loadedStyleNames.has(n)},setLoadedStyleName(n){this._loadedStyleNames.add(n)},deleteLoadedStyleName(n){this._loadedStyleNames.delete(n)},clearLoadedStyleNames(){this._loadedStyleNames.clear()}};let yr=(()=>{class n{name="base";useStyle=D(NW);css=void 0;style=void 0;classes={};inlineStyles={};load=(e,r={},o=i=>i)=>{const i=o(td`${zr(e,{dt:Es})}`);return i?this.useStyle.use(ed(i),{name:this.name,...r}):{}};loadCSS=(e={})=>this.load(this.css,e);loadStyle=(e={},r="")=>this.load(this.style,e,(o="")=>It.transformCSS(e.name||this.name,`${o}${td`${r}`}`));loadBaseCSS=(e={})=>this.load("\n.p-hidden-accessible {\n    border: 0;\n    clip: rect(0 0 0 0);\n    height: 1px;\n    margin: -1px;\n    overflow: hidden;\n    padding: 0;\n    position: absolute;\n    width: 1px;\n}\n\n.p-hidden-accessible input,\n.p-hidden-accessible select {\n    transform: scale(0);\n}\n\n.p-overflow-hidden {\n    overflow: hidden;\n    padding-right: dt('scrollbar.width');\n}\n",e);loadBaseStyle=(e={},r="")=>this.load("\n    *,\n    ::before,\n    ::after {\n        box-sizing: border-box;\n    }\n\n    .p-collapsible-enter-active {\n        animation: p-animate-collapsible-expand 0.2s ease-out;\n        overflow: hidden;\n    }\n\n    .p-collapsible-leave-active {\n        animation: p-animate-collapsible-collapse 0.2s ease-out;\n        overflow: hidden;\n    }\n\n    @keyframes p-animate-collapsible-expand {\n        from {\n            grid-template-rows: 0fr;\n        }\n        to {\n            grid-template-rows: 1fr;\n        }\n    }\n\n    @keyframes p-animate-collapsible-collapse {\n        from {\n            grid-template-rows: 1fr;\n        }\n        to {\n            grid-template-rows: 0fr;\n        }\n    }\n\n    .p-disabled,\n    .p-disabled * {\n        cursor: default;\n        pointer-events: none;\n        user-select: none;\n    }\n\n    .p-disabled,\n    .p-component:disabled {\n        opacity: dt('disabled.opacity');\n    }\n\n    .pi {\n        font-size: dt('icon.size');\n    }\n\n    .p-icon {\n        width: dt('icon.size');\n        height: dt('icon.size');\n    }\n\n    .p-overlay-mask {\n        background: var(--px-mask-background, dt('mask.background'));\n        color: dt('mask.color');\n        position: fixed;\n        top: 0;\n        left: 0;\n        width: 100%;\n        height: 100%;\n    }\n\n    .p-overlay-mask-enter-active {\n        animation: p-animate-overlay-mask-enter dt('mask.transition.duration') forwards;\n    }\n\n    .p-overlay-mask-leave-active {\n        animation: p-animate-overlay-mask-leave dt('mask.transition.duration') forwards;\n    }\n\n    @keyframes p-animate-overlay-mask-enter {\n        from {\n            background: transparent;\n        }\n        to {\n            background: var(--px-mask-background, dt('mask.background'));\n        }\n    }\n    @keyframes p-animate-overlay-mask-leave {\n        from {\n            background: var(--px-mask-background, dt('mask.background'));\n        }\n        to {\n            background: transparent;\n        }\n    }\n\n    .p-anchored-overlay-enter-active {\n        animation: p-animate-anchored-overlay-enter 300ms cubic-bezier(.19,1,.22,1);\n    }\n\n    .p-anchored-overlay-leave-active {\n        animation: p-animate-anchored-overlay-leave 300ms cubic-bezier(.19,1,.22,1);\n    }\n\n    @keyframes p-animate-anchored-overlay-enter {\n        from {\n            opacity: 0;\n            transform: scale(0.93);\n        }\n    }\n\n    @keyframes p-animate-anchored-overlay-leave {\n        to {\n            opacity: 0;\n            transform: scale(0.93);\n        }\n    }\n",e,(o="")=>It.transformCSS(e.name||this.name,`${o}${td`${r}`}`));getCommonTheme=e=>It.getCommon(this.name,e);getComponentTheme=e=>It.getComponent(this.name,e);getPresetTheme=(e,r,o)=>It.getCustomPreset(this.name,e,r,o);getLayerOrderThemeCSS=()=>It.getLayerOrderCSS(this.name);getStyleSheet=(e="",r={})=>{if(this.css){const i=ed(td`${zr(this.css,{dt:Es})}${e}`),s=Object.entries(r).reduce((a,[l,c])=>a.push(`${l}="${c}"`)&&a,[]).join(" ");return`<style type="text/css" data-primeng-style-id="${this.name}" ${s}>${i}</style>`}return""};getCommonThemeStyleSheet=(e,r={})=>It.getCommonStyleSheet(this.name,e,r);getThemeStyleSheet=(e,r={})=>{let o=[It.getStyleSheet(this.name,e,r)];if(this.style){const i="base"===this.name?"global-style":`${this.name}-style`,s=td`${zr(this.style,{dt:Es})}`,a=ed(It.transformCSS(i,s)),l=Object.entries(r).reduce((c,[u,d])=>c.push(`${u}="${d}"`)&&c,[]).join(" ");o.push(`<style type="text/css" data-primeng-style-id="${i}" ${l}>${a}</style>`)}return o.join("")};static \u0275fac=function(r){return new(r||n)};static \u0275prov=Z({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),LW=(()=>{class n{theme=Wt(void 0);csp=Wt({nonce:void 0});isThemeChanged=!1;document=D(ur);baseStyle=D(yr);constructor(){Ao(()=>{vr.on("theme:change",e=>{Fn(()=>{this.isThemeChanged=!0,this.theme.set(e)})})}),Ao(()=>{const e=this.theme();this.document&&e&&(this.isThemeChanged||this.onThemeChange(e),this.isThemeChanged=!1)})}ngOnDestroy(){It.clearLoadedStyleNames(),vr.clear()}onThemeChange(e){It.setTheme(e),this.document&&this.loadCommonTheme()}loadCommonTheme(){if("none"!==this.theme()&&!It.isStyleNameLoaded("common")){const{primitive:e,semantic:r,global:o,style:i}=this.baseStyle.getCommonTheme?.()||{},s={nonce:this.csp?.()?.nonce};this.baseStyle.load(e?.css,{name:"primitive-variables",...s}),this.baseStyle.load(r?.css,{name:"semantic-variables",...s}),this.baseStyle.load(o?.css,{name:"global-variables",...s}),this.baseStyle.loadBaseStyle({name:"global-style",...s},i),It.setLoadedStyleName("common")}}setThemeConfig(e){const{theme:r,csp:o}=e||{};r&&this.theme.set(r),o&&this.csp.set(o)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=Z({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),rM=(()=>{class n extends LW{ripple=Wt(!1);platformId=D(ll);inputStyle=Wt(null);inputVariant=Wt(null);overlayAppendTo=Wt("self");overlayOptions={};csp=Wt({nonce:void 0});unstyled=Wt(void 0);pt=Wt(void 0);ptOptions=Wt(void 0);filterMatchModeOptions={text:[Ar.STARTS_WITH,Ar.CONTAINS,Ar.NOT_CONTAINS,Ar.ENDS_WITH,Ar.EQUALS,Ar.NOT_EQUALS],numeric:[Ar.EQUALS,Ar.NOT_EQUALS,Ar.LESS_THAN,Ar.LESS_THAN_OR_EQUAL_TO,Ar.GREATER_THAN,Ar.GREATER_THAN_OR_EQUAL_TO],date:[Ar.DATE_IS,Ar.DATE_IS_NOT,Ar.DATE_BEFORE,Ar.DATE_AFTER]};translation={startsWith:"Starts with",contains:"Contains",notContains:"Not contains",endsWith:"Ends with",equals:"Equals",notEquals:"Not equals",noFilter:"No Filter",lt:"Less than",lte:"Less than or equal to",gt:"Greater than",gte:"Greater than or equal to",is:"Is",isNot:"Is not",before:"Before",after:"After",dateIs:"Date is",dateIsNot:"Date is not",dateBefore:"Date is before",dateAfter:"Date is after",clear:"Clear",apply:"Apply",matchAll:"Match All",matchAny:"Match Any",addRule:"Add Rule",removeRule:"Remove Rule",accept:"Yes",reject:"No",choose:"Choose",completed:"Completed",upload:"Upload",cancel:"Cancel",pending:"Pending",fileSizeTypes:["B","KB","MB","GB","TB","PB","EB","ZB","YB"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],chooseYear:"Choose Year",chooseMonth:"Choose Month",chooseDate:"Choose Date",prevDecade:"Previous Decade",nextDecade:"Next Decade",prevYear:"Previous Year",nextYear:"Next Year",prevMonth:"Previous Month",nextMonth:"Next Month",prevHour:"Previous Hour",nextHour:"Next Hour",prevMinute:"Previous Minute",nextMinute:"Next Minute",prevSecond:"Previous Second",nextSecond:"Next Second",am:"am",pm:"pm",dateFormat:"mm/dd/yy",firstDayOfWeek:0,today:"Today",weekHeader:"Wk",weak:"Weak",medium:"Medium",strong:"Strong",passwordPrompt:"Enter a password",emptyMessage:"No results found",searchMessage:"Search results are available",selectionMessage:"{0} items selected",emptySelectionMessage:"No selected item",emptySearchMessage:"No results found",emptyFilterMessage:"No results found",fileChosenMessage:"Files",noFileChosenMessage:"No file chosen",aria:{trueLabel:"True",falseLabel:"False",nullLabel:"Not Selected",star:"1 star",stars:"{star} stars",selectAll:"All items selected",unselectAll:"All items unselected",close:"Close",previous:"Previous",next:"Next",navigation:"Navigation",scrollTop:"Scroll Top",moveTop:"Move Top",moveUp:"Move Up",moveDown:"Move Down",moveBottom:"Move Bottom",moveToTarget:"Move to Target",moveToSource:"Move to Source",moveAllToTarget:"Move All to Target",moveAllToSource:"Move All to Source",pageLabel:"{page}",firstPageLabel:"First Page",lastPageLabel:"Last Page",nextPageLabel:"Next Page",prevPageLabel:"Previous Page",rowsPerPageLabel:"Rows per page",previousPageLabel:"Previous Page",jumpToPageDropdownLabel:"Jump to Page Dropdown",jumpToPageInputLabel:"Jump to Page Input",selectRow:"Row Selected",unselectRow:"Row Unselected",expandRow:"Row Expanded",collapseRow:"Row Collapsed",showFilterMenu:"Show Filter Menu",hideFilterMenu:"Hide Filter Menu",filterOperator:"Filter Operator",filterConstraint:"Filter Constraint",editRow:"Row Edit",saveEdit:"Save Edit",cancelEdit:"Cancel Edit",listView:"List View",gridView:"Grid View",slide:"Slide",slideNumber:"{slideNumber}",zoomImage:"Zoom Image",zoomIn:"Zoom In",zoomOut:"Zoom Out",rotateRight:"Rotate Right",rotateLeft:"Rotate Left",listLabel:"Option List",selectColor:"Select a color",removeLabel:"Remove",browseFiles:"Browse Files",maximizeLabel:"Maximize",minimizeLabel:"Minimize"}};zIndex={modal:1100,overlay:1e3,menu:1e3,tooltip:1100};translationSource=new Yr;translationObserver=this.translationSource.asObservable();getTranslation(e){return this.translation[e]}setTranslation(e){this.translation={...this.translation,...e},this.translationSource.next(this.translation)}setConfig(e){const{csp:r,ripple:o,inputStyle:i,inputVariant:s,theme:a,overlayOptions:l,translation:c,filterMatchModeOptions:u,overlayAppendTo:d,zIndex:h,ptOptions:f,pt:p,unstyled:g}=e||{};r&&this.csp.set(r),d&&this.overlayAppendTo.set(d),o&&this.ripple.set(o),i&&this.inputStyle.set(i),s&&this.inputVariant.set(s),l&&(this.overlayOptions=l),c&&this.setTranslation(c),u&&(this.filterMatchModeOptions=u),h&&(this.zIndex=h),p&&this.pt.set(p),f&&this.ptOptions.set(f),g&&this.unstyled.set(g),a&&this.setThemeConfig({theme:a,csp:r})}static \u0275fac=(()=>{let e;return function(o){return(e||(e=Ze(n)))(o||n)}})();static \u0275prov=Z({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const PW=new j("PRIME_NG_CONFIG");let oM=(()=>{class n extends yr{name="common";static \u0275fac=(()=>{let e;return function(o){return(e||(e=Ze(n)))(o||n)}})();static \u0275prov=Z({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const vo=new j("PARENT_INSTANCE");let _r=(()=>{class n{document=D(ur);platformId=D(ll);el=D(xo);injector=D(Zr);cd=D(jf);renderer=D(wl);config=D(rM);$parentInstance=D(vo,{optional:!0,skipSelf:!0})??void 0;baseComponentStyle=D(oM);baseStyle=D(yr);scopedStyleEl;parent=this.$params.parent;cn=sc;_themeScopedListener;dt=pe();unstyled=pe();pt=pe();ptOptions=pe();$attrSelector=ti("pc");get $name(){return this.componentName||this.constructor?.name?.replace(/^_/,"")||"UnknownComponent"}get $hostName(){return this.hostName}get $el(){return this.el?.nativeElement}directivePT=Wt(void 0);directiveUnstyled=Wt(void 0);$unstyled=Ht(()=>this.unstyled()??this.directiveUnstyled()??this.config?.unstyled()??!1);$pt=Ht(()=>zr(this.pt()||this.directivePT(),this.$params));get $globalPT(){return this._getPT(this.config?.pt(),void 0,e=>zr(e,this.$params))}get $defaultPT(){return this._getPT(this.config?.pt(),void 0,e=>this._getOptionValue(e,this.$hostName||this.$name,this.$params)||zr(e,this.$params))}get $style(){return{theme:void 0,css:void 0,classes:void 0,inlineStyles:void 0,...(this._getHostInstance(this)||{}).$style,...this._componentStyle}}get $styleOptions(){return{nonce:this.config?.csp().nonce}}get $params(){return{instance:this,parent:{instance:this._getHostInstance(this)||this.$parentInstance}}}onInit(){}onChanges(e){}onDoCheck(){}onAfterContentInit(){}onAfterContentChecked(){}onAfterViewInit(){}onAfterViewChecked(){}onDestroy(){}constructor(){Ao(e=>{this.document&&!LC(this.platformId)&&(vr.off("theme:change",this._themeScopedListener),this.dt()?(this._loadScopedThemeStyles(this.dt()),this._themeScopedListener=()=>this._loadScopedThemeStyles(this.dt()),this._themeChangeListener(this._themeScopedListener)):this._unloadScopedThemeStyles()),e(()=>{vr.off("theme:change",this._themeScopedListener)})}),Ao(e=>{this.document&&!LC(this.platformId)&&(vr.off("theme:change",this._loadCoreStyles),this.$unstyled()||(this._loadCoreStyles(),this._themeChangeListener(this._loadCoreStyles))),e(()=>{vr.off("theme:change",this._loadCoreStyles)})}),this._hook("onBeforeInit")}ngOnInit(){this._loadCoreStyles(),this._loadStyles(),this.onInit(),this._hook("onInit")}ngOnChanges(e){this.onChanges(e),this._hook("onChanges",e)}ngDoCheck(){this.onDoCheck(),this._hook("onDoCheck")}ngAfterContentInit(){this.onAfterContentInit(),this._hook("onAfterContentInit")}ngAfterContentChecked(){this.onAfterContentChecked(),this._hook("onAfterContentChecked")}ngAfterViewInit(){this.$el?.setAttribute(this.$attrSelector,""),this.onAfterViewInit(),this._hook("onAfterViewInit")}ngAfterViewChecked(){this.onAfterViewChecked(),this._hook("onAfterViewChecked")}ngOnDestroy(){this._removeThemeListeners(),this._unloadScopedThemeStyles(),this.onDestroy(),this._hook("onDestroy")}_mergeProps(e,...r){return Lp(e)?e(...r):nM(...r)}_getHostInstance(e){return e?this.$hostName?this.$name===this.$hostName?e:this._getHostInstance(e.$parentInstance):e.$parentInstance:void 0}_getPropValue(e){return this[e]||this._getHostInstance(this)?.[e]}_getOptionValue(e,r="",o={}){return Nx(e,r,o)}_hook(e,...r){if(!this.$hostName){const o=this._usePT(this._getPT(this.$pt(),this.$name),this._getOptionValue,`hooks.${e}`),i=this._useDefaultPT(this._getOptionValue,`hooks.${e}`);o?.(...r),i?.(...r)}}_load(){nd.isStyleNameLoaded("base")||(this.baseStyle.loadBaseCSS(this.$styleOptions),this._loadGlobalStyles(),nd.setLoadedStyleName("base")),this._loadThemeStyles()}_loadStyles(){this._load(),this._themeChangeListener(()=>this._load())}_loadGlobalStyles(){const e=this._useGlobalPT(this._getOptionValue,"global.css",this.$params);hn(e)&&this.baseStyle.load(e,{name:"global",...this.$styleOptions})}_loadCoreStyles(){!nd.isStyleNameLoaded(this.$style?.name)&&this.$style?.name&&(this.baseComponentStyle.loadCSS(this.$styleOptions),this.$style.loadCSS(this.$styleOptions),nd.setLoadedStyleName(this.$style.name))}_loadThemeStyles(){if(!this.$unstyled()&&"none"!==this.config?.theme()){if(!It.isStyleNameLoaded("common")){const{primitive:e,semantic:r,global:o,style:i}=this.$style?.getCommonTheme?.()||{};this.baseStyle.load(e?.css,{name:"primitive-variables",...this.$styleOptions}),this.baseStyle.load(r?.css,{name:"semantic-variables",...this.$styleOptions}),this.baseStyle.load(o?.css,{name:"global-variables",...this.$styleOptions}),this.baseStyle.loadBaseStyle({name:"global-style",...this.$styleOptions},i),It.setLoadedStyleName("common")}if(!It.isStyleNameLoaded(this.$style?.name)&&this.$style?.name){const{css:e,style:r}=this.$style?.getComponentTheme?.()||{};this.$style?.load(e,{name:`${this.$style?.name}-variables`,...this.$styleOptions}),this.$style?.loadStyle({name:`${this.$style?.name}-style`,...this.$styleOptions},r),It.setLoadedStyleName(this.$style?.name)}if(!It.isStyleNameLoaded("layer-order")){const e=this.$style?.getLayerOrderThemeCSS?.();this.baseStyle.load(e,{name:"layer-order",first:!0,...this.$styleOptions}),It.setLoadedStyleName("layer-order")}}}_loadScopedThemeStyles(e){const{css:r}=this.$style?.getPresetTheme?.(e,`[${this.$attrSelector}]`)||{},o=this.$style?.load(r,{name:`${this.$attrSelector}-${this.$style?.name}`,...this.$styleOptions});this.scopedStyleEl=o?.el}_unloadScopedThemeStyles(){this.scopedStyleEl?.remove()}_themeChangeListener(e=()=>{}){nd.clearLoadedStyleNames(),vr.on("theme:change",e.bind(this))}_removeThemeListeners(){vr.off("theme:change",this._loadCoreStyles),vr.off("theme:change",this._load),vr.off("theme:change",this._themeScopedListener)}_getPTValue(e={},r="",o={},i=!0){const s=/./g.test(r)&&!!o[r.split(".")[0]],{mergeSections:a=!0,mergeProps:l=!1}=this._getPropValue("ptOptions")?.()||this.config?.ptOptions?.()||{},c=i?s?this._useGlobalPT(this._getPTClassValue,r,o):this._useDefaultPT(this._getPTClassValue,r,o):void 0,u=s?void 0:this._usePT(this._getPT(e,this.$hostName||this.$name),this._getPTClassValue,r,{...o,global:c||{}}),d=this._getPTDatasets(r);return a||!a&&u?l?this._mergeProps(l,c,u,d):{...c,...u,...d}:{...u,...d}}_getPTDatasets(e=""){const r="data-pc-",o="root"===e&&hn(this.$pt()?.["data-pc-section"]);return"transition"!==e&&{..."root"===e&&{[`${r}name`]:ya(o?this.$pt()?.["data-pc-section"]:this.$name),...o&&{[`${r}extend`]:ya(this.$name)},[`${this.$attrSelector}`]:""},[`${r}section`]:ya(e.includes(".")?e.split(".").at(-1)??"":e)}}_getPTClassValue(e,r,o){const i=this._getOptionValue(e,r,o);return bo(i)||function Ox(n,t=!0){return Array.isArray(n)&&(t||0!==n.length)}(i)?{class:i}:i}_getPT(e,r="",o){const i=(s,a=!1)=>{const l=o?o(s):s,c=ya(r),u=ya(this.$hostName||this.$name);return(a?c!==u?l?.[c]:void 0:l?.[c])??l};return e?.hasOwnProperty("_usept")?{_usept:e._usept,originalValue:i(e.originalValue),value:i(e.value)}:i(e,!0)}_usePT(e,r,o,i){const s=a=>r?.call(this,a,o,i);if(e?.hasOwnProperty("_usept")){const{mergeSections:a=!0,mergeProps:l=!1}=e._usept||this.config?.ptOptions()||{},c=s(e.originalValue),u=s(e.value);return void 0===c&&void 0===u?void 0:bo(u)?u:bo(c)?c:a||!a&&u?l?this._mergeProps(l,c,u):{...c,...u}:u}return s(e)}_useGlobalPT(e,r,o){return this._usePT(this.$globalPT,e,r,o)}_useDefaultPT(e,r,o){return this._usePT(this.$defaultPT,e,r,o)}ptm(e="",r={}){return this._getPTValue(this.$pt(),e,{...this.$params,...r})}ptms(e,r={}){return e.reduce((o,i)=>nM(o,this.ptm(i,r))||{},{})}ptmo(e={},r="",o={}){return this._getPTValue(e,r,{instance:this,...o},!1)}cx(e,r={}){return this.$unstyled()?void 0:sc(this._getOptionValue(this.$style.classes,e,{...this.$params,...r}))}sx(e="",r=!0,o={}){if(r){const i=this._getOptionValue(this.$style.inlineStyles,e,{...this.$params,...o});return{...this._getOptionValue(this.baseComponentStyle.inlineStyles,e,{...this.$params,...o}),...i}}}static \u0275fac=function(r){return new(r||n)};static \u0275dir=xn({type:n,inputs:{dt:[1,"dt"],unstyled:[1,"unstyled"],pt:[1,"pt"],ptOptions:[1,"ptOptions"]},features:[or([oM,yr]),Vs]})}return n})(),sn=(()=>{class n{el;renderer;pBind=pe(void 0);_attrs=Wt(void 0);attrs=Ht(()=>this._attrs()||this.pBind());styles=Ht(()=>this.attrs()?.style);classes=Ht(()=>sc(this.attrs()?.class));listeners=[];constructor(e,r){this.el=e,this.renderer=r,Ao(()=>{const{style:o,class:i,...s}=this.attrs()||{};for(const[a,l]of Object.entries(s))if(a.startsWith("on")&&"function"==typeof l){const c=a.slice(2).toLowerCase();if(!this.listeners.some(u=>u.eventName===c)){const u=this.renderer.listen(this.el.nativeElement,c,l);this.listeners.push({eventName:c,unlisten:u})}}else null==l?this.renderer.removeAttribute(this.el.nativeElement,a):(this.renderer.setAttribute(this.el.nativeElement,a,l.toString()),a in this.el.nativeElement&&(this.el.nativeElement[a]=l))})}ngOnDestroy(){this.clearListeners()}setAttrs(e){Pp(this._attrs(),e)||this._attrs.set(e)}clearListeners(){this.listeners.forEach(({unlisten:e})=>e()),this.listeners=[]}static \u0275fac=function(r){return new(r||n)(Ce(xo),Ce(wl))};static \u0275dir=xn({type:n,selectors:[["","pBind",""]],hostVars:4,hostBindings:function(r,o){2&r&&(Hl(o.styles()),Be(o.classes()))},inputs:{pBind:[1,"pBind"]}})}return n})(),Zi=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=yi({type:n});static \u0275inj=Go({})}return n})(),y_=(()=>{class n{static zindex=1e3;static calculatedScrollbarWidth=null;static calculatedScrollbarHeight=null;static browser;static addClass(e,r){e&&r&&(e.classList?e.classList.add(r):e.className+=" "+r)}static addMultipleClasses(e,r){if(e&&r)if(e.classList){let o=r.trim().split(" ");for(let i=0;i<o.length;i++)e.classList.add(o[i])}else{let o=r.split(" ");for(let i=0;i<o.length;i++)e.className+=" "+o[i]}}static removeClass(e,r){e&&r&&(e.classList?e.classList.remove(r):e.className=e.className.replace(new RegExp("(^|\\b)"+r.split(" ").join("|")+"(\\b|$)","gi")," "))}static removeMultipleClasses(e,r){e&&r&&[r].flat().filter(Boolean).forEach(o=>o.split(" ").forEach(i=>this.removeClass(e,i)))}static hasClass(e,r){return!(!e||!r)&&(e.classList?e.classList.contains(r):new RegExp("(^| )"+r+"( |$)","gi").test(e.className))}static siblings(e){return Array.prototype.filter.call(e.parentNode.children,function(r){return r!==e})}static find(e,r){return Array.from(e.querySelectorAll(r))}static findSingle(e,r){return this.isElement(e)?e.querySelector(r):null}static index(e){let r=e.parentNode.childNodes,o=0;for(var i=0;i<r.length;i++){if(r[i]==e)return o;1==r[i].nodeType&&o++}return-1}static indexWithinGroup(e,r){let o=e.parentNode?e.parentNode.childNodes:[],i=0;for(var s=0;s<o.length;s++){if(o[s]==e)return i;o[s].attributes&&o[s].attributes[r]&&1==o[s].nodeType&&i++}return-1}static appendOverlay(e,r,o="self"){"self"!==o&&e&&r&&this.appendChild(e,r)}static alignOverlay(e,r,o="self",i=!0){e&&r&&(i&&(e.style.minWidth=`${n.getOuterWidth(r)}px`),"self"===o?this.relativePosition(e,r):this.absolutePosition(e,r))}static relativePosition(e,r,o=!0){const i=y=>{if(y)return"relative"===getComputedStyle(y).getPropertyValue("position")?y:i(y.parentElement)},s=e.offsetParent?{width:e.offsetWidth,height:e.offsetHeight}:this.getHiddenElementDimensions(e),a=r.offsetHeight,l=r.getBoundingClientRect(),c=this.getWindowScrollTop(),u=this.getWindowScrollLeft(),d=this.getViewport(),f=i(e)?.getBoundingClientRect()||{top:-1*c,left:-1*u};let p,g,m="top";l.top+a+s.height>d.height?(p=l.top-f.top-s.height,m="bottom",l.top+p<0&&(p=-1*l.top)):(p=a+l.top-f.top,m="top");const b=l.left+s.width-d.width;if(g=s.width>d.width?-1*(l.left-f.left):b>0?l.left-f.left-b:l.left-f.left,e.style.top=p+"px",e.style.left=g+"px",e.style.transformOrigin=m,o){const y=function Mp(n){for(let t of document?.styleSheets)try{for(let e of t?.cssRules)for(let r of e?.style)if(n.test(r))return{name:r,value:e.style.getPropertyValue(r).trim()}}catch{}return null}(/-anchor-gutter$/)?.value;e.style.marginTop="bottom"===m?`calc(${y??"2px"} * -1)`:y??""}}static absolutePosition(e,r,o=!0){const i=e.offsetParent?{width:e.offsetWidth,height:e.offsetHeight}:this.getHiddenElementDimensions(e),s=i.height,a=i.width,l=r.offsetHeight,c=r.offsetWidth,u=r.getBoundingClientRect(),d=this.getWindowScrollTop(),h=this.getWindowScrollLeft(),f=this.getViewport();let p,g;u.top+l+s>f.height?(p=u.top+d-s,e.style.transformOrigin="bottom",p<0&&(p=d)):(p=l+u.top+d,e.style.transformOrigin="top"),g=u.left+a>f.width?Math.max(0,u.left+h+c-a):u.left+h,e.style.top=p+"px",e.style.left=g+"px",o&&(e.style.marginTop="bottom"===origin?"calc(var(--p-anchor-gutter) * -1)":"calc(var(--p-anchor-gutter))")}static getParents(e,r=[]){return null===e.parentNode?r:this.getParents(e.parentNode,r.concat([e.parentNode]))}static getScrollableParents(e){let r=[];if(e){let o=this.getParents(e);const i=/(auto|scroll)/,s=a=>{let l=window.getComputedStyle(a,null);return i.test(l.getPropertyValue("overflow"))||i.test(l.getPropertyValue("overflowX"))||i.test(l.getPropertyValue("overflowY"))};for(let a of o){let l=1===a.nodeType&&a.dataset.scrollselectors;if(l){let c=l.split(",");for(let u of c){let d=this.findSingle(a,u);d&&s(d)&&r.push(d)}}9!==a.nodeType&&s(a)&&r.push(a)}}return r}static getHiddenElementOuterHeight(e){e.style.visibility="hidden",e.style.display="block";let r=e.offsetHeight;return e.style.display="none",e.style.visibility="visible",r}static getHiddenElementOuterWidth(e){e.style.visibility="hidden",e.style.display="block";let r=e.offsetWidth;return e.style.display="none",e.style.visibility="visible",r}static getHiddenElementDimensions(e){let r={};return e.style.visibility="hidden",e.style.display="block",r.width=e.offsetWidth,r.height=e.offsetHeight,e.style.display="none",e.style.visibility="visible",r}static scrollInView(e,r){let o=getComputedStyle(e).getPropertyValue("borderTopWidth"),i=o?parseFloat(o):0,s=getComputedStyle(e).getPropertyValue("paddingTop"),a=s?parseFloat(s):0,l=e.getBoundingClientRect(),u=r.getBoundingClientRect().top+document.body.scrollTop-(l.top+document.body.scrollTop)-i-a,d=e.scrollTop,h=e.clientHeight,f=this.getOuterHeight(r);u<0?e.scrollTop=d+u:u+f>h&&(e.scrollTop=d+u-h+f)}static fadeIn(e,r){e.style.opacity=0;let o=+new Date,i=0,s=function(){i=+e.style.opacity.replace(",",".")+((new Date).getTime()-o)/r,e.style.opacity=i,o=+new Date,+i<1&&(window.requestAnimationFrame?window.requestAnimationFrame(s):setTimeout(s,16))};s()}static fadeOut(e,r){var o=1,a=50/r;let l=setInterval(()=>{(o-=a)<=0&&(o=0,clearInterval(l)),e.style.opacity=o},50)}static getWindowScrollTop(){let e=document.documentElement;return(window.pageYOffset||e.scrollTop)-(e.clientTop||0)}static getWindowScrollLeft(){let e=document.documentElement;return(window.pageXOffset||e.scrollLeft)-(e.clientLeft||0)}static matches(e,r){var o=Element.prototype;return(o.matches||o.webkitMatchesSelector||o.mozMatchesSelector||o.msMatchesSelector||function(s){return-1!==[].indexOf.call(document.querySelectorAll(s),this)}).call(e,r)}static getOuterWidth(e,r){let o=e.offsetWidth;if(r){let i=getComputedStyle(e);o+=parseFloat(i.marginLeft)+parseFloat(i.marginRight)}return o}static getHorizontalPadding(e){let r=getComputedStyle(e);return parseFloat(r.paddingLeft)+parseFloat(r.paddingRight)}static getHorizontalMargin(e){let r=getComputedStyle(e);return parseFloat(r.marginLeft)+parseFloat(r.marginRight)}static innerWidth(e){let r=e.offsetWidth,o=getComputedStyle(e);return r+=parseFloat(o.paddingLeft)+parseFloat(o.paddingRight),r}static width(e){let r=e.offsetWidth,o=getComputedStyle(e);return r-=parseFloat(o.paddingLeft)+parseFloat(o.paddingRight),r}static getInnerHeight(e){let r=e.offsetHeight,o=getComputedStyle(e);return r+=parseFloat(o.paddingTop)+parseFloat(o.paddingBottom),r}static getOuterHeight(e,r){let o=e.offsetHeight;if(r){let i=getComputedStyle(e);o+=parseFloat(i.marginTop)+parseFloat(i.marginBottom)}return o}static getHeight(e){let r=e.offsetHeight,o=getComputedStyle(e);return r-=parseFloat(o.paddingTop)+parseFloat(o.paddingBottom)+parseFloat(o.borderTopWidth)+parseFloat(o.borderBottomWidth),r}static getWidth(e){let r=e.offsetWidth,o=getComputedStyle(e);return r-=parseFloat(o.paddingLeft)+parseFloat(o.paddingRight)+parseFloat(o.borderLeftWidth)+parseFloat(o.borderRightWidth),r}static getViewport(){let e=window,r=document,o=r.documentElement,i=r.getElementsByTagName("body")[0];return{width:e.innerWidth||o.clientWidth||i.clientWidth,height:e.innerHeight||o.clientHeight||i.clientHeight}}static getOffset(e){var r=e.getBoundingClientRect();return{top:r.top+(window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0),left:r.left+(window.pageXOffset||document.documentElement.scrollLeft||document.body.scrollLeft||0)}}static replaceElementWith(e,r){let o=e.parentNode;if(!o)throw"Can't replace element";return o.replaceChild(r,e)}static getUserAgent(){if(navigator&&this.isClient())return navigator.userAgent}static isIE(){var e=window.navigator.userAgent;return e.indexOf("MSIE ")>0||(e.indexOf("Trident/")>0?(e.indexOf("rv:"),!0):e.indexOf("Edge/")>0)}static isIOS(){return/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream}static isAndroid(){return/(android)/i.test(navigator.userAgent)}static isTouchDevice(){return"ontouchstart"in window||navigator.maxTouchPoints>0}static appendChild(e,r){if(this.isElement(r))r.appendChild(e);else{if(!(r&&r.el&&r.el.nativeElement))throw"Cannot append "+r+" to "+e;r.el.nativeElement.appendChild(e)}}static removeChild(e,r){if(this.isElement(r))r.removeChild(e);else{if(!r.el||!r.el.nativeElement)throw"Cannot remove "+e+" from "+r;r.el.nativeElement.removeChild(e)}}static removeElement(e){"remove"in Element.prototype?e.remove():e.parentNode?.removeChild(e)}static isElement(e){return"object"==typeof HTMLElement?e instanceof HTMLElement:e&&"object"==typeof e&&null!==e&&1===e.nodeType&&"string"==typeof e.nodeName}static calculateScrollbarWidth(e){if(e){let r=getComputedStyle(e);return e.offsetWidth-e.clientWidth-parseFloat(r.borderLeftWidth)-parseFloat(r.borderRightWidth)}{if(null!==this.calculatedScrollbarWidth)return this.calculatedScrollbarWidth;let r=document.createElement("div");r.className="p-scrollbar-measure",document.body.appendChild(r);let o=r.offsetWidth-r.clientWidth;return document.body.removeChild(r),this.calculatedScrollbarWidth=o,o}}static calculateScrollbarHeight(){if(null!==this.calculatedScrollbarHeight)return this.calculatedScrollbarHeight;let e=document.createElement("div");e.className="p-scrollbar-measure",document.body.appendChild(e);let r=e.offsetHeight-e.clientHeight;return document.body.removeChild(e),this.calculatedScrollbarWidth=r,r}static invokeElementMethod(e,r,o){e[r].apply(e,o)}static clearSelection(){if(window.getSelection&&window.getSelection())window.getSelection()?.empty?window.getSelection()?.empty():window.getSelection()?.removeAllRanges&&(window.getSelection()?.rangeCount||0)>0&&(window.getSelection()?.getRangeAt(0)?.getClientRects()?.length||0)>0&&window.getSelection()?.removeAllRanges();else if(document.selection&&document.selection.empty)try{document.selection.empty()}catch{}}static getBrowser(){if(!this.browser){let e=this.resolveUserAgent();this.browser={},e.browser&&(this.browser[e.browser]=!0,this.browser.version=e.version),this.browser.chrome?this.browser.webkit=!0:this.browser.webkit&&(this.browser.safari=!0)}return this.browser}static resolveUserAgent(){let e=navigator.userAgent.toLowerCase(),r=/(chrome)[ \/]([\w.]+)/.exec(e)||/(webkit)[ \/]([\w.]+)/.exec(e)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(e)||/(msie) ([\w.]+)/.exec(e)||e.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(e)||[];return{browser:r[1]||"",version:r[2]||"0"}}static isInteger(e){return Number.isInteger?Number.isInteger(e):"number"==typeof e&&isFinite(e)&&Math.floor(e)===e}static isHidden(e){return!e||null===e.offsetParent}static isVisible(e){return e&&null!=e.offsetParent}static isExist(e){return null!==e&&typeof e<"u"&&e.nodeName&&e.parentNode}static focus(e,r){e&&document.activeElement!==e&&e.focus(r)}static getFocusableSelectorString(e=""){return`button:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${e},\n        [href][clientHeight][clientWidth]:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${e},\n        input:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${e},\n        select:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${e},\n        textarea:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${e},\n        [tabIndex]:not([tabIndex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${e},\n        [contenteditable]:not([tabIndex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${e},\n        .p-inputtext:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${e},\n        .p-button:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${e}`}static getFocusableElements(e,r=""){let o=this.find(e,this.getFocusableSelectorString(r)),i=[];for(let s of o){const a=getComputedStyle(s);this.isVisible(s)&&"none"!=a.display&&"hidden"!=a.visibility&&i.push(s)}return i}static getFocusableElement(e,r=""){let o=this.findSingle(e,this.getFocusableSelectorString(r));if(o){const i=getComputedStyle(o);if(this.isVisible(o)&&"none"!=i.display&&"hidden"!=i.visibility)return o}return null}static getFirstFocusableElement(e,r=""){const o=this.getFocusableElements(e,r);return o.length>0?o[0]:null}static getLastFocusableElement(e,r){const o=this.getFocusableElements(e,r);return o.length>0?o[o.length-1]:null}static getNextFocusableElement(e,r=!1){const o=n.getFocusableElements(e);let i=0;if(o&&o.length>0){const s=o.indexOf(o[0].ownerDocument.activeElement);r?i=-1==s||0===s?o.length-1:s-1:-1!=s&&s!==o.length-1&&(i=s+1)}return o[i]}static generateZIndex(){return this.zindex=this.zindex||999,++this.zindex}static getSelection(){return window.getSelection?window.getSelection()?.toString():document.getSelection?document.getSelection()?.toString():document.selection?document.selection.createRange().text:null}static getTargetElement(e,r){if(!e)return null;switch(e){case"document":return document;case"window":return window;case"@next":return r?.nextElementSibling;case"@prev":return r?.previousElementSibling;case"@parent":return r?.parentElement;case"@grandparent":return r?.parentElement?.parentElement;default:const o=typeof e;if("string"===o)return document.querySelector(e);if("object"===o&&e.hasOwnProperty("nativeElement"))return this.isExist(e.nativeElement)?e.nativeElement:void 0;const s=(a=e)&&a.constructor&&a.call&&a.apply?e():e;return s&&9===s.nodeType||this.isExist(s)?s:null}var a}static isClient(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}static getAttribute(e,r){if(e){const o=e.getAttribute(r);return isNaN(o)?"true"===o||"false"===o?"true"===o:o:+o}}static calculateBodyScrollbarWidth(){return window.innerWidth-document.documentElement.offsetWidth}static blockBodyScroll(e="p-overflow-hidden"){document.body.style.setProperty("--scrollbar-width",this.calculateBodyScrollbarWidth()+"px"),this.addClass(document.body,e)}static unblockBodyScroll(e="p-overflow-hidden"){document.body.style.removeProperty("--scrollbar-width"),this.removeClass(document.body,e)}static createElement(e,r={},...o){if(e){const i=document.createElement(e);return this.setAttributes(i,r),i.append(...o),i}}static setAttribute(e,r="",o){this.isElement(e)&&null!=o&&e.setAttribute(r,o)}static setAttributes(e,r={}){if(this.isElement(e)){const o=(i,s)=>{const a=e?.$attrs?.[i]?[e?.$attrs?.[i]]:[];return[s].flat().reduce((l,c)=>{if(null!=c){const u=typeof c;if("string"===u||"number"===u)l.push(c);else if("object"===u){const d=Array.isArray(c)?o(i,c):Object.entries(c).map(([h,f])=>"style"!==i||!f&&0!==f?f?h:void 0:`${h.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}:${f}`);l=d.length?l.concat(d.filter(h=>!!h)):l}}return l},a)};Object.entries(r).forEach(([i,s])=>{if(null!=s){const a=i.match(/^on(.+)/);a?e.addEventListener(a[1].toLowerCase(),s):"pBind"===i?this.setAttributes(e,s):(s="class"===i?[...new Set(o("class",s))].join(" ").trim():"style"===i?o("style",s).join(";").trim():s,(e.$attrs=e.$attrs||{})&&(e.$attrs[i]=s),e.setAttribute(i,s))}})}}static isFocusableElement(e,r=""){return!!this.isElement(e)&&e.matches(`button:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${r},\n                [href][clientHeight][clientWidth]:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${r},\n                input:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${r},\n                select:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${r},\n                textarea:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${r},\n                [tabIndex]:not([tabIndex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${r},\n                [contenteditable]:not([tabIndex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${r}`)}}return n})();function iM(){!function Lz(n){"string"==typeof n?tc(document.body,n||"p-overflow-hidden"):(null!=n&&n.variableName&&document.body.style.setProperty(n.variableName,function Oz(){return window.innerWidth-document.documentElement.offsetWidth}()+"px"),tc(document.body,n?.className||"p-overflow-hidden"))}({variableName:Zx("scrollbar.width").name})}function sM(){!function Fz(n){"string"==typeof n?Di(document.body,n||"p-overflow-hidden"):(null!=n&&n.variableName&&document.body.style.removeProperty(n.variableName),Di(document.body,n?.className||"p-overflow-hidden"))}({variableName:Zx("scrollbar.width").name})}let BW=(()=>{class n extends _r{autofocus=!1;focused=!1;platformId=D(ll);document=D(ur);host=D(xo);onAfterContentChecked(){!1===this.autofocus?this.host.nativeElement.removeAttribute("autofocus"):this.host.nativeElement.setAttribute("autofocus",!0),this.focused||this.autoFocus()}onAfterViewChecked(){this.focused||this.autoFocus()}autoFocus(){as(this.platformId)&&this.autofocus&&setTimeout(()=>{const e=y_.getFocusableElements(this.host?.nativeElement);0===e.length&&this.host.nativeElement.focus(),e.length>0&&e[0].focus(),this.focused=!0})}static \u0275fac=(()=>{let e;return function(o){return(e||(e=Ze(n)))(o||n)}})();static \u0275dir=xn({type:n,selectors:[["","pAutoFocus",""]],inputs:{autofocus:[0,"pAutoFocus","autofocus"]},features:[Ut]})}return n})();const $W={root:({instance:n})=>{const t="function"==typeof n.value?n.value():n.value,e="function"==typeof n.size?n.size():n.size,r="function"==typeof n.badgeSize?n.badgeSize():n.badgeSize,o="function"==typeof n.severity?n.severity():n.severity;return["p-badge p-component",{"p-badge-circle":hn(t)&&1===String(t).length,"p-badge-dot":Ki(t),"p-badge-sm":"small"===e||"small"===r,"p-badge-lg":"large"===e||"large"===r,"p-badge-xl":"xlarge"===e||"xlarge"===r,"p-badge-info":"info"===o,"p-badge-success":"success"===o,"p-badge-warn":"warn"===o,"p-badge-danger":"danger"===o,"p-badge-secondary":"secondary"===o,"p-badge-contrast":"contrast"===o}]}};let aM=(()=>{class n extends yr{name="badge";style="\n    \n    .p-badge {\n        display: inline-flex;\n        border-radius: dt('badge.border.radius');\n        align-items: center;\n        justify-content: center;\n        padding: dt('badge.padding');\n        background: dt('badge.primary.background');\n        color: dt('badge.primary.color');\n        font-size: dt('badge.font.size');\n        font-weight: dt('badge.font.weight');\n        min-width: dt('badge.min.width');\n        height: dt('badge.height');\n    }\n\n    .p-badge-dot {\n        width: dt('badge.dot.size');\n        min-width: dt('badge.dot.size');\n        height: dt('badge.dot.size');\n        border-radius: 50%;\n        padding: 0;\n    }\n\n    .p-badge-circle {\n        padding: 0;\n        border-radius: 50%;\n    }\n\n    .p-badge-secondary {\n        background: dt('badge.secondary.background');\n        color: dt('badge.secondary.color');\n    }\n\n    .p-badge-success {\n        background: dt('badge.success.background');\n        color: dt('badge.success.color');\n    }\n\n    .p-badge-info {\n        background: dt('badge.info.background');\n        color: dt('badge.info.color');\n    }\n\n    .p-badge-warn {\n        background: dt('badge.warn.background');\n        color: dt('badge.warn.color');\n    }\n\n    .p-badge-danger {\n        background: dt('badge.danger.background');\n        color: dt('badge.danger.color');\n    }\n\n    .p-badge-contrast {\n        background: dt('badge.contrast.background');\n        color: dt('badge.contrast.color');\n    }\n\n    .p-badge-sm {\n        font-size: dt('badge.sm.font.size');\n        min-width: dt('badge.sm.min.width');\n        height: dt('badge.sm.height');\n    }\n\n    .p-badge-lg {\n        font-size: dt('badge.lg.font.size');\n        min-width: dt('badge.lg.min.width');\n        height: dt('badge.lg.height');\n    }\n\n    .p-badge-xl {\n        font-size: dt('badge.xl.font.size');\n        min-width: dt('badge.xl.min.width');\n        height: dt('badge.xl.height');\n    }\n\n\n    /* For PrimeNG (directive)*/\n    .p-overlay-badge {\n        position: relative;\n    }\n\n    .p-overlay-badge > .p-badge {\n        position: absolute;\n        top: 0;\n        inset-inline-end: 0;\n        transform: translate(50%, -50%);\n        transform-origin: 100% 0;\n        margin: 0;\n    }\n";classes=$W;static \u0275fac=(()=>{let e;return function(o){return(e||(e=Ze(n)))(o||n)}})();static \u0275prov=Z({token:n,factory:n.\u0275fac})}return n})();const lM=new j("BADGE_INSTANCE");let cM=(()=>{class n extends _r{$pcBadge=D(lM,{optional:!0,skipSelf:!0})??void 0;bindDirectiveInstance=D(sn,{self:!0});onAfterViewChecked(){this.bindDirectiveInstance.setAttrs(this.ptms(["host","root"]))}styleClass=pe();badgeSize=pe();size=pe();severity=pe();value=pe();badgeDisabled=pe(!1,{transform:Qe});_componentStyle=D(aM);get dataP(){return this.cn({circle:null!=this.value()&&1===String(this.value()).length,empty:null==this.value(),disabled:this.badgeDisabled(),[this.severity()]:this.severity(),[this.size()]:this.size()})}static \u0275fac=(()=>{let e;return function(o){return(e||(e=Ze(n)))(o||n)}})();static \u0275cmp=Mt({type:n,selectors:[["p-badge"]],hostVars:5,hostBindings:function(r,o){2&r&&(nt("data-p",o.dataP),Be(o.cn(o.cx("root"),o.styleClass())),If("display",o.badgeDisabled()?"none":null))},inputs:{styleClass:[1,"styleClass"],badgeSize:[1,"badgeSize"],size:[1,"size"],severity:[1,"severity"],value:[1,"value"],badgeDisabled:[1,"badgeDisabled"]},features:[or([aM,{provide:lM,useExisting:n},{provide:vo,useExisting:n}]),No([sn]),Ut],decls:1,vars:1,template:function(r,o){1&r&&q(0),2&r&&ha(o.value())},dependencies:[Vr,ni,Zi],encapsulation:2,changeDetection:0})}return n})(),VW=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=yi({type:n});static \u0275inj=Go({imports:[cM,ni,ni]})}return n})();const zW=["*"],WW={root:"p-fluid"};let uM=(()=>{class n extends yr{name="fluid";classes=WW;static \u0275fac=(()=>{let e;return function(o){return(e||(e=Ze(n)))(o||n)}})();static \u0275prov=Z({token:n,factory:n.\u0275fac})}return n})();const dM=new j("FLUID_INSTANCE");let qW=(()=>{class n extends _r{$pcFluid=D(dM,{optional:!0,skipSelf:!0})??void 0;bindDirectiveInstance=D(sn,{self:!0});onAfterViewChecked(){this.bindDirectiveInstance.setAttrs(this.ptms(["host","root"]))}_componentStyle=D(uM);static \u0275fac=(()=>{let e;return function(o){return(e||(e=Ze(n)))(o||n)}})();static \u0275cmp=Mt({type:n,selectors:[["p-fluid"]],hostVars:2,hostBindings:function(r,o){2&r&&Be(o.cx("root"))},features:[or([uM,{provide:dM,useExisting:n},{provide:vo,useExisting:n}]),No([sn]),Ut],ngContentSelectors:zW,decls:1,vars:0,template:function(r,o){1&r&&(Qo(),Po(0))},dependencies:[Vr],encapsulation:2,changeDetection:0})}return n})();const YW=["*"];let hM=(()=>{class n extends yr{name="baseicon";css="\n.p-icon {\n    display: inline-block;\n    vertical-align: baseline;\n    flex-shrink: 0;\n}\n\n.p-icon-spin {\n    -webkit-animation: p-icon-spin 2s infinite linear;\n    animation: p-icon-spin 2s infinite linear;\n}\n\n@-webkit-keyframes p-icon-spin {\n    0% {\n        -webkit-transform: rotate(0deg);\n        transform: rotate(0deg);\n    }\n    100% {\n        -webkit-transform: rotate(359deg);\n        transform: rotate(359deg);\n    }\n}\n\n@keyframes p-icon-spin {\n    0% {\n        -webkit-transform: rotate(0deg);\n        transform: rotate(0deg);\n    }\n    100% {\n        -webkit-transform: rotate(359deg);\n        transform: rotate(359deg);\n    }\n}\n";static \u0275fac=(()=>{let e;return function(o){return(e||(e=Ze(n)))(o||n)}})();static \u0275prov=Z({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Si=(()=>{class n extends _r{spin=!1;_componentStyle=D(hM);getClassNames(){return sc("p-icon",{"p-icon-spin":this.spin})}static \u0275fac=(()=>{let e;return function(o){return(e||(e=Ze(n)))(o||n)}})();static \u0275cmp=Mt({type:n,selectors:[["ng-component"]],hostAttrs:["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],hostVars:2,hostBindings:function(r,o){2&r&&Be(o.getClassNames())},inputs:{spin:[2,"spin","spin",Qe]},features:[or([hM]),Ut],ngContentSelectors:YW,decls:1,vars:0,template:function(r,o){1&r&&(Qo(),Po(0))},encapsulation:2,changeDetection:0})}return n})();const ZW=["data-p-icon","spinner"];let QW=(()=>{class n extends Si{pathId;onInit(){this.pathId="url(#"+ti()+")"}static \u0275fac=(()=>{let e;return function(o){return(e||(e=Ze(n)))(o||n)}})();static \u0275cmp=Mt({type:n,selectors:[["","data-p-icon","spinner"]],features:[Ut],attrs:ZW,decls:5,vars:2,consts:[["d","M6.99701 14C5.85441 13.999 4.72939 13.7186 3.72012 13.1832C2.71084 12.6478 1.84795 11.8737 1.20673 10.9284C0.565504 9.98305 0.165424 8.89526 0.041387 7.75989C-0.0826496 6.62453 0.073125 5.47607 0.495122 4.4147C0.917119 3.35333 1.59252 2.4113 2.46241 1.67077C3.33229 0.930247 4.37024 0.413729 5.4857 0.166275C6.60117 -0.0811796 7.76026 -0.0520535 8.86188 0.251112C9.9635 0.554278 10.9742 1.12227 11.8057 1.90555C11.915 2.01493 11.9764 2.16319 11.9764 2.31778C11.9764 2.47236 11.915 2.62062 11.8057 2.73C11.7521 2.78503 11.688 2.82877 11.6171 2.85864C11.5463 2.8885 11.4702 2.90389 11.3933 2.90389C11.3165 2.90389 11.2404 2.8885 11.1695 2.85864C11.0987 2.82877 11.0346 2.78503 10.9809 2.73C9.9998 1.81273 8.73246 1.26138 7.39226 1.16876C6.05206 1.07615 4.72086 1.44794 3.62279 2.22152C2.52471 2.99511 1.72683 4.12325 1.36345 5.41602C1.00008 6.70879 1.09342 8.08723 1.62775 9.31926C2.16209 10.5513 3.10478 11.5617 4.29713 12.1803C5.48947 12.7989 6.85865 12.988 8.17414 12.7157C9.48963 12.4435 10.6711 11.7264 11.5196 10.6854C12.3681 9.64432 12.8319 8.34282 12.8328 7C12.8328 6.84529 12.8943 6.69692 13.0038 6.58752C13.1132 6.47812 13.2616 6.41667 13.4164 6.41667C13.5712 6.41667 13.7196 6.47812 13.8291 6.58752C13.9385 6.69692 14 6.84529 14 7C14 8.85651 13.2622 10.637 11.9489 11.9497C10.6356 13.2625 8.85432 14 6.99701 14Z","fill","currentColor"],[3,"id"],["width","14","height","14","fill","white"]],template:function(r,o){1&r&&(wn(),ge(0,"g"),Vn(1,"path",0),me(),ge(2,"defs")(3,"clipPath",1),Vn(4,"rect",2),me()()),2&r&&(nt("clip-path",o.pathId),x(3),Ui("id",o.pathId))},encapsulation:2})}return n})();const tG={root:"p-ink"};let fM=(()=>{class n extends yr{name="ripple";style="\n    \n    .p-ink {\n        display: block;\n        position: absolute;\n        background: dt('ripple.background');\n        border-radius: 100%;\n        transform: scale(0);\n        pointer-events: none;\n    }\n\n    .p-ink-active {\n        animation: ripple 0.4s linear;\n    }\n\n    @keyframes ripple {\n        100% {\n            opacity: 0;\n            transform: scale(2.5);\n        }\n    }\n\n\n    /* For PrimeNG */\n    .p-ripple {\n        overflow: hidden;\n        position: relative;\n    }\n\n    .p-ripple-disabled .p-ink {\n        display: none !important;\n    }\n\n    @keyframes ripple {\n        100% {\n            opacity: 0;\n            transform: scale(2.5);\n        }\n    }\n";classes=tG;static \u0275fac=(()=>{let e;return function(o){return(e||(e=Ze(n)))(o||n)}})();static \u0275prov=Z({token:n,factory:n.\u0275fac})}return n})(),__=(()=>{class n extends _r{zone=D(Ot);_componentStyle=D(fM);animationListener;mouseDownListener;timeout;constructor(){super(),Ao(()=>{as(this.platformId)&&(this.config.ripple()?this.zone.runOutsideAngular(()=>{this.create(),this.mouseDownListener=this.renderer.listen(this.el.nativeElement,"mousedown",this.onMouseDown.bind(this))}):this.remove())})}onAfterViewInit(){}onMouseDown(e){let r=this.getInk();if(!r||"none"===this.document.defaultView?.getComputedStyle(r,null).display)return;if(!this.$unstyled()&&Di(r,"p-ink-active"),r.setAttribute("data-p-ink-active","false"),!Sx(r)&&!oc(r)){let a=Math.max(nc(this.el.nativeElement),rc(this.el.nativeElement));r.style.height=a+"px",r.style.width=a+"px"}let o=Np(this.el.nativeElement),i=e.pageX-o.left+this.document.body.scrollTop-oc(r)/2,s=e.pageY-o.top+this.document.body.scrollLeft-Sx(r)/2;this.renderer.setStyle(r,"top",s+"px"),this.renderer.setStyle(r,"left",i+"px"),!this.$unstyled()&&tc(r,"p-ink-active"),r.setAttribute("data-p-ink-active","true"),this.timeout=setTimeout(()=>{let a=this.getInk();a&&(!this.$unstyled()&&Di(a,"p-ink-active"),a.setAttribute("data-p-ink-active","false"))},401)}getInk(){const e=this.el.nativeElement.children;for(let r=0;r<e.length;r++)if("string"==typeof e[r].className&&-1!==e[r].className.indexOf("p-ink"))return e[r];return null}resetInk(){let e=this.getInk();e&&(!this.$unstyled()&&Di(e,"p-ink-active"),e.setAttribute("data-p-ink-active","false"))}onAnimationEnd(e){this.timeout&&clearTimeout(this.timeout),!this.$unstyled()&&Di(e.currentTarget,"p-ink-active"),e.currentTarget.setAttribute("data-p-ink-active","false")}create(){let e=this.renderer.createElement("span");this.renderer.addClass(e,"p-ink"),this.renderer.appendChild(this.el.nativeElement,e),this.renderer.setAttribute(e,"data-p-ink","true"),this.renderer.setAttribute(e,"data-p-ink-active","false"),this.renderer.setAttribute(e,"aria-hidden","true"),this.renderer.setAttribute(e,"role","presentation"),this.animationListener||(this.animationListener=this.renderer.listen(e,"animationend",this.onAnimationEnd.bind(this)))}remove(){let e=this.getInk();e&&(this.mouseDownListener&&this.mouseDownListener(),this.animationListener&&this.animationListener(),this.mouseDownListener=null,this.animationListener=null,function nW(n){var t;n&&("remove"in Element.prototype?n.remove():null==(t=n.parentNode)||t.removeChild(n))}(e))}onDestroy(){this.config&&this.config.ripple()&&this.remove()}static \u0275fac=function(r){return new(r||n)};static \u0275dir=xn({type:n,selectors:[["","pRipple",""]],hostAttrs:[1,"p-ripple"],features:[or([fM]),Ut]})}return n})(),rG=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=yi({type:n});static \u0275inj=Go({})}return n})();const iG=["content"],sG=["loadingicon"],aG=["icon"],lG=["*"],pM=(n,t)=>({class:n,pt:t});function cG(n,t){1&n&&Lo(0)}function uG(n,t){if(1&n&&gt(0,"span",7),2&n){const e=Q(3);Be(e.cn(e.cx("loadingIcon"),"pi-spin",e.loadingIcon||(null==e.buttonProps?null:e.buttonProps.loadingIcon))),H("pBind",e.ptm("loadingIcon")),nt("aria-hidden",!0)}}function dG(n,t){if(1&n&&(wn(),gt(0,"svg",8)),2&n){const e=Q(3);Be(e.cn(e.cx("loadingIcon"),e.cx("spinnerIcon"))),H("pBind",e.ptm("loadingIcon"))("spin",!0),nt("aria-hidden",!0)}}function hG(n,t){if(1&n&&(Oo(0),qe(1,uG,1,4,"span",3)(2,dG,1,5,"svg",6),ho()),2&n){const e=Q(2);x(),H("ngIf",e.loadingIcon||(null==e.buttonProps?null:e.buttonProps.loadingIcon)),x(),H("ngIf",!(e.loadingIcon||null!=e.buttonProps&&e.buttonProps.loadingIcon))}}function fG(n,t){}function pG(n,t){if(1&n&&qe(0,fG,0,0,"ng-template",9),2&n){const e=Q(2);H("ngIf",e.loadingIconTemplate||e._loadingIconTemplate)}}function gG(n,t){if(1&n&&(Oo(0),qe(1,hG,3,2,"ng-container",2)(2,pG,1,1,null,5),ho()),2&n){const e=Q();x(),H("ngIf",!e.loadingIconTemplate&&!e._loadingIconTemplate),x(),H("ngTemplateOutlet",e.loadingIconTemplate||e._loadingIconTemplate)("ngTemplateOutletContext",Rf(3,pM,e.cx("loadingIcon"),e.ptm("loadingIcon")))}}function mG(n,t){if(1&n&&gt(0,"span",7),2&n){const e=Q(2);Be(e.cn(e.cx("icon"),e.icon||(null==e.buttonProps?null:e.buttonProps.icon))),H("pBind",e.ptm("icon")),nt("data-p",e.dataIconP)}}function bG(n,t){}function vG(n,t){if(1&n&&qe(0,bG,0,0,"ng-template",9),2&n){const e=Q(2);H("ngIf",!e.icon&&(e.iconTemplate||e._iconTemplate))}}function yG(n,t){if(1&n&&(Oo(0),qe(1,mG,1,4,"span",3)(2,vG,1,1,null,5),ho()),2&n){const e=Q();x(),H("ngIf",(e.icon||(null==e.buttonProps?null:e.buttonProps.icon))&&!e.iconTemplate&&!e._iconTemplate),x(),H("ngTemplateOutlet",e.iconTemplate||e._iconTemplate)("ngTemplateOutletContext",Rf(3,pM,e.cx("icon"),e.ptm("icon")))}}function _G(n,t){if(1&n&&(V(0,"span",7),q(1),G()),2&n){const e=Q();Be(e.cx("label")),H("pBind",e.ptm("label")),nt("aria-hidden",(e.icon||(null==e.buttonProps?null:e.buttonProps.icon))&&!(e.label||null!=e.buttonProps&&e.buttonProps.label))("data-p",e.dataLabelP),x(),ha(e.label||(null==e.buttonProps?null:e.buttonProps.label))}}function CG(n,t){if(1&n&&gt(0,"p-badge",10),2&n){const e=Q();H("value",e.badge||(null==e.buttonProps?null:e.buttonProps.badge))("severity",e.badgeSeverity||(null==e.buttonProps?null:e.buttonProps.badgeSeverity))("pt",e.ptm("pcBadge"))("unstyled",e.unstyled())}}const wG={root:({instance:n})=>["p-button p-component",{"p-button-icon-only":n.hasIcon&&!n.label&&!n.buttonProps?.label&&!n.badge,"p-button-vertical":("top"===n.iconPos||"bottom"===n.iconPos)&&n.label,"p-button-loading":n.loading||n.buttonProps?.loading,"p-button-link":n.link||n.buttonProps?.link,[`p-button-${n.severity||n.buttonProps?.severity}`]:n.severity||n.buttonProps?.severity,"p-button-raised":n.raised||n.buttonProps?.raised,"p-button-rounded":n.rounded||n.buttonProps?.rounded,"p-button-text":n.text||"text"===n.variant||n.buttonProps?.text||"text"===n.buttonProps?.variant,"p-button-outlined":n.outlined||"outlined"===n.variant||n.buttonProps?.outlined||"outlined"===n.buttonProps?.variant,"p-button-sm":"small"===n.size||"small"===n.buttonProps?.size,"p-button-lg":"large"===n.size||"large"===n.buttonProps?.size,"p-button-plain":n.plain||n.buttonProps?.plain,"p-button-fluid":n.hasFluid}],loadingIcon:"p-button-loading-icon",icon:({instance:n})=>["p-button-icon",{[`p-button-icon-${n.iconPos||n.buttonProps?.iconPos}`]:n.label||n.buttonProps?.label,"p-button-icon-left":("left"===n.iconPos||"left"===n.buttonProps?.iconPos)&&n.label||n.buttonProps?.label,"p-button-icon-right":("right"===n.iconPos||"right"===n.buttonProps?.iconPos)&&n.label||n.buttonProps?.label,"p-button-icon-top":("top"===n.iconPos||"top"===n.buttonProps?.iconPos)&&n.label||n.buttonProps?.label,"p-button-icon-bottom":("bottom"===n.iconPos||"bottom"===n.buttonProps?.iconPos)&&n.label||n.buttonProps?.label},n.icon,n.buttonProps?.icon],spinnerIcon:({instance:n})=>Object.entries(n.cx("icon")).filter(([,t])=>!!t).reduce((t,[e])=>t+` ${e}`,"p-button-loading-icon"),label:"p-button-label"};let gM=(()=>{class n extends yr{name="button";style="\n    .p-button {\n        display: inline-flex;\n        cursor: pointer;\n        user-select: none;\n        align-items: center;\n        justify-content: center;\n        overflow: hidden;\n        position: relative;\n        color: dt('button.primary.color');\n        background: dt('button.primary.background');\n        border: 1px solid dt('button.primary.border.color');\n        padding: dt('button.padding.y') dt('button.padding.x');\n        font-size: 1rem;\n        font-family: inherit;\n        font-feature-settings: inherit;\n        transition:\n            background dt('button.transition.duration'),\n            color dt('button.transition.duration'),\n            border-color dt('button.transition.duration'),\n            outline-color dt('button.transition.duration'),\n            box-shadow dt('button.transition.duration');\n        border-radius: dt('button.border.radius');\n        outline-color: transparent;\n        gap: dt('button.gap');\n    }\n\n    .p-button:disabled {\n        cursor: default;\n    }\n\n    .p-button-icon-right {\n        order: 1;\n    }\n\n    .p-button-icon-right:dir(rtl) {\n        order: -1;\n    }\n\n    .p-button:not(.p-button-vertical) .p-button-icon:not(.p-button-icon-right):dir(rtl) {\n        order: 1;\n    }\n\n    .p-button-icon-bottom {\n        order: 2;\n    }\n\n    .p-button-icon-only {\n        width: dt('button.icon.only.width');\n        padding-inline-start: 0;\n        padding-inline-end: 0;\n        gap: 0;\n    }\n\n    .p-button-icon-only.p-button-rounded {\n        border-radius: 50%;\n        height: dt('button.icon.only.width');\n    }\n\n    .p-button-icon-only .p-button-label {\n        visibility: hidden;\n        width: 0;\n    }\n\n    .p-button-icon-only::after {\n        content: \"\0A0\";\n        visibility: hidden;\n        width: 0;\n    }\n\n    .p-button-sm {\n        font-size: dt('button.sm.font.size');\n        padding: dt('button.sm.padding.y') dt('button.sm.padding.x');\n    }\n\n    .p-button-sm .p-button-icon {\n        font-size: dt('button.sm.font.size');\n    }\n\n    .p-button-sm.p-button-icon-only {\n        width: dt('button.sm.icon.only.width');\n    }\n\n    .p-button-sm.p-button-icon-only.p-button-rounded {\n        height: dt('button.sm.icon.only.width');\n    }\n\n    .p-button-lg {\n        font-size: dt('button.lg.font.size');\n        padding: dt('button.lg.padding.y') dt('button.lg.padding.x');\n    }\n\n    .p-button-lg .p-button-icon {\n        font-size: dt('button.lg.font.size');\n    }\n\n    .p-button-lg.p-button-icon-only {\n        width: dt('button.lg.icon.only.width');\n    }\n\n    .p-button-lg.p-button-icon-only.p-button-rounded {\n        height: dt('button.lg.icon.only.width');\n    }\n\n    .p-button-vertical {\n        flex-direction: column;\n    }\n\n    .p-button-label {\n        font-weight: dt('button.label.font.weight');\n    }\n\n    .p-button-fluid {\n        width: 100%;\n    }\n\n    .p-button-fluid.p-button-icon-only {\n        width: dt('button.icon.only.width');\n    }\n\n    .p-button:not(:disabled):hover {\n        background: dt('button.primary.hover.background');\n        border: 1px solid dt('button.primary.hover.border.color');\n        color: dt('button.primary.hover.color');\n    }\n\n    .p-button:not(:disabled):active {\n        background: dt('button.primary.active.background');\n        border: 1px solid dt('button.primary.active.border.color');\n        color: dt('button.primary.active.color');\n    }\n\n    .p-button:focus-visible {\n        box-shadow: dt('button.primary.focus.ring.shadow');\n        outline: dt('button.focus.ring.width') dt('button.focus.ring.style') dt('button.primary.focus.ring.color');\n        outline-offset: dt('button.focus.ring.offset');\n    }\n\n    .p-button .p-badge {\n        min-width: dt('button.badge.size');\n        height: dt('button.badge.size');\n        line-height: dt('button.badge.size');\n    }\n\n    .p-button-raised {\n        box-shadow: dt('button.raised.shadow');\n    }\n\n    .p-button-rounded {\n        border-radius: dt('button.rounded.border.radius');\n    }\n\n    .p-button-secondary {\n        background: dt('button.secondary.background');\n        border: 1px solid dt('button.secondary.border.color');\n        color: dt('button.secondary.color');\n    }\n\n    .p-button-secondary:not(:disabled):hover {\n        background: dt('button.secondary.hover.background');\n        border: 1px solid dt('button.secondary.hover.border.color');\n        color: dt('button.secondary.hover.color');\n    }\n\n    .p-button-secondary:not(:disabled):active {\n        background: dt('button.secondary.active.background');\n        border: 1px solid dt('button.secondary.active.border.color');\n        color: dt('button.secondary.active.color');\n    }\n\n    .p-button-secondary:focus-visible {\n        outline-color: dt('button.secondary.focus.ring.color');\n        box-shadow: dt('button.secondary.focus.ring.shadow');\n    }\n\n    .p-button-success {\n        background: dt('button.success.background');\n        border: 1px solid dt('button.success.border.color');\n        color: dt('button.success.color');\n    }\n\n    .p-button-success:not(:disabled):hover {\n        background: dt('button.success.hover.background');\n        border: 1px solid dt('button.success.hover.border.color');\n        color: dt('button.success.hover.color');\n    }\n\n    .p-button-success:not(:disabled):active {\n        background: dt('button.success.active.background');\n        border: 1px solid dt('button.success.active.border.color');\n        color: dt('button.success.active.color');\n    }\n\n    .p-button-success:focus-visible {\n        outline-color: dt('button.success.focus.ring.color');\n        box-shadow: dt('button.success.focus.ring.shadow');\n    }\n\n    .p-button-info {\n        background: dt('button.info.background');\n        border: 1px solid dt('button.info.border.color');\n        color: dt('button.info.color');\n    }\n\n    .p-button-info:not(:disabled):hover {\n        background: dt('button.info.hover.background');\n        border: 1px solid dt('button.info.hover.border.color');\n        color: dt('button.info.hover.color');\n    }\n\n    .p-button-info:not(:disabled):active {\n        background: dt('button.info.active.background');\n        border: 1px solid dt('button.info.active.border.color');\n        color: dt('button.info.active.color');\n    }\n\n    .p-button-info:focus-visible {\n        outline-color: dt('button.info.focus.ring.color');\n        box-shadow: dt('button.info.focus.ring.shadow');\n    }\n\n    .p-button-warn {\n        background: dt('button.warn.background');\n        border: 1px solid dt('button.warn.border.color');\n        color: dt('button.warn.color');\n    }\n\n    .p-button-warn:not(:disabled):hover {\n        background: dt('button.warn.hover.background');\n        border: 1px solid dt('button.warn.hover.border.color');\n        color: dt('button.warn.hover.color');\n    }\n\n    .p-button-warn:not(:disabled):active {\n        background: dt('button.warn.active.background');\n        border: 1px solid dt('button.warn.active.border.color');\n        color: dt('button.warn.active.color');\n    }\n\n    .p-button-warn:focus-visible {\n        outline-color: dt('button.warn.focus.ring.color');\n        box-shadow: dt('button.warn.focus.ring.shadow');\n    }\n\n    .p-button-help {\n        background: dt('button.help.background');\n        border: 1px solid dt('button.help.border.color');\n        color: dt('button.help.color');\n    }\n\n    .p-button-help:not(:disabled):hover {\n        background: dt('button.help.hover.background');\n        border: 1px solid dt('button.help.hover.border.color');\n        color: dt('button.help.hover.color');\n    }\n\n    .p-button-help:not(:disabled):active {\n        background: dt('button.help.active.background');\n        border: 1px solid dt('button.help.active.border.color');\n        color: dt('button.help.active.color');\n    }\n\n    .p-button-help:focus-visible {\n        outline-color: dt('button.help.focus.ring.color');\n        box-shadow: dt('button.help.focus.ring.shadow');\n    }\n\n    .p-button-danger {\n        background: dt('button.danger.background');\n        border: 1px solid dt('button.danger.border.color');\n        color: dt('button.danger.color');\n    }\n\n    .p-button-danger:not(:disabled):hover {\n        background: dt('button.danger.hover.background');\n        border: 1px solid dt('button.danger.hover.border.color');\n        color: dt('button.danger.hover.color');\n    }\n\n    .p-button-danger:not(:disabled):active {\n        background: dt('button.danger.active.background');\n        border: 1px solid dt('button.danger.active.border.color');\n        color: dt('button.danger.active.color');\n    }\n\n    .p-button-danger:focus-visible {\n        outline-color: dt('button.danger.focus.ring.color');\n        box-shadow: dt('button.danger.focus.ring.shadow');\n    }\n\n    .p-button-contrast {\n        background: dt('button.contrast.background');\n        border: 1px solid dt('button.contrast.border.color');\n        color: dt('button.contrast.color');\n    }\n\n    .p-button-contrast:not(:disabled):hover {\n        background: dt('button.contrast.hover.background');\n        border: 1px solid dt('button.contrast.hover.border.color');\n        color: dt('button.contrast.hover.color');\n    }\n\n    .p-button-contrast:not(:disabled):active {\n        background: dt('button.contrast.active.background');\n        border: 1px solid dt('button.contrast.active.border.color');\n        color: dt('button.contrast.active.color');\n    }\n\n    .p-button-contrast:focus-visible {\n        outline-color: dt('button.contrast.focus.ring.color');\n        box-shadow: dt('button.contrast.focus.ring.shadow');\n    }\n\n    .p-button-outlined {\n        background: transparent;\n        border-color: dt('button.outlined.primary.border.color');\n        color: dt('button.outlined.primary.color');\n    }\n\n    .p-button-outlined:not(:disabled):hover {\n        background: dt('button.outlined.primary.hover.background');\n        border-color: dt('button.outlined.primary.border.color');\n        color: dt('button.outlined.primary.color');\n    }\n\n    .p-button-outlined:not(:disabled):active {\n        background: dt('button.outlined.primary.active.background');\n        border-color: dt('button.outlined.primary.border.color');\n        color: dt('button.outlined.primary.color');\n    }\n\n    .p-button-outlined.p-button-secondary {\n        border-color: dt('button.outlined.secondary.border.color');\n        color: dt('button.outlined.secondary.color');\n    }\n\n    .p-button-outlined.p-button-secondary:not(:disabled):hover {\n        background: dt('button.outlined.secondary.hover.background');\n        border-color: dt('button.outlined.secondary.border.color');\n        color: dt('button.outlined.secondary.color');\n    }\n\n    .p-button-outlined.p-button-secondary:not(:disabled):active {\n        background: dt('button.outlined.secondary.active.background');\n        border-color: dt('button.outlined.secondary.border.color');\n        color: dt('button.outlined.secondary.color');\n    }\n\n    .p-button-outlined.p-button-success {\n        border-color: dt('button.outlined.success.border.color');\n        color: dt('button.outlined.success.color');\n    }\n\n    .p-button-outlined.p-button-success:not(:disabled):hover {\n        background: dt('button.outlined.success.hover.background');\n        border-color: dt('button.outlined.success.border.color');\n        color: dt('button.outlined.success.color');\n    }\n\n    .p-button-outlined.p-button-success:not(:disabled):active {\n        background: dt('button.outlined.success.active.background');\n        border-color: dt('button.outlined.success.border.color');\n        color: dt('button.outlined.success.color');\n    }\n\n    .p-button-outlined.p-button-info {\n        border-color: dt('button.outlined.info.border.color');\n        color: dt('button.outlined.info.color');\n    }\n\n    .p-button-outlined.p-button-info:not(:disabled):hover {\n        background: dt('button.outlined.info.hover.background');\n        border-color: dt('button.outlined.info.border.color');\n        color: dt('button.outlined.info.color');\n    }\n\n    .p-button-outlined.p-button-info:not(:disabled):active {\n        background: dt('button.outlined.info.active.background');\n        border-color: dt('button.outlined.info.border.color');\n        color: dt('button.outlined.info.color');\n    }\n\n    .p-button-outlined.p-button-warn {\n        border-color: dt('button.outlined.warn.border.color');\n        color: dt('button.outlined.warn.color');\n    }\n\n    .p-button-outlined.p-button-warn:not(:disabled):hover {\n        background: dt('button.outlined.warn.hover.background');\n        border-color: dt('button.outlined.warn.border.color');\n        color: dt('button.outlined.warn.color');\n    }\n\n    .p-button-outlined.p-button-warn:not(:disabled):active {\n        background: dt('button.outlined.warn.active.background');\n        border-color: dt('button.outlined.warn.border.color');\n        color: dt('button.outlined.warn.color');\n    }\n\n    .p-button-outlined.p-button-help {\n        border-color: dt('button.outlined.help.border.color');\n        color: dt('button.outlined.help.color');\n    }\n\n    .p-button-outlined.p-button-help:not(:disabled):hover {\n        background: dt('button.outlined.help.hover.background');\n        border-color: dt('button.outlined.help.border.color');\n        color: dt('button.outlined.help.color');\n    }\n\n    .p-button-outlined.p-button-help:not(:disabled):active {\n        background: dt('button.outlined.help.active.background');\n        border-color: dt('button.outlined.help.border.color');\n        color: dt('button.outlined.help.color');\n    }\n\n    .p-button-outlined.p-button-danger {\n        border-color: dt('button.outlined.danger.border.color');\n        color: dt('button.outlined.danger.color');\n    }\n\n    .p-button-outlined.p-button-danger:not(:disabled):hover {\n        background: dt('button.outlined.danger.hover.background');\n        border-color: dt('button.outlined.danger.border.color');\n        color: dt('button.outlined.danger.color');\n    }\n\n    .p-button-outlined.p-button-danger:not(:disabled):active {\n        background: dt('button.outlined.danger.active.background');\n        border-color: dt('button.outlined.danger.border.color');\n        color: dt('button.outlined.danger.color');\n    }\n\n    .p-button-outlined.p-button-contrast {\n        border-color: dt('button.outlined.contrast.border.color');\n        color: dt('button.outlined.contrast.color');\n    }\n\n    .p-button-outlined.p-button-contrast:not(:disabled):hover {\n        background: dt('button.outlined.contrast.hover.background');\n        border-color: dt('button.outlined.contrast.border.color');\n        color: dt('button.outlined.contrast.color');\n    }\n\n    .p-button-outlined.p-button-contrast:not(:disabled):active {\n        background: dt('button.outlined.contrast.active.background');\n        border-color: dt('button.outlined.contrast.border.color');\n        color: dt('button.outlined.contrast.color');\n    }\n\n    .p-button-outlined.p-button-plain {\n        border-color: dt('button.outlined.plain.border.color');\n        color: dt('button.outlined.plain.color');\n    }\n\n    .p-button-outlined.p-button-plain:not(:disabled):hover {\n        background: dt('button.outlined.plain.hover.background');\n        border-color: dt('button.outlined.plain.border.color');\n        color: dt('button.outlined.plain.color');\n    }\n\n    .p-button-outlined.p-button-plain:not(:disabled):active {\n        background: dt('button.outlined.plain.active.background');\n        border-color: dt('button.outlined.plain.border.color');\n        color: dt('button.outlined.plain.color');\n    }\n\n    .p-button-text {\n        background: transparent;\n        border-color: transparent;\n        color: dt('button.text.primary.color');\n    }\n\n    .p-button-text:not(:disabled):hover {\n        background: dt('button.text.primary.hover.background');\n        border-color: transparent;\n        color: dt('button.text.primary.color');\n    }\n\n    .p-button-text:not(:disabled):active {\n        background: dt('button.text.primary.active.background');\n        border-color: transparent;\n        color: dt('button.text.primary.color');\n    }\n\n    .p-button-text.p-button-secondary {\n        background: transparent;\n        border-color: transparent;\n        color: dt('button.text.secondary.color');\n    }\n\n    .p-button-text.p-button-secondary:not(:disabled):hover {\n        background: dt('button.text.secondary.hover.background');\n        border-color: transparent;\n        color: dt('button.text.secondary.color');\n    }\n\n    .p-button-text.p-button-secondary:not(:disabled):active {\n        background: dt('button.text.secondary.active.background');\n        border-color: transparent;\n        color: dt('button.text.secondary.color');\n    }\n\n    .p-button-text.p-button-success {\n        background: transparent;\n        border-color: transparent;\n        color: dt('button.text.success.color');\n    }\n\n    .p-button-text.p-button-success:not(:disabled):hover {\n        background: dt('button.text.success.hover.background');\n        border-color: transparent;\n        color: dt('button.text.success.color');\n    }\n\n    .p-button-text.p-button-success:not(:disabled):active {\n        background: dt('button.text.success.active.background');\n        border-color: transparent;\n        color: dt('button.text.success.color');\n    }\n\n    .p-button-text.p-button-info {\n        background: transparent;\n        border-color: transparent;\n        color: dt('button.text.info.color');\n    }\n\n    .p-button-text.p-button-info:not(:disabled):hover {\n        background: dt('button.text.info.hover.background');\n        border-color: transparent;\n        color: dt('button.text.info.color');\n    }\n\n    .p-button-text.p-button-info:not(:disabled):active {\n        background: dt('button.text.info.active.background');\n        border-color: transparent;\n        color: dt('button.text.info.color');\n    }\n\n    .p-button-text.p-button-warn {\n        background: transparent;\n        border-color: transparent;\n        color: dt('button.text.warn.color');\n    }\n\n    .p-button-text.p-button-warn:not(:disabled):hover {\n        background: dt('button.text.warn.hover.background');\n        border-color: transparent;\n        color: dt('button.text.warn.color');\n    }\n\n    .p-button-text.p-button-warn:not(:disabled):active {\n        background: dt('button.text.warn.active.background');\n        border-color: transparent;\n        color: dt('button.text.warn.color');\n    }\n\n    .p-button-text.p-button-help {\n        background: transparent;\n        border-color: transparent;\n        color: dt('button.text.help.color');\n    }\n\n    .p-button-text.p-button-help:not(:disabled):hover {\n        background: dt('button.text.help.hover.background');\n        border-color: transparent;\n        color: dt('button.text.help.color');\n    }\n\n    .p-button-text.p-button-help:not(:disabled):active {\n        background: dt('button.text.help.active.background');\n        border-color: transparent;\n        color: dt('button.text.help.color');\n    }\n\n    .p-button-text.p-button-danger {\n        background: transparent;\n        border-color: transparent;\n        color: dt('button.text.danger.color');\n    }\n\n    .p-button-text.p-button-danger:not(:disabled):hover {\n        background: dt('button.text.danger.hover.background');\n        border-color: transparent;\n        color: dt('button.text.danger.color');\n    }\n\n    .p-button-text.p-button-danger:not(:disabled):active {\n        background: dt('button.text.danger.active.background');\n        border-color: transparent;\n        color: dt('button.text.danger.color');\n    }\n\n    .p-button-text.p-button-contrast {\n        background: transparent;\n        border-color: transparent;\n        color: dt('button.text.contrast.color');\n    }\n\n    .p-button-text.p-button-contrast:not(:disabled):hover {\n        background: dt('button.text.contrast.hover.background');\n        border-color: transparent;\n        color: dt('button.text.contrast.color');\n    }\n\n    .p-button-text.p-button-contrast:not(:disabled):active {\n        background: dt('button.text.contrast.active.background');\n        border-color: transparent;\n        color: dt('button.text.contrast.color');\n    }\n\n    .p-button-text.p-button-plain {\n        background: transparent;\n        border-color: transparent;\n        color: dt('button.text.plain.color');\n    }\n\n    .p-button-text.p-button-plain:not(:disabled):hover {\n        background: dt('button.text.plain.hover.background');\n        border-color: transparent;\n        color: dt('button.text.plain.color');\n    }\n\n    .p-button-text.p-button-plain:not(:disabled):active {\n        background: dt('button.text.plain.active.background');\n        border-color: transparent;\n        color: dt('button.text.plain.color');\n    }\n\n    .p-button-link {\n        background: transparent;\n        border-color: transparent;\n        color: dt('button.link.color');\n    }\n\n    .p-button-link:not(:disabled):hover {\n        background: transparent;\n        border-color: transparent;\n        color: dt('button.link.hover.color');\n    }\n\n    .p-button-link:not(:disabled):hover .p-button-label {\n        text-decoration: underline;\n    }\n\n    .p-button-link:not(:disabled):active {\n        background: transparent;\n        border-color: transparent;\n        color: dt('button.link.active.color');\n    }\n";classes=wG;static \u0275fac=(()=>{let e;return function(o){return(e||(e=Ze(n)))(o||n)}})();static \u0275prov=Z({token:n,factory:n.\u0275fac})}return n})();const mM=new j("BUTTON_INSTANCE");let C_=(()=>{class n extends _r{hostName="";$pcButton=D(mM,{optional:!0,skipSelf:!0})??void 0;bindDirectiveInstance=D(sn,{self:!0});_componentStyle=D(gM);onAfterViewChecked(){this.bindDirectiveInstance.setAttrs(this.ptm("host"))}type="button";badge;disabled;raised=!1;rounded=!1;text=!1;plain=!1;outlined=!1;link=!1;tabindex;size;variant;style;styleClass;badgeClass;badgeSeverity="secondary";ariaLabel;autofocus;iconPos="left";icon;label;loading=!1;loadingIcon;severity;buttonProps;fluid=pe(void 0,{transform:Qe});onClick=new un;onFocus=new un;onBlur=new un;contentTemplate;loadingIconTemplate;iconTemplate;templates;pcFluid=D(qW,{optional:!0,host:!0,skipSelf:!0});get hasFluid(){return this.fluid()??!!this.pcFluid}get hasIcon(){return this.icon||this.buttonProps?.icon||this.iconTemplate||this._iconTemplate||this.loadingIcon||this.loadingIconTemplate||this._loadingIconTemplate}_contentTemplate;_iconTemplate;_loadingIconTemplate;onAfterContentInit(){this.templates?.forEach(e=>{switch(e.getType()){case"content":default:this._contentTemplate=e.template;break;case"icon":this._iconTemplate=e.template;break;case"loadingicon":this._loadingIconTemplate=e.template}})}get dataP(){return this.cn({[this.size]:this.size,"icon-only":this.hasIcon&&!this.label&&!this.badge,loading:this.loading,fluid:this.hasFluid,rounded:this.rounded,raised:this.raised,outlined:this.outlined||"outlined"===this.variant,text:this.text||"text"===this.variant,link:this.link,vertical:("top"===this.iconPos||"bottom"===this.iconPos)&&this.label})}get dataIconP(){return this.cn({[this.iconPos]:this.iconPos,[this.size]:this.size})}get dataLabelP(){return this.cn({[this.size]:this.size,"icon-only":this.hasIcon&&!this.label&&!this.badge})}static \u0275fac=(()=>{let e;return function(o){return(e||(e=Ze(n)))(o||n)}})();static \u0275cmp=Mt({type:n,selectors:[["p-button"]],contentQueries:function(r,o,i){if(1&r&&(zn(i,iG,5),zn(i,sG,5),zn(i,aG,5),zn(i,Op,4)),2&r){let s;Yt(s=Kt())&&(o.contentTemplate=s.first),Yt(s=Kt())&&(o.loadingIconTemplate=s.first),Yt(s=Kt())&&(o.iconTemplate=s.first),Yt(s=Kt())&&(o.templates=s)}},inputs:{hostName:"hostName",type:"type",badge:"badge",disabled:[2,"disabled","disabled",Qe],raised:[2,"raised","raised",Qe],rounded:[2,"rounded","rounded",Qe],text:[2,"text","text",Qe],plain:[2,"plain","plain",Qe],outlined:[2,"outlined","outlined",Qe],link:[2,"link","link",Qe],tabindex:[2,"tabindex","tabindex",Wi],size:"size",variant:"variant",style:"style",styleClass:"styleClass",badgeClass:"badgeClass",badgeSeverity:"badgeSeverity",ariaLabel:"ariaLabel",autofocus:[2,"autofocus","autofocus",Qe],iconPos:"iconPos",icon:"icon",label:"label",loading:[2,"loading","loading",Qe],loadingIcon:"loadingIcon",severity:"severity",buttonProps:"buttonProps",fluid:[1,"fluid"]},outputs:{onClick:"onClick",onFocus:"onFocus",onBlur:"onBlur"},features:[or([gM,{provide:mM,useExisting:n},{provide:vo,useExisting:n}]),No([sn]),Ut],ngContentSelectors:lG,decls:7,vars:17,consts:[["pRipple","",3,"click","focus","blur","ngStyle","disabled","pAutoFocus","pBind"],[4,"ngTemplateOutlet"],[4,"ngIf"],[3,"class","pBind",4,"ngIf"],[3,"value","severity","pt","unstyled",4,"ngIf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["data-p-icon","spinner",3,"class","pBind","spin",4,"ngIf"],[3,"pBind"],["data-p-icon","spinner",3,"pBind","spin"],[3,"ngIf"],[3,"value","severity","pt","unstyled"]],template:function(r,o){1&r&&(Qo(),V(0,"button",0),bn("click",function(s){return o.onClick.emit(s)})("focus",function(s){return o.onFocus.emit(s)})("blur",function(s){return o.onBlur.emit(s)}),Po(1),qe(2,cG,1,0,"ng-container",1)(3,gG,3,6,"ng-container",2)(4,yG,3,6,"ng-container",2)(5,_G,2,6,"span",3)(6,CG,1,4,"p-badge",4),G()),2&r&&(Be(o.cn(o.cx("root"),o.styleClass,null==o.buttonProps?null:o.buttonProps.styleClass)),H("ngStyle",o.style||(null==o.buttonProps?null:o.buttonProps.style))("disabled",o.disabled||o.loading||(null==o.buttonProps?null:o.buttonProps.disabled))("pAutoFocus",o.autofocus||(null==o.buttonProps?null:o.buttonProps.autofocus))("pBind",o.ptm("root")),nt("type",o.type||(null==o.buttonProps?null:o.buttonProps.type))("aria-label",o.ariaLabel||(null==o.buttonProps?null:o.buttonProps.ariaLabel))("tabindex",o.tabindex||(null==o.buttonProps?null:o.buttonProps.tabindex))("data-p",o.dataP)("data-p-disabled",o.disabled||o.loading||(null==o.buttonProps?null:o.buttonProps.disabled))("data-p-severity",o.severity||(null==o.buttonProps?null:o.buttonProps.severity)),x(2),H("ngTemplateOutlet",o.contentTemplate||o._contentTemplate),x(),H("ngIf",o.loading||(null==o.buttonProps?null:o.buttonProps.loading)),x(),H("ngIf",!(o.loading||null!=o.buttonProps&&o.buttonProps.loading)),x(),H("ngIf",!o.contentTemplate&&!o._contentTemplate&&(o.label||(null==o.buttonProps?null:o.buttonProps.label))),x(),H("ngIf",!o.contentTemplate&&!o._contentTemplate&&(o.badge||(null==o.buttonProps?null:o.buttonProps.badge))))},dependencies:[Vr,Xu,ec,e_,__,BW,QW,VW,cM,ni,sn],encapsulation:2,changeDetection:0})}return n})(),DG=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=yi({type:n});static \u0275inj=Go({imports:[Vr,C_,ni,ni]})}return n})(),SG=(()=>{class n extends _r{pFocusTrapDisabled=!1;platformId=D(ll);document=D(ur);firstHiddenFocusableElement;lastHiddenFocusableElement;onInit(){as(this.platformId)&&!this.pFocusTrapDisabled&&!this.firstHiddenFocusableElement&&!this.lastHiddenFocusableElement&&this.createHiddenFocusableElements()}onChanges(e){e.pFocusTrapDisabled&&as(this.platformId)&&(e.pFocusTrapDisabled.currentValue?this.removeHiddenFocusableElements():this.createHiddenFocusableElements())}removeHiddenFocusableElements(){this.firstHiddenFocusableElement&&this.firstHiddenFocusableElement.parentNode&&this.firstHiddenFocusableElement.parentNode.removeChild(this.firstHiddenFocusableElement),this.lastHiddenFocusableElement&&this.lastHiddenFocusableElement.parentNode&&this.lastHiddenFocusableElement.parentNode.removeChild(this.lastHiddenFocusableElement)}getComputedSelector(e){return`:not(.p-hidden-focusable):not([data-p-hidden-focusable="true"])${e??""}`}createHiddenFocusableElements(){const r=o=>function Ex(n,t={},...e){if(n){let r=document.createElement(n);return c_(r,t),r.append(...e),r}}("span",{class:"p-hidden-accessible p-hidden-focusable",tabindex:"0",role:"presentation","aria-hidden":!0,"data-p-hidden-accessible":!0,"data-p-hidden-focusable":!0,onFocus:o?.bind(this)});this.firstHiddenFocusableElement=r(this.onFirstHiddenElementFocus),this.lastHiddenFocusableElement=r(this.onLastHiddenElementFocus),this.firstHiddenFocusableElement.setAttribute("data-pc-section","firstfocusableelement"),this.lastHiddenFocusableElement.setAttribute("data-pc-section","lastfocusableelement"),this.el.nativeElement.prepend(this.firstHiddenFocusableElement),this.el.nativeElement.append(this.lastHiddenFocusableElement)}onFirstHiddenElementFocus(e){const{currentTarget:r,relatedTarget:o}=e,i=o!==this.lastHiddenFocusableElement&&this.el.nativeElement?.contains(o)?this.lastHiddenFocusableElement:function Yz(n,t){let e=d_(n,t);return e.length>0?e[0]:null}(r.parentElement,":not(.p-hidden-focusable)");u_(i)}onLastHiddenElementFocus(e){const{currentTarget:r,relatedTarget:o}=e,i=o!==this.firstHiddenFocusableElement&&this.el.nativeElement?.contains(o)?this.firstHiddenFocusableElement:function Zz(n,t){let e=d_(n,t);return e.length>0?e[e.length-1]:null}(r.parentElement,":not(.p-hidden-focusable)");u_(i)}static \u0275fac=(()=>{let e;return function(o){return(e||(e=Ze(n)))(o||n)}})();static \u0275dir=xn({type:n,selectors:[["","pFocusTrap",""]],inputs:{pFocusTrapDisabled:[2,"pFocusTrapDisabled","pFocusTrapDisabled",Qe]},features:[Ut]})}return n})();const kG=["data-p-icon","times"];let bM=(()=>{class n extends Si{static \u0275fac=(()=>{let e;return function(o){return(e||(e=Ze(n)))(o||n)}})();static \u0275cmp=Mt({type:n,selectors:[["","data-p-icon","times"]],features:[Ut],attrs:kG,decls:1,vars:0,consts:[["d","M8.01186 7.00933L12.27 2.75116C12.341 2.68501 12.398 2.60524 12.4375 2.51661C12.4769 2.42798 12.4982 2.3323 12.4999 2.23529C12.5016 2.13827 12.4838 2.0419 12.4474 1.95194C12.4111 1.86197 12.357 1.78024 12.2884 1.71163C12.2198 1.64302 12.138 1.58893 12.0481 1.55259C11.9581 1.51625 11.8617 1.4984 11.7647 1.50011C11.6677 1.50182 11.572 1.52306 11.4834 1.56255C11.3948 1.60204 11.315 1.65898 11.2488 1.72997L6.99067 5.98814L2.7325 1.72997C2.59553 1.60234 2.41437 1.53286 2.22718 1.53616C2.03999 1.53946 1.8614 1.61529 1.72901 1.74767C1.59663 1.88006 1.5208 2.05865 1.5175 2.24584C1.5142 2.43303 1.58368 2.61419 1.71131 2.75116L5.96948 7.00933L1.71131 11.2675C1.576 11.403 1.5 11.5866 1.5 11.7781C1.5 11.9696 1.576 12.1532 1.71131 12.2887C1.84679 12.424 2.03043 12.5 2.2219 12.5C2.41338 12.5 2.59702 12.424 2.7325 12.2887L6.99067 8.03052L11.2488 12.2887C11.3843 12.424 11.568 12.5 11.7594 12.5C11.9509 12.5 12.1346 12.424 12.27 12.2887C12.4053 12.1532 12.4813 11.9696 12.4813 11.7781C12.4813 11.5866 12.4053 11.403 12.27 11.2675L8.01186 7.00933Z","fill","currentColor"]],template:function(r,o){1&r&&(wn(),Vn(0,"path",0))},encapsulation:2})}return n})();const TG=["data-p-icon","window-maximize"];let AG=(()=>{class n extends Si{pathId;onInit(){this.pathId="url(#"+ti()+")"}static \u0275fac=(()=>{let e;return function(o){return(e||(e=Ze(n)))(o||n)}})();static \u0275cmp=Mt({type:n,selectors:[["","data-p-icon","window-maximize"]],features:[Ut],attrs:TG,decls:5,vars:2,consts:[["fill-rule","evenodd","clip-rule","evenodd","d","M7 14H11.8C12.3835 14 12.9431 13.7682 13.3556 13.3556C13.7682 12.9431 14 12.3835 14 11.8V2.2C14 1.61652 13.7682 1.05694 13.3556 0.644365C12.9431 0.231785 12.3835 0 11.8 0H2.2C1.61652 0 1.05694 0.231785 0.644365 0.644365C0.231785 1.05694 0 1.61652 0 2.2V7C0 7.15913 0.063214 7.31174 0.175736 7.42426C0.288258 7.53679 0.44087 7.6 0.6 7.6C0.75913 7.6 0.911742 7.53679 1.02426 7.42426C1.13679 7.31174 1.2 7.15913 1.2 7V2.2C1.2 1.93478 1.30536 1.68043 1.49289 1.49289C1.68043 1.30536 1.93478 1.2 2.2 1.2H11.8C12.0652 1.2 12.3196 1.30536 12.5071 1.49289C12.6946 1.68043 12.8 1.93478 12.8 2.2V11.8C12.8 12.0652 12.6946 12.3196 12.5071 12.5071C12.3196 12.6946 12.0652 12.8 11.8 12.8H7C6.84087 12.8 6.68826 12.8632 6.57574 12.9757C6.46321 13.0883 6.4 13.2409 6.4 13.4C6.4 13.5591 6.46321 13.7117 6.57574 13.8243C6.68826 13.9368 6.84087 14 7 14ZM9.77805 7.42192C9.89013 7.534 10.0415 7.59788 10.2 7.59995C10.3585 7.59788 10.5099 7.534 10.622 7.42192C10.7341 7.30985 10.798 7.15844 10.8 6.99995V3.94242C10.8066 3.90505 10.8096 3.86689 10.8089 3.82843C10.8079 3.77159 10.7988 3.7157 10.7824 3.6623C10.756 3.55552 10.701 3.45698 10.622 3.37798C10.5099 3.2659 10.3585 3.20202 10.2 3.19995H7.00002C6.84089 3.19995 6.68828 3.26317 6.57576 3.37569C6.46324 3.48821 6.40002 3.64082 6.40002 3.79995C6.40002 3.95908 6.46324 4.11169 6.57576 4.22422C6.68828 4.33674 6.84089 4.39995 7.00002 4.39995H8.80006L6.19997 7.00005C6.10158 7.11005 6.04718 7.25246 6.04718 7.40005C6.04718 7.54763 6.10158 7.69004 6.19997 7.80005C6.30202 7.91645 6.44561 7.98824 6.59997 8.00005C6.75432 7.98824 6.89791 7.91645 6.99997 7.80005L9.60002 5.26841V6.99995C9.6021 7.15844 9.66598 7.30985 9.77805 7.42192ZM1.4 14H3.8C4.17066 13.9979 4.52553 13.8498 4.78763 13.5877C5.04973 13.3256 5.1979 12.9707 5.2 12.6V10.2C5.1979 9.82939 5.04973 9.47452 4.78763 9.21242C4.52553 8.95032 4.17066 8.80215 3.8 8.80005H1.4C1.02934 8.80215 0.674468 8.95032 0.412371 9.21242C0.150274 9.47452 0.00210008 9.82939 0 10.2V12.6C0.00210008 12.9707 0.150274 13.3256 0.412371 13.5877C0.674468 13.8498 1.02934 13.9979 1.4 14ZM1.25858 10.0586C1.29609 10.0211 1.34696 10 1.4 10H3.8C3.85304 10 3.90391 10.0211 3.94142 10.0586C3.97893 10.0961 4 10.147 4 10.2V12.6C4 12.6531 3.97893 12.704 3.94142 12.7415C3.90391 12.779 3.85304 12.8 3.8 12.8H1.4C1.34696 12.8 1.29609 12.779 1.25858 12.7415C1.22107 12.704 1.2 12.6531 1.2 12.6V10.2C1.2 10.147 1.22107 10.0961 1.25858 10.0586Z","fill","currentColor"],[3,"id"],["width","14","height","14","fill","white"]],template:function(r,o){1&r&&(wn(),ge(0,"g"),Vn(1,"path",0),me(),ge(2,"defs")(3,"clipPath",1),Vn(4,"rect",2),me()()),2&r&&(nt("clip-path",o.pathId),x(3),Ui("id",o.pathId))},encapsulation:2})}return n})();const IG=["data-p-icon","window-minimize"];let xG=(()=>{class n extends Si{pathId;onInit(){this.pathId="url(#"+ti()+")"}static \u0275fac=(()=>{let e;return function(o){return(e||(e=Ze(n)))(o||n)}})();static \u0275cmp=Mt({type:n,selectors:[["","data-p-icon","window-minimize"]],features:[Ut],attrs:IG,decls:5,vars:2,consts:[["fill-rule","evenodd","clip-rule","evenodd","d","M11.8 0H2.2C1.61652 0 1.05694 0.231785 0.644365 0.644365C0.231785 1.05694 0 1.61652 0 2.2V7C0 7.15913 0.063214 7.31174 0.175736 7.42426C0.288258 7.53679 0.44087 7.6 0.6 7.6C0.75913 7.6 0.911742 7.53679 1.02426 7.42426C1.13679 7.31174 1.2 7.15913 1.2 7V2.2C1.2 1.93478 1.30536 1.68043 1.49289 1.49289C1.68043 1.30536 1.93478 1.2 2.2 1.2H11.8C12.0652 1.2 12.3196 1.30536 12.5071 1.49289C12.6946 1.68043 12.8 1.93478 12.8 2.2V11.8C12.8 12.0652 12.6946 12.3196 12.5071 12.5071C12.3196 12.6946 12.0652 12.8 11.8 12.8H7C6.84087 12.8 6.68826 12.8632 6.57574 12.9757C6.46321 13.0883 6.4 13.2409 6.4 13.4C6.4 13.5591 6.46321 13.7117 6.57574 13.8243C6.68826 13.9368 6.84087 14 7 14H11.8C12.3835 14 12.9431 13.7682 13.3556 13.3556C13.7682 12.9431 14 12.3835 14 11.8V2.2C14 1.61652 13.7682 1.05694 13.3556 0.644365C12.9431 0.231785 12.3835 0 11.8 0ZM6.368 7.952C6.44137 7.98326 6.52025 7.99958 6.6 8H9.8C9.95913 8 10.1117 7.93678 10.2243 7.82426C10.3368 7.71174 10.4 7.55913 10.4 7.4C10.4 7.24087 10.3368 7.08826 10.2243 6.97574C10.1117 6.86321 9.95913 6.8 9.8 6.8H8.048L10.624 4.224C10.73 4.11026 10.7877 3.95982 10.7849 3.80438C10.7822 3.64894 10.7192 3.50063 10.6093 3.3907C10.4994 3.28077 10.3511 3.2178 10.1956 3.21506C10.0402 3.21232 9.88974 3.27002 9.776 3.376L7.2 5.952V4.2C7.2 4.04087 7.13679 3.88826 7.02426 3.77574C6.91174 3.66321 6.75913 3.6 6.6 3.6C6.44087 3.6 6.28826 3.66321 6.17574 3.77574C6.06321 3.88826 6 4.04087 6 4.2V7.4C6.00042 7.47975 6.01674 7.55862 6.048 7.632C6.07656 7.70442 6.11971 7.7702 6.17475 7.82524C6.2298 7.88029 6.29558 7.92344 6.368 7.952ZM1.4 8.80005H3.8C4.17066 8.80215 4.52553 8.95032 4.78763 9.21242C5.04973 9.47452 5.1979 9.82939 5.2 10.2V12.6C5.1979 12.9707 5.04973 13.3256 4.78763 13.5877C4.52553 13.8498 4.17066 13.9979 3.8 14H1.4C1.02934 13.9979 0.674468 13.8498 0.412371 13.5877C0.150274 13.3256 0.00210008 12.9707 0 12.6V10.2C0.00210008 9.82939 0.150274 9.47452 0.412371 9.21242C0.674468 8.95032 1.02934 8.80215 1.4 8.80005ZM3.94142 12.7415C3.97893 12.704 4 12.6531 4 12.6V10.2C4 10.147 3.97893 10.0961 3.94142 10.0586C3.90391 10.0211 3.85304 10 3.8 10H1.4C1.34696 10 1.29609 10.0211 1.25858 10.0586C1.22107 10.0961 1.2 10.147 1.2 10.2V12.6C1.2 12.6531 1.22107 12.704 1.25858 12.7415C1.29609 12.779 1.34696 12.8 1.4 12.8H3.8C3.85304 12.8 3.90391 12.779 3.94142 12.7415Z","fill","currentColor"],[3,"id"],["width","14","height","14","fill","white"]],template:function(r,o){1&r&&(wn(),ge(0,"g"),Vn(1,"path",0),me(),ge(2,"defs")(3,"clipPath",1),Vn(4,"rect",2),me()()),2&r&&(nt("clip-path",o.pathId),x(3),Ui("id",o.pathId))},encapsulation:2})}return n})();var MG=Object.defineProperty,vM=Object.getOwnPropertySymbols,RG=Object.prototype.hasOwnProperty,NG=Object.prototype.propertyIsEnumerable,yM=(n,t,e)=>t in n?MG(n,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):n[t]=e,_M=(n,t)=>{for(var e in t||(t={}))RG.call(t,e)&&yM(n,e,t[e]);if(vM)for(var e of vM(t))NG.call(t,e)&&yM(n,e,t[e]);return n},Bp="animation",rd="transition";var UG={name:"p",safe:!0,disabled:!1,enter:!0,leave:!0,autoHeight:!0,autoWidth:!1};function CM(n,t){if(!n)throw new Error("Element is required.");let e={},r=!1,o={},i=null,s={},a=u=>{if(Object.assign(e,function PG(n,t){return n?_M(_M({},n),Object.entries(t).reduce((e,[r,o])=>{var i;return e[r]=null!=(i=n[r])?i:o,e},{})):t}(u,UG)),!e.enter&&!e.leave)throw new Error("Enter or leave must be true.");s=function BG(n){return{enter:{onBefore:n?.onBeforeEnter,onStart:n?.onEnter,onAfter:n?.onAfterEnter,onCancelled:n?.onEnterCancelled},leave:{onBefore:n?.onBeforeLeave,onStart:n?.onLeave,onAfter:n?.onAfterLeave,onCancelled:n?.onLeaveCancelled}}}(e),r=function LG(n){return!!n&&(n.disabled||!(!n.safe||!function tW(){return!(typeof window>"u"||!window.matchMedia)&&window.matchMedia("(prefers-reduced-motion: reduce)").matches}()))}(e),o=function FG(n){let{name:t,enterClass:e,leaveClass:r}=n||{};return{enter:{from:e?.from||`${t}-enter-from`,to:e?.to||`${t}-enter-to`,active:e?.active||`${t}-enter-active`},leave:{from:r?.from||`${t}-leave-from`,to:r?.to||`${t}-leave-to`,active:r?.active||`${t}-leave-active`}}}(e),i=null},l=u=>((n,t,e)=>new Promise((r,o)=>{var i=l=>{try{a(e.next(l))}catch(c){o(c)}},s=l=>{try{a(e.throw(l))}catch(c){o(c)}},a=l=>l.done?r(l.value):Promise.resolve(l.value).then(i,s);a((e=e.apply(null,null)).next())}))(0,0,function*(){i?.();let{onBefore:d,onStart:h,onAfter:f,onCancelled:p}=s[u]||{},g={element:n};if(r)return d?.(g),h?.(g),void f?.(g);let{from:m,active:b,to:v}=o[u]||{};return function $G(n,t=!0,e=!1){if(!t&&!e)return;let r=function r_(n){let t={width:0,height:0};if(n){let[e,r]=[n.style.visibility,n.style.display],o=n.getBoundingClientRect();n.style.visibility="hidden",n.style.display="block",t.width=o.width||n.offsetWidth,t.height=o.height||n.offsetHeight,n.style.display=r,n.style.visibility=e}return t}(n);t&&Tx(n,"--pui-motion-height",r.height+"px"),e&&Tx(n,"--pui-motion-width",r.width+"px")}(n,e.autoHeight,e.autoWidth),d?.(g),tc(n,m),tc(n,b),Di(n,m),tc(n,v),h?.(g),new Promise(y=>{let C=function jG(n,t){return"number"==typeof n?n:"object"==typeof n&&null!=n[t]?n[t]:null}(e.duration,u),_=()=>{Di(n,[v,b]),i=null};i=()=>{_(),p?.(g),y()},function zG(n,t,e,r){let o=n._motionEndId=++VG,i=()=>{o===n._motionEndId&&r()};if(null!=e)return setTimeout(i,e);let{type:s,timeout:a,count:l}=function HG(n,t){let u,e=window.getComputedStyle(n),r=f=>{let g=e[`${f}Duration`];return[e[`${f}Delay`].split(", ").map(Fx),g.split(", ").map(Fx)]},[o,i]=r(rd),[s,a]=r(Bp),l=Math.max(...i.map((f,p)=>f+o[p])),c=Math.max(...a.map((f,p)=>f+s[p])),d=0,h=0;return t===rd?l>0&&(u=rd,d=l,h=i.length):t===Bp?c>0&&(u=Bp,d=c,h=a.length):(d=Math.max(l,c),u=d>0?l>c?rd:Bp:void 0,h=u?u===rd?i.length:a.length:0),{type:u,timeout:d,count:h}}(n,t);if(!s)return void r();let c=s+"end",u=0,d=()=>{n.removeEventListener(c,h,!0),i()},h=f=>{f.target===n&&++u>=l&&d()};n.addEventListener(c,h,{capture:!0,once:!0}),setTimeout(()=>{u<l&&d()},a+1)}(n,e.type,C,()=>{_(),f?.(g),y()})})});a(t);let c={enter:()=>e.enter?l("enter"):Promise.resolve(),leave:()=>e.leave?l("leave"):Promise.resolve(),cancel:()=>{i?.(),i=null},update:(u,d)=>{if(!u)throw new Error("Element is required.");n=u,c.cancel(),a(d)}};return e.appear&&c.enter(),c}var VG=0;const WG=["*"];function GG(n,t){1&n&&Po(0)}const Hp=new WeakMap;function od(n,t){if(n)switch(Hp.has(n)||Hp.set(n,{display:n.style.display,visibility:n.style.visibility,maxHeight:n.style.maxHeight}),t){case"display":n.style.display="none";break;case"visibility":n.style.visibility="hidden",n.style.maxHeight="0"}}function jp(n,t){if(!n)return;const e=Hp.get(n)??n.style;switch(t){case"display":n.style.display=e?.display||"";break;case"visibility":n.style.visibility=e?.visibility||"",n.style.maxHeight=e?.maxHeight||""}Hp.delete(n)}const YG={root:"p-motion"};let w_=(()=>{class n extends yr{name="motion";style="\n    .p-motion {\n        display: block;\n    }\n";classes=YG;static \u0275fac=(()=>{let e;return function(o){return(e||(e=Ze(n)))(o||n)}})();static \u0275prov=Z({token:n,factory:n.\u0275fac})}return n})();const wM=new j("MOTION_INSTANCE");let XG=(()=>{class n extends _r{$pcMotion=D(wM,{optional:!0,skipSelf:!0})??void 0;bindDirectiveInstance=D(sn,{self:!0});onAfterViewChecked(){this.bindDirectiveInstance.setAttrs(this.ptms(["host","root"]))}_componentStyle=D(w_);visible=pe(!1);mountOnEnter=pe(!0);unmountOnLeave=pe(!0);name=pe(void 0);type=pe(void 0);safe=pe(void 0);disabled=pe(!1);appear=pe(!1);enter=pe(!0);leave=pe(!0);duration=pe(void 0);hideStrategy=pe("display");enterFromClass=pe(void 0);enterToClass=pe(void 0);enterActiveClass=pe(void 0);leaveFromClass=pe(void 0);leaveToClass=pe(void 0);leaveActiveClass=pe(void 0);options=pe({});onBeforeEnter=Hn();onEnter=Hn();onAfterEnter=Hn();onEnterCancelled=Hn();onBeforeLeave=Hn();onLeave=Hn();onAfterLeave=Hn();onLeaveCancelled=Hn();motionOptions=Ht(()=>{const e=this.options();return{name:e.name??this.name(),type:e.type??this.type(),safe:e.safe??this.safe(),disabled:e.disabled??this.disabled(),appear:!1,enter:e.enter??this.enter(),leave:e.leave??this.leave(),duration:e.duration??this.duration(),enterClass:{from:e.enterClass?.from??(e.name?void 0:this.enterFromClass()),to:e.enterClass?.to??(e.name?void 0:this.enterToClass()),active:e.enterClass?.active??(e.name?void 0:this.enterActiveClass())},leaveClass:{from:e.leaveClass?.from??(e.name?void 0:this.leaveFromClass()),to:e.leaveClass?.to??(e.name?void 0:this.leaveToClass()),active:e.leaveClass?.active??(e.name?void 0:this.leaveActiveClass())},onBeforeEnter:e.onBeforeEnter??this.handleBeforeEnter,onEnter:e.onEnter??this.handleEnter,onAfterEnter:e.onAfterEnter??this.handleAfterEnter,onEnterCancelled:e.onEnterCancelled??this.handleEnterCancelled,onBeforeLeave:e.onBeforeLeave??this.handleBeforeLeave,onLeave:e.onLeave??this.handleLeave,onAfterLeave:e.onAfterLeave??this.handleAfterLeave,onLeaveCancelled:e.onLeaveCancelled??this.handleLeaveCancelled}});motion;isInitialMount=!0;cancelled=!1;destroyed=!1;rendered=Wt(!1);handleBeforeEnter=e=>!this.destroyed&&this.onBeforeEnter.emit(e);handleEnter=e=>!this.destroyed&&this.onEnter.emit(e);handleAfterEnter=e=>!this.destroyed&&this.onAfterEnter.emit(e);handleEnterCancelled=e=>!this.destroyed&&this.onEnterCancelled.emit(e);handleBeforeLeave=e=>!this.destroyed&&this.onBeforeLeave.emit(e);handleLeave=e=>!this.destroyed&&this.onLeave.emit(e);handleAfterLeave=e=>!this.destroyed&&this.onAfterLeave.emit(e);handleLeaveCancelled=e=>!this.destroyed&&this.onLeaveCancelled.emit(e);constructor(){var e;super(),e=this,Ao(()=>{const r=this.hideStrategy();this.isInitialMount?(od(this.$el,r),this.rendered.set(this.visible()&&this.mountOnEnter()||!this.mountOnEnter())):this.visible()&&!this.rendered()&&(od(this.$el,r),this.rendered.set(!0))}),Ao(()=>{this.motion||(this.motion=CM(this.$el,this.motionOptions()))}),OA(B(function*(){if(!e.$el)return;const r=e.isInitialMount&&e.visible()&&e.appear(),o=e.hideStrategy();e.visible()?(yield h_(),jp(e.$el,o),(r||!e.isInitialMount)&&e.motion?.enter()):e.isInitialMount||(yield h_(),e.motion?.leave()?.then(B(function*(){e.$el&&!e.cancelled&&!e.visible()&&(od(e.$el,o),e.unmountOnLeave()&&(yield h_(),e.cancelled||e.rendered.set(!1)))}))),e.isInitialMount=!1}))}onDestroy(){this.destroyed=!0,this.cancelled=!0,this.motion?.cancel(),this.motion=void 0,jp(this.$el,this.hideStrategy()),this.isInitialMount=!0}static \u0275fac=function(r){return new(r||n)};static \u0275cmp=Mt({type:n,selectors:[["p-motion"]],hostVars:2,hostBindings:function(r,o){2&r&&Be(o.cx("root"))},inputs:{visible:[1,"visible"],mountOnEnter:[1,"mountOnEnter"],unmountOnLeave:[1,"unmountOnLeave"],name:[1,"name"],type:[1,"type"],safe:[1,"safe"],disabled:[1,"disabled"],appear:[1,"appear"],enter:[1,"enter"],leave:[1,"leave"],duration:[1,"duration"],hideStrategy:[1,"hideStrategy"],enterFromClass:[1,"enterFromClass"],enterToClass:[1,"enterToClass"],enterActiveClass:[1,"enterActiveClass"],leaveFromClass:[1,"leaveFromClass"],leaveToClass:[1,"leaveToClass"],leaveActiveClass:[1,"leaveActiveClass"],options:[1,"options"]},outputs:{onBeforeEnter:"onBeforeEnter",onEnter:"onEnter",onAfterEnter:"onAfterEnter",onEnterCancelled:"onEnterCancelled",onBeforeLeave:"onBeforeLeave",onLeave:"onLeave",onAfterLeave:"onAfterLeave",onLeaveCancelled:"onLeaveCancelled"},features:[or([w_,{provide:wM,useExisting:n},{provide:vo,useExisting:n}]),No([sn]),Ut],ngContentSelectors:WG,decls:1,vars:1,template:function(r,o){1&r&&(Qo(),kr(0,GG,1,0)),2&r&&Tr(o.rendered()?0:-1)},dependencies:[Vr,Zi],encapsulation:2})}return n})();const EM=new j("MOTION_DIRECTIVE_INSTANCE");let DM=(()=>{class n extends _r{$pcMotionDirective=D(EM,{optional:!0,skipSelf:!0})??void 0;visible=pe(!1,{alias:"pMotion"});name=pe(void 0,{alias:"pMotionName"});type=pe(void 0,{alias:"pMotionType"});safe=pe(void 0,{alias:"pMotionSafe"});disabled=pe(!1,{alias:"pMotionDisabled"});appear=pe(!1,{alias:"pMotionAppear"});enter=pe(!0,{alias:"pMotionEnter"});leave=pe(!0,{alias:"pMotionLeave"});duration=pe(void 0,{alias:"pMotionDuration"});hideStrategy=pe("display",{alias:"pMotionHideStrategy"});enterFromClass=pe(void 0,{alias:"pMotionEnterFromClass"});enterToClass=pe(void 0,{alias:"pMotionEnterToClass"});enterActiveClass=pe(void 0,{alias:"pMotionEnterActiveClass"});leaveFromClass=pe(void 0,{alias:"pMotionLeaveFromClass"});leaveToClass=pe(void 0,{alias:"pMotionLeaveToClass"});leaveActiveClass=pe(void 0,{alias:"pMotionLeaveActiveClass"});options=pe({},{alias:"pMotionOptions"});onBeforeEnter=Hn();onEnter=Hn();onAfterEnter=Hn();onEnterCancelled=Hn();onBeforeLeave=Hn();onLeave=Hn();onAfterLeave=Hn();onLeaveCancelled=Hn();motionOptions=Ht(()=>{const e=this.options()??{};return{name:e.name??this.name(),type:e.type??this.type(),safe:e.safe??this.safe(),disabled:e.disabled??this.disabled(),appear:!1,enter:e.enter??this.enter(),leave:e.leave??this.leave(),duration:e.duration??this.duration(),enterClass:{from:e.enterClass?.from??(e.name?void 0:this.enterFromClass()),to:e.enterClass?.to??(e.name?void 0:this.enterToClass()),active:e.enterClass?.active??(e.name?void 0:this.enterActiveClass())},leaveClass:{from:e.leaveClass?.from??(e.name?void 0:this.leaveFromClass()),to:e.leaveClass?.to??(e.name?void 0:this.leaveToClass()),active:e.leaveClass?.active??(e.name?void 0:this.leaveActiveClass())},onBeforeEnter:e.onBeforeEnter??this.handleBeforeEnter,onEnter:e.onEnter??this.handleEnter,onAfterEnter:e.onAfterEnter??this.handleAfterEnter,onEnterCancelled:e.onEnterCancelled??this.handleEnterCancelled,onBeforeLeave:e.onBeforeLeave??this.handleBeforeLeave,onLeave:e.onLeave??this.handleLeave,onAfterLeave:e.onAfterLeave??this.handleAfterLeave,onLeaveCancelled:e.onLeaveCancelled??this.handleLeaveCancelled}});motion;isInitialMount=!0;cancelled=!1;destroyed=!1;handleBeforeEnter=e=>!this.destroyed&&this.onBeforeEnter.emit(e);handleEnter=e=>!this.destroyed&&this.onEnter.emit(e);handleAfterEnter=e=>!this.destroyed&&this.onAfterEnter.emit(e);handleEnterCancelled=e=>!this.destroyed&&this.onEnterCancelled.emit(e);handleBeforeLeave=e=>!this.destroyed&&this.onBeforeLeave.emit(e);handleLeave=e=>!this.destroyed&&this.onLeave.emit(e);handleAfterLeave=e=>!this.destroyed&&this.onAfterLeave.emit(e);handleLeaveCancelled=e=>!this.destroyed&&this.onLeaveCancelled.emit(e);constructor(){super(),Ao(()=>{this.motion||(this.motion=CM(this.$el,this.motionOptions()))}),OA(()=>{if(!this.$el)return;const e=this.isInitialMount&&this.visible()&&this.appear(),r=this.hideStrategy();this.visible()?(jp(this.$el,r),(e||!this.isInitialMount)&&this.motion?.enter()):this.isInitialMount?od(this.$el,r):this.motion?.leave()?.then(()=>{this.$el&&!this.cancelled&&!this.visible()&&od(this.$el,r)}),this.isInitialMount=!1})}onDestroy(){this.destroyed=!0,this.cancelled=!0,this.motion?.cancel(),this.motion=void 0,jp(this.$el,this.hideStrategy()),this.isInitialMount=!0}static \u0275fac=function(r){return new(r||n)};static \u0275dir=xn({type:n,selectors:[["","pMotion",""]],inputs:{visible:[1,"pMotion","visible"],name:[1,"pMotionName","name"],type:[1,"pMotionType","type"],safe:[1,"pMotionSafe","safe"],disabled:[1,"pMotionDisabled","disabled"],appear:[1,"pMotionAppear","appear"],enter:[1,"pMotionEnter","enter"],leave:[1,"pMotionLeave","leave"],duration:[1,"pMotionDuration","duration"],hideStrategy:[1,"pMotionHideStrategy","hideStrategy"],enterFromClass:[1,"pMotionEnterFromClass","enterFromClass"],enterToClass:[1,"pMotionEnterToClass","enterToClass"],enterActiveClass:[1,"pMotionEnterActiveClass","enterActiveClass"],leaveFromClass:[1,"pMotionLeaveFromClass","leaveFromClass"],leaveToClass:[1,"pMotionLeaveToClass","leaveToClass"],leaveActiveClass:[1,"pMotionLeaveActiveClass","leaveActiveClass"],options:[1,"pMotionOptions","options"]},outputs:{onBeforeEnter:"pMotionOnBeforeEnter",onEnter:"pMotionOnEnter",onAfterEnter:"pMotionOnAfterEnter",onEnterCancelled:"pMotionOnEnterCancelled",onBeforeLeave:"pMotionOnBeforeLeave",onLeave:"pMotionOnLeave",onAfterLeave:"pMotionOnAfterLeave",onLeaveCancelled:"pMotionOnLeaveCancelled"},features:[or([w_,{provide:EM,useExisting:n},{provide:vo,useExisting:n}]),Ut]})}return n})(),SM=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=yi({type:n});static \u0275inj=Go({imports:[XG]})}return n})();var Ds=function ZG(){let n=[];const t=(i,s)=>{let a=n.length>0?n[n.length-1]:{key:i,value:s},l=a.value+(a.key===i?0:s)+2;return n.push({key:i,value:l}),l},e=i=>{n=n.filter(s=>s.value!==i)},o=i=>i&&parseInt(i.style.zIndex,10)||0;return{get:o,set:(i,s,a)=>{s&&(s.style.zIndex=String(t(i,a)))},clear:i=>{i&&(e(o(i)),i.style.zIndex="")},getCurrent:()=>n.length>0?n[n.length-1].value:0,generateZIndex:t,revertZIndex:e}}();const JG=["header"],TM=["content"],AM=["footer"],eq=["closeicon"],tq=["maximizeicon"],nq=["minimizeicon"],rq=["headless"],oq=["titlebar"],iq=["*",[["p-footer"]]],sq=["*","p-footer"];function aq(n,t){1&n&&Lo(0)}function lq(n,t){if(1&n&&(Oo(0),qe(1,aq,1,0,"ng-container",11),ho()),2&n){const e=Q(3);x(),H("ngTemplateOutlet",e._headlessTemplate||e.headlessTemplate||e.headlessT)}}function cq(n,t){if(1&n){const e=fo();V(0,"div",16),bn("mousedown",function(o){return gn(e),mn(Q(4).initResize(o))}),G()}if(2&n){const e=Q(4);Be(e.cx("resizeHandle")),If("z-index",90),H("pBind",e.ptm("resizeHandle"))}}function uq(n,t){if(1&n&&(V(0,"span",20),q(1),G()),2&n){const e=Q(5);Be(e.cx("title")),H("id",e.ariaLabelledBy)("pBind",e.ptm("title")),x(),ha(e.header)}}function dq(n,t){1&n&&Lo(0)}function hq(n,t){if(1&n&&gt(0,"span",24),2&n){const e=Q(7);H("ngClass",e.maximized?e.minimizeIcon:e.maximizeIcon)}}function fq(n,t){1&n&&(wn(),gt(0,"svg",27))}function pq(n,t){1&n&&(wn(),gt(0,"svg",28))}function gq(n,t){if(1&n&&(Oo(0),qe(1,fq,1,0,"svg",25)(2,pq,1,0,"svg",26),ho()),2&n){const e=Q(7);x(),H("ngIf",!(e.maximized||e._maximizeiconTemplate||e.maximizeIconTemplate||e.maximizeIconT)),x(),H("ngIf",e.maximized&&!e._minimizeiconTemplate&&!e.minimizeIconTemplate&&!e.minimizeIconT)}}function mq(n,t){}function bq(n,t){1&n&&qe(0,mq,0,0,"ng-template")}function vq(n,t){if(1&n&&(Oo(0),qe(1,bq,1,0,null,11),ho()),2&n){const e=Q(7);x(),H("ngTemplateOutlet",e._maximizeiconTemplate||e.maximizeIconTemplate||e.maximizeIconT)}}function yq(n,t){}function _q(n,t){1&n&&qe(0,yq,0,0,"ng-template")}function Cq(n,t){if(1&n&&(Oo(0),qe(1,_q,1,0,null,11),ho()),2&n){const e=Q(7);x(),H("ngTemplateOutlet",e._minimizeiconTemplate||e.minimizeIconTemplate||e.minimizeIconT)}}function wq(n,t){if(1&n&&qe(0,hq,1,1,"span",22)(1,gq,3,2,"ng-container",23)(2,vq,2,1,"ng-container",23)(3,Cq,2,1,"ng-container",23),2&n){const e=Q(6);H("ngIf",e.maximizeIcon&&!e._maximizeiconTemplate&&!e._minimizeiconTemplate),x(),H("ngIf",!(e.maximizeIcon||null!=e.maximizeButtonProps&&e.maximizeButtonProps.icon)),x(),H("ngIf",!e.maximized),x(),H("ngIf",e.maximized)}}function Eq(n,t){if(1&n){const e=fo();V(0,"p-button",21),bn("onClick",function(){return gn(e),mn(Q(5).maximize())})("keydown.enter",function(){return gn(e),mn(Q(5).maximize())}),qe(1,wq,4,4,"ng-template",null,4,Du),G()}if(2&n){const e=Q(5);H("pt",e.ptm("pcMaximizeButton"))("styleClass",e.cx("pcMaximizeButton"))("ariaLabel",e.maximized?e.minimizeLabel:e.maximizeLabel)("tabindex",e.maximizable?"0":"-1")("buttonProps",e.maximizeButtonProps)("unstyled",e.unstyled()),nt("data-pc-group-section","headericon")}}function Dq(n,t){1&n&&gt(0,"span"),2&n&&Be(Q(8).closeIcon)}function Sq(n,t){1&n&&(wn(),gt(0,"svg",31))}function kq(n,t){if(1&n&&(Oo(0),qe(1,Dq,1,2,"span",29)(2,Sq,1,0,"svg",30),ho()),2&n){const e=Q(7);x(),H("ngIf",e.closeIcon),x(),H("ngIf",!e.closeIcon)}}function Tq(n,t){}function Aq(n,t){1&n&&qe(0,Tq,0,0,"ng-template")}function Iq(n,t){if(1&n&&(V(0,"span"),qe(1,Aq,1,0,null,11),G()),2&n){const e=Q(7);x(),H("ngTemplateOutlet",e._closeiconTemplate||e.closeIconTemplate||e.closeIconT)}}function xq(n,t){if(1&n&&qe(0,kq,3,2,"ng-container",23)(1,Iq,2,1,"span",23),2&n){const e=Q(6);H("ngIf",!(e._closeiconTemplate||e.closeIconTemplate||e.closeIconT||null!=e.closeButtonProps&&e.closeButtonProps.icon)),x(),H("ngIf",e._closeiconTemplate||e.closeIconTemplate||e.closeIconT)}}function Mq(n,t){if(1&n){const e=fo();V(0,"p-button",21),bn("onClick",function(o){return gn(e),mn(Q(5).close(o))})("keydown.enter",function(o){return gn(e),mn(Q(5).close(o))}),qe(1,xq,2,2,"ng-template",null,4,Du),G()}if(2&n){const e=Q(5);H("pt",e.ptm("pcCloseButton"))("styleClass",e.cx("pcCloseButton"))("ariaLabel",e.closeAriaLabel)("tabindex",e.closeTabindex)("buttonProps",e.closeButtonProps)("unstyled",e.unstyled()),nt("data-pc-group-section","headericon")}}function Rq(n,t){if(1&n){const e=fo();V(0,"div",16,3),bn("mousedown",function(o){return gn(e),mn(Q(4).initDrag(o))}),qe(2,uq,2,5,"span",17)(3,dq,1,0,"ng-container",11),V(4,"div",18),qe(5,Eq,3,7,"p-button",19)(6,Mq,3,7,"p-button",19),G()()}if(2&n){const e=Q(4);Be(e.cx("header")),H("pBind",e.ptm("header")),x(2),H("ngIf",!e._headerTemplate&&!e.headerTemplate&&!e.headerT),x(),H("ngTemplateOutlet",e._headerTemplate||e.headerTemplate||e.headerT),x(),Be(e.cx("headerActions")),H("pBind",e.ptm("headerActions")),x(),H("ngIf",e.maximizable),x(),H("ngIf",e.closable)}}function Nq(n,t){1&n&&Lo(0)}function Oq(n,t){1&n&&Lo(0)}function Lq(n,t){if(1&n&&(V(0,"div",18,5),Po(2,1),qe(3,Oq,1,0,"ng-container",11),G()),2&n){const e=Q(4);Be(e.cx("footer")),H("pBind",e.ptm("footer")),x(3),H("ngTemplateOutlet",e._footerTemplate||e.footerTemplate||e.footerT)}}function Pq(n,t){if(1&n&&(qe(0,cq,1,5,"div",12)(1,Rq,7,10,"div",13),V(2,"div",14,2),Po(4),qe(5,Nq,1,0,"ng-container",11),G(),qe(6,Lq,4,4,"div",15)),2&n){const e=Q(3);H("ngIf",e.resizable),x(),H("ngIf",e.showHeader),x(),Be(e.cn(e.cx("content"),e.contentStyleClass)),H("ngStyle",e.contentStyle)("pBind",e.ptm("content")),x(3),H("ngTemplateOutlet",e._contentTemplate||e.contentTemplate||e.contentT),x(),H("ngIf",e._footerTemplate||e.footerTemplate||e.footerT)}}function Fq(n,t){if(1&n){const e=fo();V(0,"div",9,0),bn("pMotionOnBeforeEnter",function(o){return gn(e),mn(Q(2).onBeforeEnter(o))})("pMotionOnAfterEnter",function(o){return gn(e),mn(Q(2).onAfterEnter(o))})("pMotionOnBeforeLeave",function(o){return gn(e),mn(Q(2).onBeforeLeave(o))})("pMotionOnAfterLeave",function(o){return gn(e),mn(Q(2).onAfterLeave(o))}),qe(2,lq,2,1,"ng-container",10)(3,Pq,7,8,"ng-template",null,1,Du),G()}if(2&n){const e=Ev(4),r=Q(2);Hl(r.sx("root")),Be(r.cn(r.cx("root"),r.styleClass)),H("ngStyle",r.style)("pBind",r.ptm("root"))("pFocusTrapDisabled",!1===r.focusTrap)("pMotion",r.visible)("pMotionAppear",!0)("pMotionName","p-dialog")("pMotionOptions",r.computedMotionOptions()),nt("role",r.role)("aria-labelledby",r.ariaLabelledBy)("aria-modal",!0)("data-p",r.dataP),x(2),H("ngIf",r._headlessTemplate||r.headlessTemplate||r.headlessT)("ngIfElse",e)}}function Bq(n,t){if(1&n){const e=fo();V(0,"div",7),bn("pMotionOnAfterLeave",function(){return gn(e),mn(Q().onMaskAfterLeave())}),kr(1,Fq,5,17,"div",8),G()}if(2&n){const e=Q();Hl(e.sx("mask")),Be(e.cn(e.cx("mask"),e.maskStyleClass)),H("ngStyle",e.maskStyle)("pBind",e.ptm("mask"))("pMotion",e.maskVisible)("pMotionAppear",!0)("pMotionEnterActiveClass",e.modal?"p-overlay-mask-enter-active":"")("pMotionLeaveActiveClass",e.modal?"p-overlay-mask-leave-active":"")("pMotionOptions",e.computedMaskMotionOptions()),nt("data-p-scrollblocker-active",e.modal||e.blockScroll)("data-p",e.dataP),x(),Tr(e.renderDialog()?1:-1)}}const Hq={mask:({instance:n})=>({position:"fixed",height:"100%",width:"100%",left:0,top:0,display:"flex",justifyContent:"left"===n.position||"topleft"===n.position||"bottomleft"===n.position?"flex-start":"right"===n.position||"topright"===n.position||"bottomright"===n.position?"flex-end":"center",alignItems:"top"===n.position||"topleft"===n.position||"topright"===n.position?"flex-start":"bottom"===n.position||"bottomleft"===n.position||"bottomright"===n.position?"flex-end":"center",pointerEvents:n.modal?"auto":"none"}),root:{display:"flex",flexDirection:"column",pointerEvents:"auto"}},jq={mask:({instance:n})=>{const e=["left","right","top","topleft","topright","bottom","bottomleft","bottomright"].find(r=>r===n.position);return["p-dialog-mask",{"p-overlay-mask":n.modal},e?`p-dialog-${e}`:""]},root:({instance:n})=>["p-dialog p-component",{"p-dialog-maximized":n.maximizable&&n.maximized}],header:"p-dialog-header",title:"p-dialog-title",resizeHandle:"p-resizable-handle",headerActions:"p-dialog-header-actions",pcMaximizeButton:"p-dialog-maximize-button",pcCloseButton:"p-dialog-close-button",content:()=>["p-dialog-content"],footer:"p-dialog-footer"};let IM=(()=>{class n extends yr{name="dialog";style="\n    .p-dialog {\n        max-height: 90%;\n        transform: scale(1);\n        border-radius: dt('dialog.border.radius');\n        box-shadow: dt('dialog.shadow');\n        background: dt('dialog.background');\n        border: 1px solid dt('dialog.border.color');\n        color: dt('dialog.color');\n        will-change: transform;\n    }\n\n    .p-dialog-content {\n        overflow-y: auto;\n        padding: dt('dialog.content.padding');\n    }\n\n    .p-dialog-header {\n        display: flex;\n        align-items: center;\n        justify-content: space-between;\n        flex-shrink: 0;\n        padding: dt('dialog.header.padding');\n    }\n\n    .p-dialog-title {\n        font-weight: dt('dialog.title.font.weight');\n        font-size: dt('dialog.title.font.size');\n    }\n\n    .p-dialog-footer {\n        flex-shrink: 0;\n        padding: dt('dialog.footer.padding');\n        display: flex;\n        justify-content: flex-end;\n        gap: dt('dialog.footer.gap');\n    }\n\n    .p-dialog-header-actions {\n        display: flex;\n        align-items: center;\n        gap: dt('dialog.header.gap');\n    }\n\n    .p-dialog-top .p-dialog,\n    .p-dialog-bottom .p-dialog,\n    .p-dialog-left .p-dialog,\n    .p-dialog-right .p-dialog,\n    .p-dialog-topleft .p-dialog,\n    .p-dialog-topright .p-dialog,\n    .p-dialog-bottomleft .p-dialog,\n    .p-dialog-bottomright .p-dialog {\n        margin: 1rem;\n    }\n\n    .p-dialog-maximized {\n        width: 100vw !important;\n        height: 100vh !important;\n        top: 0px !important;\n        left: 0px !important;\n        max-height: 100%;\n        height: 100%;\n        border-radius: 0;\n    }\n\n    .p-dialog-maximized .p-dialog-content {\n        flex-grow: 1;\n    }\n\n    .p-dialog .p-resizable-handle {\n        position: absolute;\n        font-size: 0.1px;\n        display: block;\n        cursor: se-resize;\n        width: 12px;\n        height: 12px;\n        right: 1px;\n        bottom: 1px;\n    }\n\n    .p-dialog-enter-active {\n        animation: p-animate-dialog-enter 300ms cubic-bezier(.19,1,.22,1);\n    }\n\n    .p-dialog-leave-active {\n        animation: p-animate-dialog-leave 300ms cubic-bezier(.19,1,.22,1);\n    }\n\n    @keyframes p-animate-dialog-enter {\n        from {\n            opacity: 0;\n            transform: scale(0.93);\n        }\n    }\n\n    @keyframes p-animate-dialog-leave {\n        to {\n            opacity: 0;\n            transform: scale(0.93);\n        }\n    }\n";classes=jq;inlineStyles=Hq;static \u0275fac=(()=>{let e;return function(o){return(e||(e=Ze(n)))(o||n)}})();static \u0275prov=Z({token:n,factory:n.\u0275fac})}return n})();const xM=new j("DIALOG_INSTANCE");let Uq=(()=>{class n extends _r{hostName="";$pcDialog=D(xM,{optional:!0,skipSelf:!0})??void 0;bindDirectiveInstance=D(sn,{self:!0});onAfterViewChecked(){this.bindDirectiveInstance.setAttrs(this.ptm("host"))}header;draggable=!0;resizable=!0;contentStyle;contentStyleClass;modal=!1;closeOnEscape=!0;dismissableMask=!1;rtl=!1;closable=!0;breakpoints;styleClass;maskStyleClass;maskStyle;showHeader=!0;blockScroll=!1;autoZIndex=!0;baseZIndex=0;minX=0;minY=0;focusOnShow=!0;maximizable=!1;keepInViewport=!0;focusTrap=!0;transitionOptions="150ms cubic-bezier(0, 0, 0.2, 1)";maskMotionOptions=pe(void 0);computedMaskMotionOptions=Ht(()=>({...this.ptm("maskMotion"),...this.maskMotionOptions()}));motionOptions=pe(void 0);computedMotionOptions=Ht(()=>({...this.ptm("motion"),...this.motionOptions()}));closeIcon;closeAriaLabel;closeTabindex="0";minimizeIcon;maximizeIcon;closeButtonProps={severity:"secondary",variant:"text",rounded:!0};maximizeButtonProps={severity:"secondary",variant:"text",rounded:!0};get visible(){return this._visible}set visible(e){this._visible=e,this._visible&&!this.maskVisible&&(this.maskVisible=!0,this.renderMask.set(!0),this.renderDialog.set(!0))}get style(){return this._style}set style(e){e&&(this._style={...e},this.originalStyle=e)}position;role="dialog";appendTo=pe(void 0);onShow=new un;onHide=new un;visibleChange=new un;onResizeInit=new un;onResizeEnd=new un;onDragEnd=new un;onMaximize=new un;headerViewChild;contentViewChild;footerViewChild;headerTemplate;contentTemplate;footerTemplate;closeIconTemplate;maximizeIconTemplate;minimizeIconTemplate;headlessTemplate;_headerTemplate;_contentTemplate;_footerTemplate;_closeiconTemplate;_maximizeiconTemplate;_minimizeiconTemplate;_headlessTemplate;$appendTo=Ht(()=>this.appendTo()||this.config.overlayAppendTo());renderMask=Wt(!1);renderDialog=Wt(!1);_visible=!1;maskVisible;container=Wt(null);wrapper;dragging;ariaLabelledBy=this.getAriaLabelledBy();documentDragListener;documentDragEndListener;resizing;documentResizeListener;documentResizeEndListener;documentEscapeListener;maskClickListener;lastPageX;lastPageY;preventVisibleChangePropagation;maximized;preMaximizeContentHeight;preMaximizeContainerWidth;preMaximizeContainerHeight;preMaximizePageX;preMaximizePageY;id=ti("pn_id_");_style={};originalStyle;transformOptions="scale(0.7)";styleElement;window;_componentStyle=D(IM);headerT;contentT;footerT;closeIconT;maximizeIconT;minimizeIconT;headlessT;zIndexForLayering;get maximizeLabel(){return this.config.getTranslation(Ax.ARIA).maximizeLabel}get minimizeLabel(){return this.config.getTranslation(Ax.ARIA).minimizeLabel}zone=D(Ot);get maskClass(){const r=["left","right","top","topleft","topright","bottom","bottomleft","bottomright"].find(o=>o===this.position);return{"p-dialog-mask":!0,"p-overlay-mask":this.modal||this.dismissableMask,[`p-dialog-${r}`]:r}}onInit(){this.breakpoints&&this.createStyle()}templates;onAfterContentInit(){this.templates?.forEach(e=>{switch(e.getType()){case"header":this.headerT=e.template;break;case"content":default:this.contentT=e.template;break;case"footer":this.footerT=e.template;break;case"closeicon":this.closeIconT=e.template;break;case"maximizeicon":this.maximizeIconT=e.template;break;case"minimizeicon":this.minimizeIconT=e.template;break;case"headless":this.headlessT=e.template}})}getAriaLabelledBy(){return null!==this.header?ti("pn_id_")+"_header":null}parseDurationToMilliseconds(e){const r=/([\d\.]+)(ms|s)\b/g;let i,o=0;for(;null!==(i=r.exec(e));){const s=parseFloat(i[1]),a=i[2];"ms"===a?o+=s:"s"===a&&(o+=1e3*s)}if(0!==o)return o}_focus(e){if(e){const r=this.parseDurationToMilliseconds(this.transitionOptions);let o=y_.getFocusableElements(e);if(o&&o.length>0)return this.zone.runOutsideAngular(()=>{setTimeout(()=>o[0].focus(),r||5)}),!0}return!1}focus(e=this.contentViewChild?.nativeElement){let r=this._focus(e);r||(r=this._focus(this.footerViewChild?.nativeElement),r||(r=this._focus(this.headerViewChild?.nativeElement),r||this._focus(this.contentViewChild?.nativeElement)))}close(e){this.visible=!1,this.visibleChange.emit(this.visible),e.preventDefault()}enableModality(){this.closable&&this.dismissableMask&&(this.maskClickListener=this.renderer.listen(this.wrapper,"mousedown",e=>{this.wrapper&&this.wrapper.isSameNode(e.target)&&this.close(e)})),this.modal&&iM()}disableModality(){if(this.wrapper){this.dismissableMask&&this.unbindMaskClickListener();const e=document.querySelectorAll('[data-p-scrollblocker-active="true"]');this.modal&&e&&1==e.length&&sM(),this.cd.destroyed||this.cd.detectChanges()}}maximize(){this.maximized=!this.maximized,!this.modal&&!this.blockScroll&&(this.maximized?iM():sM()),this.onMaximize.emit({maximized:this.maximized})}unbindMaskClickListener(){this.maskClickListener&&(this.maskClickListener(),this.maskClickListener=null)}moveOnTop(){this.autoZIndex?(Ds.set("modal",this.container(),this.baseZIndex+this.config.zIndex.modal),this.wrapper.style.zIndex=String(parseInt(this.container().style.zIndex,10)-1)):this.zIndexForLayering=Ds.generateZIndex("modal",(this.baseZIndex??0)+this.config.zIndex.modal)}createStyle(){if(as(this.platformId)&&!this.styleElement&&!this.$unstyled()){this.styleElement=this.renderer.createElement("style"),this.styleElement.type="text/css",Ju(this.styleElement,"nonce",this.config?.csp()?.nonce),this.renderer.appendChild(this.document.head,this.styleElement);let e="";for(let r in this.breakpoints)e+=`\n                        @media screen and (max-width: ${r}) {\n                            .p-dialog[${this.id}]:not(.p-dialog-maximized) {\n                                width: ${this.breakpoints[r]} !important;\n                            }\n                        }\n                    `;this.renderer.setProperty(this.styleElement,"innerHTML",e),Ju(this.styleElement,"nonce",this.config?.csp()?.nonce)}}initDrag(e){"headeractions"!==e.target.closest("div")?.getAttribute("data-pc-section")&&this.draggable&&(this.dragging=!0,this.lastPageX=e.pageX,this.lastPageY=e.pageY,this.container().style.margin="0",this.document.body.setAttribute("data-p-unselectable-text","true"),!this.$unstyled()&&Rp(this.document.body,{"user-select":"none"}))}onDrag(e){if(this.dragging&&this.container()){const r=nc(this.container()),o=rc(this.container()),i=e.pageX-this.lastPageX,s=e.pageY-this.lastPageY,a=this.container().getBoundingClientRect(),l=getComputedStyle(this.container()),c=parseFloat(l.marginLeft),u=parseFloat(l.marginTop),d=a.left+i-c,h=a.top+s-u,f=Zu();this.container().style.position="fixed",this.keepInViewport?(d>=this.minX&&d+r<f.width&&(this._style.left=`${d}px`,this.lastPageX=e.pageX,this.container().style.left=`${d}px`),h>=this.minY&&h+o<f.height&&(this._style.top=`${h}px`,this.lastPageY=e.pageY,this.container().style.top=`${h}px`)):(this.lastPageX=e.pageX,this.container().style.left=`${d}px`,this.lastPageY=e.pageY,this.container().style.top=`${h}px`)}}endDrag(e){this.dragging&&(this.dragging=!1,this.document.body.removeAttribute("data-p-unselectable-text"),!this.$unstyled()&&(this.document.body.style["user-select"]=""),this.cd.detectChanges(),this.onDragEnd.emit(e))}resetPosition(){this.container().style.position="",this.container().style.left="",this.container().style.top="",this.container().style.margin=""}center(){this.resetPosition()}initResize(e){this.resizable&&(this.resizing=!0,this.lastPageX=e.pageX,this.lastPageY=e.pageY,this.document.body.setAttribute("data-p-unselectable-text","true"),!this.$unstyled()&&Rp(this.document.body,{"user-select":"none"}),this.onResizeInit.emit(e))}onResize(e){if(this.resizing){let r=e.pageX-this.lastPageX,o=e.pageY-this.lastPageY,i=nc(this.container()),s=rc(this.container()),a=rc(this.contentViewChild?.nativeElement),l=i+r,c=s+o,u=this.container().style.minWidth,d=this.container().style.minHeight,h=this.container().getBoundingClientRect(),f=Zu();(!parseInt(this.container().style.top)||!parseInt(this.container().style.left))&&(l+=r,c+=o),(!u||l>parseInt(u))&&h.left+l<f.width&&(this._style.width=l+"px",this.container().style.width=this._style.width),(!d||c>parseInt(d))&&h.top+c<f.height&&(this.contentViewChild.nativeElement.style.height=a+c-s+"px",this._style.height&&(this._style.height=c+"px",this.container().style.height=this._style.height)),this.lastPageX=e.pageX,this.lastPageY=e.pageY}}resizeEnd(e){this.resizing&&(this.resizing=!1,this.document.body.removeAttribute("data-p-unselectable-text"),!this.$unstyled()&&(this.document.body.style["user-select"]=""),this.onResizeEnd.emit(e))}bindGlobalListeners(){this.draggable&&(this.bindDocumentDragListener(),this.bindDocumentDragEndListener()),this.resizable&&this.bindDocumentResizeListeners(),this.closeOnEscape&&this.closable&&this.bindDocumentEscapeListener()}unbindGlobalListeners(){this.unbindDocumentDragListener(),this.unbindDocumentDragEndListener(),this.unbindDocumentResizeListeners(),this.unbindDocumentEscapeListener()}bindDocumentDragListener(){this.documentDragListener||this.zone.runOutsideAngular(()=>{this.documentDragListener=this.renderer.listen(this.document.defaultView,"mousemove",this.onDrag.bind(this))})}unbindDocumentDragListener(){this.documentDragListener&&(this.documentDragListener(),this.documentDragListener=null)}bindDocumentDragEndListener(){this.documentDragEndListener||this.zone.runOutsideAngular(()=>{this.documentDragEndListener=this.renderer.listen(this.document.defaultView,"mouseup",this.endDrag.bind(this))})}unbindDocumentDragEndListener(){this.documentDragEndListener&&(this.documentDragEndListener(),this.documentDragEndListener=null)}bindDocumentResizeListeners(){!this.documentResizeListener&&!this.documentResizeEndListener&&this.zone.runOutsideAngular(()=>{this.documentResizeListener=this.renderer.listen(this.document.defaultView,"mousemove",this.onResize.bind(this)),this.documentResizeEndListener=this.renderer.listen(this.document.defaultView,"mouseup",this.resizeEnd.bind(this))})}unbindDocumentResizeListeners(){this.documentResizeListener&&this.documentResizeEndListener&&(this.documentResizeListener(),this.documentResizeEndListener(),this.documentResizeListener=null,this.documentResizeEndListener=null)}bindDocumentEscapeListener(){this.documentEscapeListener=this.renderer.listen(this.el?this.el.nativeElement.ownerDocument:"document","keydown",r=>{if("Escape"==r.key){const o=this.container();if(!o)return;const i=Ds.getCurrent();(parseInt(o.style.zIndex)==i||this.zIndexForLayering==i)&&this.close(r)}})}unbindDocumentEscapeListener(){this.documentEscapeListener&&(this.documentEscapeListener(),this.documentEscapeListener=null)}appendContainer(){"self"!==this.$appendTo()&&Vz(this.document.body,this.wrapper)}restoreAppend(){this.container()&&"self"!==this.$appendTo()&&this.renderer.appendChild(this.el.nativeElement,this.wrapper)}onBeforeEnter(e){this.container.set(e.element),this.wrapper=this.container()?.parentElement,this.$attrSelector&&this.container()?.setAttribute(this.$attrSelector,""),this.appendContainer(),this.moveOnTop(),this.bindGlobalListeners(),this.container()?.setAttribute(this.id,""),this.modal&&this.enableModality()}onAfterEnter(){this.focusOnShow&&this.focus(),this.onShow.emit({})}onBeforeLeave(){this.modal&&(this.maskVisible=!1)}onAfterLeave(){this.onContainerDestroy(),this.renderDialog.set(!1),this.modal?this.renderMask.set(!1):this.maskVisible=!1,this.onHide.emit({}),this.cd.markForCheck()}onMaskAfterLeave(){this.renderDialog()||this.renderMask.set(!1)}onContainerDestroy(){this.unbindGlobalListeners(),this.dragging=!1,this.maximized&&(Di(this.document.body,"p-overflow-hidden"),this.document.body.style.removeProperty("--scrollbar-width"),this.maximized=!1),this.modal&&this.disableModality(),this.blockScroll&&yx(this.document.body,"p-overflow-hidden")&&Di(this.document.body,"p-overflow-hidden"),this.container()&&this.autoZIndex&&Ds.clear(this.container()),this.zIndexForLayering&&Ds.revertZIndex(this.zIndexForLayering),this.container.set(null),this.wrapper=null,this._style=this.originalStyle?{...this.originalStyle}:{}}destroyStyle(){this.styleElement&&(this.renderer.removeChild(this.document.head,this.styleElement),this.styleElement=null)}onDestroy(){this.container()&&(this.restoreAppend(),this.onContainerDestroy()),this.destroyStyle()}get dataP(){return this.cn({maximized:this.maximized,modal:this.modal})}static \u0275fac=(()=>{let e;return function(o){return(e||(e=Ze(n)))(o||n)}})();static \u0275cmp=Mt({type:n,selectors:[["p-dialog"]],contentQueries:function(r,o,i){if(1&r&&(zn(i,JG,4),zn(i,TM,4),zn(i,AM,4),zn(i,eq,4),zn(i,tq,4),zn(i,nq,4),zn(i,rq,4),zn(i,Op,4)),2&r){let s;Yt(s=Kt())&&(o._headerTemplate=s.first),Yt(s=Kt())&&(o._contentTemplate=s.first),Yt(s=Kt())&&(o._footerTemplate=s.first),Yt(s=Kt())&&(o._closeiconTemplate=s.first),Yt(s=Kt())&&(o._maximizeiconTemplate=s.first),Yt(s=Kt())&&(o._minimizeiconTemplate=s.first),Yt(s=Kt())&&(o._headlessTemplate=s.first),Yt(s=Kt())&&(o.templates=s)}},viewQuery:function(r,o){if(1&r&&(Vi(oq,5),Vi(TM,5),Vi(AM,5)),2&r){let i;Yt(i=Kt())&&(o.headerViewChild=i.first),Yt(i=Kt())&&(o.contentViewChild=i.first),Yt(i=Kt())&&(o.footerViewChild=i.first)}},inputs:{hostName:"hostName",header:"header",draggable:[2,"draggable","draggable",Qe],resizable:[2,"resizable","resizable",Qe],contentStyle:"contentStyle",contentStyleClass:"contentStyleClass",modal:[2,"modal","modal",Qe],closeOnEscape:[2,"closeOnEscape","closeOnEscape",Qe],dismissableMask:[2,"dismissableMask","dismissableMask",Qe],rtl:[2,"rtl","rtl",Qe],closable:[2,"closable","closable",Qe],breakpoints:"breakpoints",styleClass:"styleClass",maskStyleClass:"maskStyleClass",maskStyle:"maskStyle",showHeader:[2,"showHeader","showHeader",Qe],blockScroll:[2,"blockScroll","blockScroll",Qe],autoZIndex:[2,"autoZIndex","autoZIndex",Qe],baseZIndex:[2,"baseZIndex","baseZIndex",Wi],minX:[2,"minX","minX",Wi],minY:[2,"minY","minY",Wi],focusOnShow:[2,"focusOnShow","focusOnShow",Qe],maximizable:[2,"maximizable","maximizable",Qe],keepInViewport:[2,"keepInViewport","keepInViewport",Qe],focusTrap:[2,"focusTrap","focusTrap",Qe],transitionOptions:"transitionOptions",maskMotionOptions:[1,"maskMotionOptions"],motionOptions:[1,"motionOptions"],closeIcon:"closeIcon",closeAriaLabel:"closeAriaLabel",closeTabindex:"closeTabindex",minimizeIcon:"minimizeIcon",maximizeIcon:"maximizeIcon",closeButtonProps:"closeButtonProps",maximizeButtonProps:"maximizeButtonProps",visible:"visible",style:"style",position:"position",role:"role",appendTo:[1,"appendTo"],headerTemplate:[0,"content","headerTemplate"],contentTemplate:"contentTemplate",footerTemplate:"footerTemplate",closeIconTemplate:"closeIconTemplate",maximizeIconTemplate:"maximizeIconTemplate",minimizeIconTemplate:"minimizeIconTemplate",headlessTemplate:"headlessTemplate"},outputs:{onShow:"onShow",onHide:"onHide",visibleChange:"visibleChange",onResizeInit:"onResizeInit",onResizeEnd:"onResizeEnd",onDragEnd:"onDragEnd",onMaximize:"onMaximize"},features:[or([IM,{provide:xM,useExisting:n},{provide:vo,useExisting:n}]),No([sn]),Ut],ngContentSelectors:sq,decls:1,vars:1,consts:[["container",""],["notHeadless",""],["content",""],["titlebar",""],["icon",""],["footer",""],[3,"class","style","ngStyle","pBind","pMotion","pMotionAppear","pMotionEnterActiveClass","pMotionLeaveActiveClass","pMotionOptions"],[3,"pMotionOnAfterLeave","ngStyle","pBind","pMotion","pMotionAppear","pMotionEnterActiveClass","pMotionLeaveActiveClass","pMotionOptions"],["pFocusTrap","",3,"class","style","ngStyle","pBind","pFocusTrapDisabled","pMotion","pMotionAppear","pMotionName","pMotionOptions"],["pFocusTrap","",3,"pMotionOnBeforeEnter","pMotionOnAfterEnter","pMotionOnBeforeLeave","pMotionOnAfterLeave","ngStyle","pBind","pFocusTrapDisabled","pMotion","pMotionAppear","pMotionName","pMotionOptions"],[4,"ngIf","ngIfElse"],[4,"ngTemplateOutlet"],[3,"class","pBind","z-index","mousedown",4,"ngIf"],[3,"class","pBind","mousedown",4,"ngIf"],[3,"ngStyle","pBind"],[3,"class","pBind",4,"ngIf"],[3,"mousedown","pBind"],[3,"id","class","pBind",4,"ngIf"],[3,"pBind"],[3,"pt","styleClass","ariaLabel","tabindex","buttonProps","unstyled","onClick","keydown.enter",4,"ngIf"],[3,"id","pBind"],[3,"onClick","keydown.enter","pt","styleClass","ariaLabel","tabindex","buttonProps","unstyled"],[3,"ngClass",4,"ngIf"],[4,"ngIf"],[3,"ngClass"],["data-p-icon","window-maximize",4,"ngIf"],["data-p-icon","window-minimize",4,"ngIf"],["data-p-icon","window-maximize"],["data-p-icon","window-minimize"],[3,"class",4,"ngIf"],["data-p-icon","times",4,"ngIf"],["data-p-icon","times"]],template:function(r,o){1&r&&(Qo(iq),kr(0,Bq,2,14,"div",6)),2&r&&Tr(o.renderMask()?0:-1)},dependencies:[Vr,Zy,Xu,ec,e_,C_,SG,bM,AG,xG,ni,sn,SM,DM],encapsulation:2,changeDetection:0})}return n})();const Vq=()=>({width:"25rem"});let zq=(()=>{class n{src="";height=250;showModal=!1;openModal(){this.showModal=!0;const e=document.createElement("div");e.className="modal-backdrop fade show",e.id="custom-backdrop",document.body.appendChild(e)}closeModal(){this.showModal=!1;const e=document.getElementById("custom-backdrop");e&&e.remove()}static \u0275fac=function(r){return new(r||n)};static \u0275cmp=Mt({type:n,selectors:[["app-image-link"]],inputs:{src:"src",height:"height"},decls:9,vars:8,consts:[[2,"cursor","pointer","max-width","90%",3,"click","src","height"],["header","Edit Profile",3,"visibleChange","modal","visible"],[1,"p-text-secondary","block","mb-8"],[1,"flex","items-center","gap-4","mb-4"],[1,"img-fluid",3,"src"],[1,"flex","justify-end","gap-2"],["label","Cancel","severity","secondary",3,"click"],["label","Save",3,"click"]],template:function(r,o){1&r&&(V(0,"img",0),bn("click",function(){return o.openModal()}),G(),V(1,"p-dialog",1),Iv("visibleChange",function(s){return function cT(n,t){const e=cS(n);return e&&n.set(t),e}(o.showModal,s)||(o.showModal=s),s}),V(2,"span",2),q(3,"Vista previa"),G(),V(4,"div",3),gt(5,"img",4),G(),V(6,"div",5)(7,"p-button",6),bn("click",function(){return o.showModal=!1}),G(),V(8,"p-button",7),bn("click",function(){return o.showModal=!1}),G()()()),2&r&&(H("src",o.src,Wc)("height",o.height),x(),Hl(Nv(7,Vq)),H("modal",!0),Av("visible",o.showModal),x(4),H("src",o.src,Wc))},dependencies:[Vr,Uq,DG,C_],styles:[".modal.d-block[_ngcontent-%COMP%]{display:block}"]})}return n})(),Wq=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275cmp=Mt({type:n,selectors:[["app-export-odoo-catalog"]],decls:29,vars:5,consts:[[1,"container-fluid"],["src","images/catalog-canvan.jpg",3,"height"],[1,"row"],[1,"col-md-6"],["src","images/catalog-select.jpg",3,"height"],["src","images/catalog-select-all.jpg",3,"height"],["src","images/catalog-export.jpg",3,"height"],["src","images/catalog-export-2.jpg",3,"height"]],template:function(r,o){1&r&&(V(0,"div",0)(1,"ol")(2,"li")(3,"p"),q(4," Ve a catalogo de productos y ponlo en modo lista "),G(),V(5,"div"),gt(6,"app-image-link",1),G()(),V(7,"li")(8,"p")(9,"strong"),q(10,"Odoo : Seleccionar art\xedculos"),G()(),V(11,"p"),q(12," Pulsa el check a la izquierda para seleccionar todos los art\xedculos (1) y a continuaci\xf3n en seleccionar todo "),G(),V(13,"div",2)(14,"div",3),gt(15,"app-image-link",4),G(),V(16,"div",3),gt(17,"app-image-link",5),G()()(),V(18,"li")(19,"p")(20,"strong"),q(21,"Odoo : exportar art\xedculos"),G()(),V(22,"p"),q(23," Pulsa en acciones y a continuaci\xf3n exportar "),G(),V(24,"p"),q(25," En el men\xfa exportar marca el check Quiero actualizar los datos , Formato de exportaci\xf3n CSV y seleccionar en plantilla catalogo20250918. Despu\xe9s pulsa descargar. "),G(),V(26,"div",2),gt(27,"app-image-link",6)(28,"app-image-link",7),G()()()()),2&r&&(x(6),H("height",250),x(9),H("height",250),x(2),H("height",250),x(10),H("height",250),x(),H("height",250))},dependencies:[zq],encapsulation:2})}return n})();const Gq=["data-p-icon","check"];let qq=(()=>{class n extends Si{static \u0275fac=(()=>{let e;return function(o){return(e||(e=Ze(n)))(o||n)}})();static \u0275cmp=Mt({type:n,selectors:[["","data-p-icon","check"]],features:[Ut],attrs:Gq,decls:1,vars:0,consts:[["d","M4.86199 11.5948C4.78717 11.5923 4.71366 11.5745 4.64596 11.5426C4.57826 11.5107 4.51779 11.4652 4.46827 11.4091L0.753985 7.69483C0.683167 7.64891 0.623706 7.58751 0.580092 7.51525C0.536478 7.44299 0.509851 7.36177 0.502221 7.27771C0.49459 7.19366 0.506156 7.10897 0.536046 7.03004C0.565935 6.95111 0.613367 6.88 0.674759 6.82208C0.736151 6.76416 0.8099 6.72095 0.890436 6.69571C0.970973 6.67046 1.05619 6.66385 1.13966 6.67635C1.22313 6.68886 1.30266 6.72017 1.37226 6.76792C1.44186 6.81567 1.4997 6.8786 1.54141 6.95197L4.86199 10.2503L12.6397 2.49483C12.7444 2.42694 12.8689 2.39617 12.9932 2.40745C13.1174 2.41873 13.2343 2.47141 13.3251 2.55705C13.4159 2.64268 13.4753 2.75632 13.4938 2.87973C13.5123 3.00315 13.4888 3.1292 13.4271 3.23768L5.2557 11.4091C5.20618 11.4652 5.14571 11.5107 5.07801 11.5426C5.01031 11.5745 4.9368 11.5923 4.86199 11.5948Z","fill","currentColor"]],template:function(r,o){1&r&&(wn(),Vn(0,"path",0))},encapsulation:2})}return n})();const Yq=["data-p-icon","exclamation-triangle"];let Kq=(()=>{class n extends Si{pathId;onInit(){this.pathId="url(#"+ti()+")"}static \u0275fac=(()=>{let e;return function(o){return(e||(e=Ze(n)))(o||n)}})();static \u0275cmp=Mt({type:n,selectors:[["","data-p-icon","exclamation-triangle"]],features:[Ut],attrs:Yq,decls:7,vars:2,consts:[["d","M13.4018 13.1893H0.598161C0.49329 13.189 0.390283 13.1615 0.299143 13.1097C0.208003 13.0578 0.131826 12.9832 0.0780112 12.8932C0.0268539 12.8015 0 12.6982 0 12.5931C0 12.4881 0.0268539 12.3848 0.0780112 12.293L6.47985 1.08982C6.53679 1.00399 6.61408 0.933574 6.70484 0.884867C6.7956 0.836159 6.897 0.810669 7 0.810669C7.103 0.810669 7.2044 0.836159 7.29516 0.884867C7.38592 0.933574 7.46321 1.00399 7.52015 1.08982L13.922 12.293C13.9731 12.3848 14 12.4881 14 12.5931C14 12.6982 13.9731 12.8015 13.922 12.8932C13.8682 12.9832 13.792 13.0578 13.7009 13.1097C13.6097 13.1615 13.5067 13.189 13.4018 13.1893ZM1.63046 11.989H12.3695L7 2.59425L1.63046 11.989Z","fill","currentColor"],["d","M6.99996 8.78801C6.84143 8.78594 6.68997 8.72204 6.57787 8.60993C6.46576 8.49782 6.40186 8.34637 6.39979 8.18784V5.38703C6.39979 5.22786 6.46302 5.0752 6.57557 4.96265C6.68813 4.85009 6.84078 4.78686 6.99996 4.78686C7.15914 4.78686 7.31179 4.85009 7.42435 4.96265C7.5369 5.0752 7.60013 5.22786 7.60013 5.38703V8.18784C7.59806 8.34637 7.53416 8.49782 7.42205 8.60993C7.30995 8.72204 7.15849 8.78594 6.99996 8.78801Z","fill","currentColor"],["d","M6.99996 11.1887C6.84143 11.1866 6.68997 11.1227 6.57787 11.0106C6.46576 10.8985 6.40186 10.7471 6.39979 10.5885V10.1884C6.39979 10.0292 6.46302 9.87658 6.57557 9.76403C6.68813 9.65147 6.84078 9.58824 6.99996 9.58824C7.15914 9.58824 7.31179 9.65147 7.42435 9.76403C7.5369 9.87658 7.60013 10.0292 7.60013 10.1884V10.5885C7.59806 10.7471 7.53416 10.8985 7.42205 11.0106C7.30995 11.1227 7.15849 11.1866 6.99996 11.1887Z","fill","currentColor"],[3,"id"],["width","14","height","14","fill","white"]],template:function(r,o){1&r&&(wn(),ge(0,"g"),Vn(1,"path",0)(2,"path",1)(3,"path",2),me(),ge(4,"defs")(5,"clipPath",3),Vn(6,"rect",4),me()()),2&r&&(nt("clip-path",o.pathId),x(5),Ui("id",o.pathId))},encapsulation:2})}return n})();const Xq=["data-p-icon","info-circle"];let Zq=(()=>{class n extends Si{pathId;onInit(){this.pathId="url(#"+ti()+")"}static \u0275fac=(()=>{let e;return function(o){return(e||(e=Ze(n)))(o||n)}})();static \u0275cmp=Mt({type:n,selectors:[["","data-p-icon","info-circle"]],features:[Ut],attrs:Xq,decls:5,vars:2,consts:[["fill-rule","evenodd","clip-rule","evenodd","d","M3.11101 12.8203C4.26215 13.5895 5.61553 14 7 14C8.85652 14 10.637 13.2625 11.9497 11.9497C13.2625 10.637 14 8.85652 14 7C14 5.61553 13.5895 4.26215 12.8203 3.11101C12.0511 1.95987 10.9579 1.06266 9.67879 0.532846C8.3997 0.00303296 6.99224 -0.13559 5.63437 0.134506C4.2765 0.404603 3.02922 1.07129 2.05026 2.05026C1.07129 3.02922 0.404603 4.2765 0.134506 5.63437C-0.13559 6.99224 0.00303296 8.3997 0.532846 9.67879C1.06266 10.9579 1.95987 12.0511 3.11101 12.8203ZM3.75918 2.14976C4.71846 1.50879 5.84628 1.16667 7 1.16667C8.5471 1.16667 10.0308 1.78125 11.1248 2.87521C12.2188 3.96918 12.8333 5.45291 12.8333 7C12.8333 8.15373 12.4912 9.28154 11.8502 10.2408C11.2093 11.2001 10.2982 11.9478 9.23232 12.3893C8.16642 12.8308 6.99353 12.9463 5.86198 12.7212C4.73042 12.4962 3.69102 11.9406 2.87521 11.1248C2.05941 10.309 1.50384 9.26958 1.27876 8.13803C1.05367 7.00647 1.16919 5.83358 1.61071 4.76768C2.05222 3.70178 2.79989 2.79074 3.75918 2.14976ZM7.00002 4.8611C6.84594 4.85908 6.69873 4.79698 6.58977 4.68801C6.48081 4.57905 6.4187 4.43185 6.41669 4.27776V3.88888C6.41669 3.73417 6.47815 3.58579 6.58754 3.4764C6.69694 3.367 6.84531 3.30554 7.00002 3.30554C7.15473 3.30554 7.3031 3.367 7.4125 3.4764C7.52189 3.58579 7.58335 3.73417 7.58335 3.88888V4.27776C7.58134 4.43185 7.51923 4.57905 7.41027 4.68801C7.30131 4.79698 7.1541 4.85908 7.00002 4.8611ZM7.00002 10.6945C6.84594 10.6925 6.69873 10.6304 6.58977 10.5214C6.48081 10.4124 6.4187 10.2652 6.41669 10.1111V6.22225C6.41669 6.06754 6.47815 5.91917 6.58754 5.80977C6.69694 5.70037 6.84531 5.63892 7.00002 5.63892C7.15473 5.63892 7.3031 5.70037 7.4125 5.80977C7.52189 5.91917 7.58335 6.06754 7.58335 6.22225V10.1111C7.58134 10.2652 7.51923 10.4124 7.41027 10.5214C7.30131 10.6304 7.1541 10.6925 7.00002 10.6945Z","fill","currentColor"],[3,"id"],["width","14","height","14","fill","white"]],template:function(r,o){1&r&&(wn(),ge(0,"g"),Vn(1,"path",0),me(),ge(2,"defs")(3,"clipPath",1),Vn(4,"rect",2),me()()),2&r&&(nt("clip-path",o.pathId),x(3),Ui("id",o.pathId))},encapsulation:2})}return n})();const Qq=["data-p-icon","times-circle"];let Jq=(()=>{class n extends Si{pathId;onInit(){this.pathId="url(#"+ti()+")"}static \u0275fac=(()=>{let e;return function(o){return(e||(e=Ze(n)))(o||n)}})();static \u0275cmp=Mt({type:n,selectors:[["","data-p-icon","times-circle"]],features:[Ut],attrs:Qq,decls:5,vars:2,consts:[["fill-rule","evenodd","clip-rule","evenodd","d","M7 14C5.61553 14 4.26215 13.5895 3.11101 12.8203C1.95987 12.0511 1.06266 10.9579 0.532846 9.67879C0.00303296 8.3997 -0.13559 6.99224 0.134506 5.63437C0.404603 4.2765 1.07129 3.02922 2.05026 2.05026C3.02922 1.07129 4.2765 0.404603 5.63437 0.134506C6.99224 -0.13559 8.3997 0.00303296 9.67879 0.532846C10.9579 1.06266 12.0511 1.95987 12.8203 3.11101C13.5895 4.26215 14 5.61553 14 7C14 8.85652 13.2625 10.637 11.9497 11.9497C10.637 13.2625 8.85652 14 7 14ZM7 1.16667C5.84628 1.16667 4.71846 1.50879 3.75918 2.14976C2.79989 2.79074 2.05222 3.70178 1.61071 4.76768C1.16919 5.83358 1.05367 7.00647 1.27876 8.13803C1.50384 9.26958 2.05941 10.309 2.87521 11.1248C3.69102 11.9406 4.73042 12.4962 5.86198 12.7212C6.99353 12.9463 8.16642 12.8308 9.23232 12.3893C10.2982 11.9478 11.2093 11.2001 11.8502 10.2408C12.4912 9.28154 12.8333 8.15373 12.8333 7C12.8333 5.45291 12.2188 3.96918 11.1248 2.87521C10.0308 1.78125 8.5471 1.16667 7 1.16667ZM4.66662 9.91668C4.58998 9.91704 4.51404 9.90209 4.44325 9.87271C4.37246 9.84333 4.30826 9.8001 4.2544 9.74557C4.14516 9.6362 4.0838 9.48793 4.0838 9.33335C4.0838 9.17876 4.14516 9.0305 4.2544 8.92113L6.17553 7L4.25443 5.07891C4.15139 4.96832 4.09529 4.82207 4.09796 4.67094C4.10063 4.51982 4.16185 4.37563 4.26872 4.26876C4.3756 4.16188 4.51979 4.10066 4.67091 4.09799C4.82204 4.09532 4.96829 4.15142 5.07887 4.25446L6.99997 6.17556L8.92106 4.25446C9.03164 4.15142 9.1779 4.09532 9.32903 4.09799C9.48015 4.10066 9.62434 4.16188 9.73121 4.26876C9.83809 4.37563 9.89931 4.51982 9.90198 4.67094C9.90464 4.82207 9.84855 4.96832 9.74551 5.07891L7.82441 7L9.74554 8.92113C9.85478 9.0305 9.91614 9.17876 9.91614 9.33335C9.91614 9.48793 9.85478 9.6362 9.74554 9.74557C9.69168 9.8001 9.62748 9.84333 9.55669 9.87271C9.4859 9.90209 9.40996 9.91704 9.33332 9.91668C9.25668 9.91704 9.18073 9.90209 9.10995 9.87271C9.03916 9.84333 8.97495 9.8001 8.9211 9.74557L6.99997 7.82444L5.07884 9.74557C5.02499 9.8001 4.96078 9.84333 4.88999 9.87271C4.81921 9.90209 4.74326 9.91704 4.66662 9.91668Z","fill","currentColor"],[3,"id"],["width","14","height","14","fill","white"]],template:function(r,o){1&r&&(wn(),ge(0,"g"),Vn(1,"path",0),me(),ge(2,"defs")(3,"clipPath",1),Vn(4,"rect",2),me()()),2&r&&(nt("clip-path",o.pathId),x(3),Ui("id",o.pathId))},encapsulation:2})}return n})();const tY=(n,t)=>({$implicit:n,closeFn:t}),nY=n=>({$implicit:n});function rY(n,t){1&n&&Lo(0)}function oY(n,t){if(1&n&&qe(0,rY,1,0,"ng-container",3),2&n){const e=Q();H("ngTemplateOutlet",e.headlessTemplate)("ngTemplateOutletContext",Rf(2,tY,e.message,e.onCloseIconClick))}}function iY(n,t){if(1&n&&gt(0,"span",4),2&n){const e=Q(3);Be(e.cn(e.cx("messageIcon"),null==e.message?null:e.message.icon)),H("pBind",e.ptm("messageIcon"))}}function sY(n,t){if(1&n&&(wn(),gt(0,"svg",11)),2&n){const e=Q(4);Be(e.cx("messageIcon")),H("pBind",e.ptm("messageIcon")),nt("aria-hidden",!0)}}function aY(n,t){if(1&n&&(wn(),gt(0,"svg",12)),2&n){const e=Q(4);Be(e.cx("messageIcon")),H("pBind",e.ptm("messageIcon")),nt("aria-hidden",!0)}}function lY(n,t){if(1&n&&(wn(),gt(0,"svg",13)),2&n){const e=Q(4);Be(e.cx("messageIcon")),H("pBind",e.ptm("messageIcon")),nt("aria-hidden",!0)}}function cY(n,t){if(1&n&&(wn(),gt(0,"svg",14)),2&n){const e=Q(4);Be(e.cx("messageIcon")),H("pBind",e.ptm("messageIcon")),nt("aria-hidden",!0)}}function uY(n,t){if(1&n&&(wn(),gt(0,"svg",12)),2&n){const e=Q(4);Be(e.cx("messageIcon")),H("pBind",e.ptm("messageIcon")),nt("aria-hidden",!0)}}function dY(n,t){if(1&n&&kr(0,sY,1,4,":svg:svg",7)(1,aY,1,4,":svg:svg",8)(2,lY,1,4,":svg:svg",9)(3,cY,1,4,":svg:svg",10)(4,uY,1,4,":svg:svg",8),2&n){let e;Tr("success"===(e=Q(3).message.severity)?0:"info"===e?1:"error"===e?2:"warn"===e?3:4)}}function hY(n,t){if(1&n&&(Oo(0),kr(1,iY,1,3,"span",2)(2,dY,5,1),V(3,"div",6)(4,"div",6),q(5),G(),V(6,"div",6),q(7),G()(),ho()),2&n){const e=Q(2);x(),Tr(e.message.icon?1:2),x(2),H("pBind",e.ptm("messageText"))("ngClass",e.cx("messageText")),nt("data-p",e.dataP),x(),H("pBind",e.ptm("summary"))("ngClass",e.cx("summary")),nt("data-p",e.dataP),x(),mt(" ",e.message.summary," "),x(),H("pBind",e.ptm("detail"))("ngClass",e.cx("detail")),nt("data-p",e.dataP),x(),ha(e.message.detail)}}function fY(n,t){1&n&&Lo(0)}function pY(n,t){if(1&n&&gt(0,"span",4),2&n){const e=Q(4);Be(e.cn(e.cx("closeIcon"),null==e.message?null:e.message.closeIcon)),H("pBind",e.ptm("closeIcon"))}}function gY(n,t){1&n&&qe(0,pY,1,3,"span",17),2&n&&H("ngIf",Q(3).message.closeIcon)}function mY(n,t){if(1&n&&(wn(),gt(0,"svg",18)),2&n){const e=Q(3);Be(e.cx("closeIcon")),H("pBind",e.ptm("closeIcon")),nt("aria-hidden",!0)}}function bY(n,t){if(1&n){const e=fo();V(0,"div")(1,"button",15),bn("click",function(o){return gn(e),mn(Q(2).onCloseIconClick(o))})("keydown.enter",function(o){return gn(e),mn(Q(2).onCloseIconClick(o))}),kr(2,gY,1,1,"span",2)(3,mY,1,4,":svg:svg",16),G()()}if(2&n){const e=Q(2);x(),H("pBind",e.ptm("closeButton")),nt("class",e.cx("closeButton"))("aria-label",e.closeAriaLabel)("data-p",e.dataP),x(),Tr(e.message.closeIcon?2:3)}}function vY(n,t){if(1&n&&(V(0,"div",4),qe(1,hY,8,12,"ng-container",5)(2,fY,1,0,"ng-container",3),kr(3,bY,4,5,"div"),G()),2&n){const e=Q();Be(e.cn(e.cx("messageContent"),null==e.message?null:e.message.contentStyleClass)),H("pBind",e.ptm("messageContent")),x(),H("ngIf",!e.template),x(),H("ngTemplateOutlet",e.template)("ngTemplateOutletContext",bT(7,nY,e.message)),x(),Tr(!1!==(null==e.message?null:e.message.closable)?3:-1)}}const yY=["message"],_Y=["headless"];function CY(n,t){if(1&n){const e=fo();V(0,"p-toastItem",1),bn("onClose",function(o){return gn(e),mn(Q().onMessageClose(o))})("onAnimationEnd",function(){return gn(e),mn(Q().onAnimationEnd())})("onAnimationStart",function(){return gn(e),mn(Q().onAnimationStart())}),G()}if(2&n){const e=t.$implicit,r=t.index,o=Q();H("message",e)("index",r)("life",o.life)("clearAll",o.clearAllTrigger())("template",o.template||o._template)("headlessTemplate",o.headlessTemplate||o._headlessTemplate)("pt",o.pt)("unstyled",o.unstyled())("motionOptions",o.computedMotionOptions())}}const wY={root:({instance:n})=>{const{_position:t}=n;return{position:"fixed",top:"top-right"===t||"top-left"===t||"top-center"===t?"20px":"center"===t?"50%":null,right:("top-right"===t||"bottom-right"===t)&&"20px",bottom:("bottom-left"===t||"bottom-right"===t||"bottom-center"===t)&&"20px",left:"top-left"===t||"bottom-left"===t?"20px":"center"===t||"top-center"===t||"bottom-center"===t?"50%":null}}},EY={root:({instance:n})=>["p-toast p-component",`p-toast-${n._position}`],message:({instance:n})=>({"p-toast-message":!0,"p-toast-message-info":"info"===n.message.severity||void 0===n.message.severity,"p-toast-message-warn":"warn"===n.message.severity,"p-toast-message-error":"error"===n.message.severity,"p-toast-message-success":"success"===n.message.severity,"p-toast-message-secondary":"secondary"===n.message.severity,"p-toast-message-contrast":"contrast"===n.message.severity}),messageContent:"p-toast-message-content",messageIcon:({instance:n})=>({"p-toast-message-icon":!0,[`pi ${n.message.icon}`]:!!n.message.icon}),messageText:"p-toast-message-text",summary:"p-toast-summary",detail:"p-toast-detail",closeButton:"p-toast-close-button",closeIcon:({instance:n})=>({"p-toast-close-icon":!0,[`pi ${n.message.closeIcon}`]:!!n.message.closeIcon})};let Up=(()=>{class n extends yr{name="toast";style="\n    .p-toast {\n        width: dt('toast.width');\n        white-space: pre-line;\n        word-break: break-word;\n    }\n\n    .p-toast-message {\n        margin: 0 0 1rem 0;\n        display: grid;\n        grid-template-rows: 1fr;\n    }\n\n    .p-toast-message-icon {\n        flex-shrink: 0;\n        font-size: dt('toast.icon.size');\n        width: dt('toast.icon.size');\n        height: dt('toast.icon.size');\n    }\n\n    .p-toast-message-content {\n        display: flex;\n        align-items: flex-start;\n        padding: dt('toast.content.padding');\n        gap: dt('toast.content.gap');\n        min-height: 0;\n        overflow: hidden;\n        transition: padding 250ms ease-in;\n    }\n\n    .p-toast-message-text {\n        flex: 1 1 auto;\n        display: flex;\n        flex-direction: column;\n        gap: dt('toast.text.gap');\n    }\n\n    .p-toast-summary {\n        font-weight: dt('toast.summary.font.weight');\n        font-size: dt('toast.summary.font.size');\n    }\n\n    .p-toast-detail {\n        font-weight: dt('toast.detail.font.weight');\n        font-size: dt('toast.detail.font.size');\n    }\n\n    .p-toast-close-button {\n        display: flex;\n        align-items: center;\n        justify-content: center;\n        overflow: hidden;\n        position: relative;\n        cursor: pointer;\n        background: transparent;\n        transition:\n            background dt('toast.transition.duration'),\n            color dt('toast.transition.duration'),\n            outline-color dt('toast.transition.duration'),\n            box-shadow dt('toast.transition.duration');\n        outline-color: transparent;\n        color: inherit;\n        width: dt('toast.close.button.width');\n        height: dt('toast.close.button.height');\n        border-radius: dt('toast.close.button.border.radius');\n        margin: -25% 0 0 0;\n        right: -25%;\n        padding: 0;\n        border: none;\n        user-select: none;\n    }\n\n    .p-toast-close-button:dir(rtl) {\n        margin: -25% 0 0 auto;\n        left: -25%;\n        right: auto;\n    }\n\n    .p-toast-message-info,\n    .p-toast-message-success,\n    .p-toast-message-warn,\n    .p-toast-message-error,\n    .p-toast-message-secondary,\n    .p-toast-message-contrast {\n        border-width: dt('toast.border.width');\n        border-style: solid;\n        backdrop-filter: blur(dt('toast.blur'));\n        border-radius: dt('toast.border.radius');\n    }\n\n    .p-toast-close-icon {\n        font-size: dt('toast.close.icon.size');\n        width: dt('toast.close.icon.size');\n        height: dt('toast.close.icon.size');\n    }\n\n    .p-toast-close-button:focus-visible {\n        outline-width: dt('focus.ring.width');\n        outline-style: dt('focus.ring.style');\n        outline-offset: dt('focus.ring.offset');\n    }\n\n    .p-toast-message-info {\n        background: dt('toast.info.background');\n        border-color: dt('toast.info.border.color');\n        color: dt('toast.info.color');\n        box-shadow: dt('toast.info.shadow');\n    }\n\n    .p-toast-message-info .p-toast-detail {\n        color: dt('toast.info.detail.color');\n    }\n\n    .p-toast-message-info .p-toast-close-button:focus-visible {\n        outline-color: dt('toast.info.close.button.focus.ring.color');\n        box-shadow: dt('toast.info.close.button.focus.ring.shadow');\n    }\n\n    .p-toast-message-info .p-toast-close-button:hover {\n        background: dt('toast.info.close.button.hover.background');\n    }\n\n    .p-toast-message-success {\n        background: dt('toast.success.background');\n        border-color: dt('toast.success.border.color');\n        color: dt('toast.success.color');\n        box-shadow: dt('toast.success.shadow');\n    }\n\n    .p-toast-message-success .p-toast-detail {\n        color: dt('toast.success.detail.color');\n    }\n\n    .p-toast-message-success .p-toast-close-button:focus-visible {\n        outline-color: dt('toast.success.close.button.focus.ring.color');\n        box-shadow: dt('toast.success.close.button.focus.ring.shadow');\n    }\n\n    .p-toast-message-success .p-toast-close-button:hover {\n        background: dt('toast.success.close.button.hover.background');\n    }\n\n    .p-toast-message-warn {\n        background: dt('toast.warn.background');\n        border-color: dt('toast.warn.border.color');\n        color: dt('toast.warn.color');\n        box-shadow: dt('toast.warn.shadow');\n    }\n\n    .p-toast-message-warn .p-toast-detail {\n        color: dt('toast.warn.detail.color');\n    }\n\n    .p-toast-message-warn .p-toast-close-button:focus-visible {\n        outline-color: dt('toast.warn.close.button.focus.ring.color');\n        box-shadow: dt('toast.warn.close.button.focus.ring.shadow');\n    }\n\n    .p-toast-message-warn .p-toast-close-button:hover {\n        background: dt('toast.warn.close.button.hover.background');\n    }\n\n    .p-toast-message-error {\n        background: dt('toast.error.background');\n        border-color: dt('toast.error.border.color');\n        color: dt('toast.error.color');\n        box-shadow: dt('toast.error.shadow');\n    }\n\n    .p-toast-message-error .p-toast-detail {\n        color: dt('toast.error.detail.color');\n    }\n\n    .p-toast-message-error .p-toast-close-button:focus-visible {\n        outline-color: dt('toast.error.close.button.focus.ring.color');\n        box-shadow: dt('toast.error.close.button.focus.ring.shadow');\n    }\n\n    .p-toast-message-error .p-toast-close-button:hover {\n        background: dt('toast.error.close.button.hover.background');\n    }\n\n    .p-toast-message-secondary {\n        background: dt('toast.secondary.background');\n        border-color: dt('toast.secondary.border.color');\n        color: dt('toast.secondary.color');\n        box-shadow: dt('toast.secondary.shadow');\n    }\n\n    .p-toast-message-secondary .p-toast-detail {\n        color: dt('toast.secondary.detail.color');\n    }\n\n    .p-toast-message-secondary .p-toast-close-button:focus-visible {\n        outline-color: dt('toast.secondary.close.button.focus.ring.color');\n        box-shadow: dt('toast.secondary.close.button.focus.ring.shadow');\n    }\n\n    .p-toast-message-secondary .p-toast-close-button:hover {\n        background: dt('toast.secondary.close.button.hover.background');\n    }\n\n    .p-toast-message-contrast {\n        background: dt('toast.contrast.background');\n        border-color: dt('toast.contrast.border.color');\n        color: dt('toast.contrast.color');\n        box-shadow: dt('toast.contrast.shadow');\n    }\n    \n    .p-toast-message-contrast .p-toast-detail {\n        color: dt('toast.contrast.detail.color');\n    }\n\n    .p-toast-message-contrast .p-toast-close-button:focus-visible {\n        outline-color: dt('toast.contrast.close.button.focus.ring.color');\n        box-shadow: dt('toast.contrast.close.button.focus.ring.shadow');\n    }\n\n    .p-toast-message-contrast .p-toast-close-button:hover {\n        background: dt('toast.contrast.close.button.hover.background');\n    }\n\n    .p-toast-top-center {\n        transform: translateX(-50%);\n    }\n\n    .p-toast-bottom-center {\n        transform: translateX(-50%);\n    }\n\n    .p-toast-center {\n        min-width: 20vw;\n        transform: translate(-50%, -50%);\n    }\n\n    .p-toast-message-enter-active {\n        animation: p-animate-toast-enter 300ms ease-out;\n    }\n\n    .p-toast-message-leave-active {\n        animation: p-animate-toast-leave 250ms ease-in;\n    }\n\n    .p-toast-message-leave-to .p-toast-message-content {\n        padding-top: 0;\n        padding-bottom: 0;\n    }\n\n    @keyframes p-animate-toast-enter {\n        from {\n            opacity: 0;\n            transform: scale(0.6);\n        }\n        to {\n            opacity: 1;\n            grid-template-rows: 1fr;\n        }\n    }\n\n     @keyframes p-animate-toast-leave {\n        from {\n            opacity: 1;\n        }\n        to {\n            opacity: 0;\n            margin-bottom: 0;\n            grid-template-rows: 0fr;\n            transform: translateY(-100%) scale(0.6);\n        }\n    }\n";classes=EY;inlineStyles=wY;static \u0275fac=(()=>{let e;return function(o){return(e||(e=Ze(n)))(o||n)}})();static \u0275prov=Z({token:n,factory:n.\u0275fac})}return n})();const MM=new j("TOAST_INSTANCE");let SY=(()=>{class n extends _r{zone;message;index;life;template;headlessTemplate;showTransformOptions;hideTransformOptions;showTransitionOptions;hideTransitionOptions;motionOptions=pe();clearAll=pe(null);onAnimationStart=Hn();onAnimationEnd=Hn();onBeforeEnter(e){this.onAnimationStart.emit(e.element)}onAfterLeave(e){!this.visible()&&!this.isDestroyed&&(this.onClose.emit({index:this.index,message:this.message}),this.isDestroyed||this.onAnimationEnd.emit(e.element))}onClose=new un;_componentStyle=D(Up);timeout;visible=Wt(void 0);isDestroyed=!1;isClosing=!1;constructor(e){super(),this.zone=e,Ao(()=>{this.clearAll()&&this.visible.set(!1)})}onAfterViewInit(){this.message?.sticky&&this.visible.set(!0),this.initTimeout()}initTimeout(){this.message?.sticky||(this.clearTimeout(),this.zone.runOutsideAngular(()=>{this.visible.set(!0),this.timeout=setTimeout(()=>{this.visible.set(!1)},this.message?.life||this.life||3e3)}))}clearTimeout(){this.timeout&&(clearTimeout(this.timeout),this.timeout=null)}onMouseEnter(){this.clearTimeout()}onMouseLeave(){this.isClosing||this.initTimeout()}onCloseIconClick=e=>{this.isClosing=!0,this.clearTimeout(),this.visible.set(!1),e.preventDefault()};get closeAriaLabel(){return this.config.translation.aria?this.config.translation.aria.close:void 0}onDestroy(){this.isDestroyed=!0,this.clearTimeout(),this.visible.set(!1)}get dataP(){return this.cn({[this.message?.severity]:this.message?.severity})}static \u0275fac=function(r){return new(r||n)(Ce(Ot))};static \u0275cmp=Mt({type:n,selectors:[["p-toastItem"]],inputs:{message:"message",index:[2,"index","index",Wi],life:[2,"life","life",Wi],template:"template",headlessTemplate:"headlessTemplate",showTransformOptions:"showTransformOptions",hideTransformOptions:"hideTransformOptions",showTransitionOptions:"showTransitionOptions",hideTransitionOptions:"hideTransitionOptions",motionOptions:[1,"motionOptions"],clearAll:[1,"clearAll"]},outputs:{onAnimationStart:"onAnimationStart",onAnimationEnd:"onAnimationEnd",onClose:"onClose"},features:[or([Up]),Ut],decls:4,vars:10,consts:[["container",""],["role","alert","aria-live","assertive","aria-atomic","true",3,"pMotionOnBeforeEnter","pMotionOnAfterLeave","mouseenter","mouseleave","pMotion","pMotionAppear","pMotionName","pMotionOptions","pBind"],[3,"pBind","class"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"pBind"],[4,"ngIf"],[3,"pBind","ngClass"],["data-p-icon","check",3,"pBind","class"],["data-p-icon","info-circle",3,"pBind","class"],["data-p-icon","times-circle",3,"pBind","class"],["data-p-icon","exclamation-triangle",3,"pBind","class"],["data-p-icon","check",3,"pBind"],["data-p-icon","info-circle",3,"pBind"],["data-p-icon","times-circle",3,"pBind"],["data-p-icon","exclamation-triangle",3,"pBind"],["type","button","autofocus","",3,"click","keydown.enter","pBind"],["data-p-icon","times",3,"pBind","class"],[3,"pBind","class",4,"ngIf"],["data-p-icon","times",3,"pBind"]],template:function(r,o){if(1&r){const i=fo();V(0,"div",1,0),bn("pMotionOnBeforeEnter",function(a){return gn(i),mn(o.onBeforeEnter(a))})("pMotionOnAfterLeave",function(a){return gn(i),mn(o.onAfterLeave(a))})("mouseenter",function(){return gn(i),mn(o.onMouseEnter())})("mouseleave",function(){return gn(i),mn(o.onMouseLeave())}),kr(2,oY,1,5,"ng-container")(3,vY,4,9,"div",2),G()}2&r&&(Be(o.cn(o.cx("message"),null==o.message?null:o.message.styleClass)),H("pMotion",o.visible())("pMotionAppear",!0)("pMotionName","p-toast-message")("pMotionOptions",o.motionOptions())("pBind",o.ptm("message")),nt("id",null==o.message?null:o.message.id)("data-p",o.dataP),x(2),Tr(o.headlessTemplate?2:3))},dependencies:[Vr,Zy,Xu,ec,qq,Kq,Zq,bM,Jq,ni,sn,SM,DM],encapsulation:2,changeDetection:0})}return n})(),kY=(()=>{class n extends _r{$pcToast=D(MM,{optional:!0,skipSelf:!0})??void 0;bindDirectiveInstance=D(sn,{self:!0});onAfterViewChecked(){this.bindDirectiveInstance.setAttrs(this.ptms(["host","root"]))}key;autoZIndex=!0;baseZIndex=0;life=3e3;styleClass;get position(){return this._position}set position(e){this._position=e,this.cd.markForCheck()}preventOpenDuplicates=!1;preventDuplicates=!1;showTransformOptions="translateY(100%)";hideTransformOptions="translateY(-100%)";showTransitionOptions="300ms ease-out";hideTransitionOptions="250ms ease-in";motionOptions=pe(void 0);computedMotionOptions=Ht(()=>({...this.ptm("motion"),...this.motionOptions()}));breakpoints;onClose=new un;template;headlessTemplate;messageSubscription;clearSubscription;messages;messagesArchieve;_position="top-right";messageService=D(f_);_componentStyle=D(Up);styleElement;id=ti("pn_id_");templates;clearAllTrigger=Wt(null);constructor(){super()}onInit(){this.messageSubscription=this.messageService.messageObserver.subscribe(e=>{if(e)if(Array.isArray(e)){const r=e.filter(o=>this.canAdd(o));this.add(r)}else this.canAdd(e)&&this.add([e])}),this.clearSubscription=this.messageService.clearObserver.subscribe(e=>{e?this.key===e&&this.clearAll():this.clearAll(),this.cd.markForCheck()})}clearAll(){this.clearAllTrigger.set({})}_template;_headlessTemplate;onAfterContentInit(){this.templates?.forEach(e=>{switch(e.getType()){case"message":default:this._template=e.template;break;case"headless":this._headlessTemplate=e.template}})}onAfterViewInit(){this.breakpoints&&this.createStyle()}add(e){this.messages=this.messages?[...this.messages,...e]:[...e],this.preventDuplicates&&(this.messagesArchieve=this.messagesArchieve?[...this.messagesArchieve,...e]:[...e]),this.cd.markForCheck()}canAdd(e){let r=this.key===e.key;return r&&this.preventOpenDuplicates&&(r=!this.containsMessage(this.messages,e)),r&&this.preventDuplicates&&(r=!this.containsMessage(this.messagesArchieve,e)),r}containsMessage(e,r){return!!e&&null!=e.find(o=>o.summary===r.summary&&o.detail==r.detail&&o.severity===r.severity)}onMessageClose(e){this.messages?.splice(e.index,1),this.onClose.emit({message:e.message}),this.onAnimationEnd(),this.cd.detectChanges()}onAnimationStart(){this.renderer.setAttribute(this.el?.nativeElement,this.id,""),this.autoZIndex&&""===this.el?.nativeElement.style.zIndex&&Ds.set("modal",this.el?.nativeElement,this.baseZIndex||this.config.zIndex.modal)}onAnimationEnd(){this.autoZIndex&&Ki(this.messages)&&Ds.clear(this.el?.nativeElement)}createStyle(){if(!this.styleElement){this.styleElement=this.renderer.createElement("style"),this.styleElement.type="text/css",Ju(this.styleElement,"nonce",this.config?.csp()?.nonce),this.renderer.appendChild(this.document.head,this.styleElement);let e="";for(let r in this.breakpoints){let o="";for(let i in this.breakpoints[r])o+=i+":"+this.breakpoints[r][i]+" !important;";e+=`\n                    @media screen and (max-width: ${r}) {\n                        .p-toast[${this.id}] {\n                           ${o}\n                        }\n                    }\n                `}this.renderer.setProperty(this.styleElement,"innerHTML",e),Ju(this.styleElement,"nonce",this.config?.csp()?.nonce)}}destroyStyle(){this.styleElement&&(this.renderer.removeChild(this.document.head,this.styleElement),this.styleElement=null)}onDestroy(){this.messageSubscription&&this.messageSubscription.unsubscribe(),this.el&&this.autoZIndex&&Ds.clear(this.el.nativeElement),this.clearSubscription&&this.clearSubscription.unsubscribe(),this.destroyStyle()}get dataP(){return this.cn({[this.position]:this.position})}static \u0275fac=function(r){return new(r||n)};static \u0275cmp=Mt({type:n,selectors:[["p-toast"]],contentQueries:function(r,o,i){if(1&r&&(zn(i,yY,5),zn(i,_Y,5),zn(i,Op,4)),2&r){let s;Yt(s=Kt())&&(o.template=s.first),Yt(s=Kt())&&(o.headlessTemplate=s.first),Yt(s=Kt())&&(o.templates=s)}},hostVars:5,hostBindings:function(r,o){2&r&&(nt("data-p",o.dataP),Hl(o.sx("root")),Be(o.cn(o.cx("root"),o.styleClass)))},inputs:{key:"key",autoZIndex:[2,"autoZIndex","autoZIndex",Qe],baseZIndex:[2,"baseZIndex","baseZIndex",Wi],life:[2,"life","life",Wi],styleClass:"styleClass",position:"position",preventOpenDuplicates:[2,"preventOpenDuplicates","preventOpenDuplicates",Qe],preventDuplicates:[2,"preventDuplicates","preventDuplicates",Qe],showTransformOptions:"showTransformOptions",hideTransformOptions:"hideTransformOptions",showTransitionOptions:"showTransitionOptions",hideTransitionOptions:"hideTransitionOptions",motionOptions:[1,"motionOptions"],breakpoints:"breakpoints"},outputs:{onClose:"onClose"},features:[or([Up,{provide:MM,useExisting:n},{provide:vo,useExisting:n}]),No([sn]),Ut],decls:1,vars:1,consts:[[3,"message","index","life","clearAll","template","headlessTemplate","pt","unstyled","motionOptions","onClose","onAnimationEnd","onAnimationStart",4,"ngFor","ngForOf"],[3,"onClose","onAnimationEnd","onAnimationStart","message","index","life","clearAll","template","headlessTemplate","pt","unstyled","motionOptions"]],template:function(r,o){1&r&&qe(0,CY,1,9,"p-toastItem",0),2&r&&H("ngForOf",o.messages)},dependencies:[Vr,px,SY,ni],encapsulation:2,changeDetection:0})}return n})();const AY=["data-p-icon","chevron-left"];let IY=(()=>{class n extends Si{static \u0275fac=(()=>{let e;return function(o){return(e||(e=Ze(n)))(o||n)}})();static \u0275cmp=Mt({type:n,selectors:[["","data-p-icon","chevron-left"]],features:[Ut],attrs:AY,decls:1,vars:0,consts:[["d","M9.61296 13C9.50997 13.0005 9.40792 12.9804 9.3128 12.9409C9.21767 12.9014 9.13139 12.8433 9.05902 12.7701L3.83313 7.54416C3.68634 7.39718 3.60388 7.19795 3.60388 6.99022C3.60388 6.78249 3.68634 6.58325 3.83313 6.43628L9.05902 1.21039C9.20762 1.07192 9.40416 0.996539 9.60724 1.00012C9.81032 1.00371 10.0041 1.08597 10.1477 1.22959C10.2913 1.37322 10.3736 1.56698 10.3772 1.77005C10.3808 1.97313 10.3054 2.16968 10.1669 2.31827L5.49496 6.99022L10.1669 11.6622C10.3137 11.8091 10.3962 12.0084 10.3962 12.2161C10.3962 12.4238 10.3137 12.6231 10.1669 12.7701C10.0945 12.8433 10.0083 12.9014 9.91313 12.9409C9.81801 12.9804 9.71596 13.0005 9.61296 13Z","fill","currentColor"]],template:function(r,o){1&r&&(wn(),Vn(0,"path",0))},encapsulation:2})}return n})();const xY=["data-p-icon","chevron-right"];let MY=(()=>{class n extends Si{static \u0275fac=(()=>{let e;return function(o){return(e||(e=Ze(n)))(o||n)}})();static \u0275cmp=Mt({type:n,selectors:[["","data-p-icon","chevron-right"]],features:[Ut],attrs:xY,decls:1,vars:0,consts:[["d","M4.38708 13C4.28408 13.0005 4.18203 12.9804 4.08691 12.9409C3.99178 12.9014 3.9055 12.8433 3.83313 12.7701C3.68634 12.6231 3.60388 12.4238 3.60388 12.2161C3.60388 12.0084 3.68634 11.8091 3.83313 11.6622L8.50507 6.99022L3.83313 2.31827C3.69467 2.16968 3.61928 1.97313 3.62287 1.77005C3.62645 1.56698 3.70872 1.37322 3.85234 1.22959C3.99596 1.08597 4.18972 1.00371 4.3928 1.00012C4.59588 0.996539 4.79242 1.07192 4.94102 1.21039L10.1669 6.43628C10.3137 6.58325 10.3962 6.78249 10.3962 6.99022C10.3962 7.19795 10.3137 7.39718 10.1669 7.54416L4.94102 12.7701C4.86865 12.8433 4.78237 12.9014 4.68724 12.9409C4.59212 12.9804 4.49007 13.0005 4.38708 13Z","fill","currentColor"]],template:function(r,o){1&r&&(wn(),Vn(0,"path",0))},encapsulation:2})}return n})();const id=["*"],RY=["previcon"],NY=["nexticon"],RM=["content"],OY=["prevButton"],LY=["nextButton"],PY=["inkbar"],FY=["tabs"];function BY(n,t){1&n&&Lo(0)}function HY(n,t){if(1&n&&qe(0,BY,1,0,"ng-container",11),2&n){const e=Q(2);H("ngTemplateOutlet",e.prevIconTemplate||e._prevIconTemplate)}}function jY(n,t){1&n&&(wn(),gt(0,"svg",10))}function $Y(n,t){if(1&n){const e=fo();V(0,"button",9,3),bn("click",function(){return gn(e),mn(Q().onPrevButtonClick())}),kr(2,HY,1,1,"ng-container")(3,jY,1,0,":svg:svg",10),G()}if(2&n){const e=Q();Be(e.cx("prevButton")),H("pBind",e.ptm("prevButton")),nt("aria-label",e.prevButtonAriaLabel)("tabindex",e.tabindex())("data-pc-group-section","navigator"),x(2),Tr(e.prevIconTemplate||e._prevIconTemplate?2:3)}}function UY(n,t){1&n&&Lo(0)}function VY(n,t){if(1&n&&qe(0,UY,1,0,"ng-container",11),2&n){const e=Q(2);H("ngTemplateOutlet",e.nextIconTemplate||e._nextIconTemplate)}}function zY(n,t){1&n&&(wn(),gt(0,"svg",12))}function WY(n,t){if(1&n){const e=fo();V(0,"button",9,4),bn("click",function(){return gn(e),mn(Q().onNextButtonClick())}),kr(2,VY,1,1,"ng-container")(3,zY,1,0,":svg:svg",12),G()}if(2&n){const e=Q();Be(e.cx("nextButton")),H("pBind",e.ptm("nextButton")),nt("aria-label",e.nextButtonAriaLabel)("tabindex",e.tabindex())("data-pc-group-section","navigator"),x(2),Tr(e.nextIconTemplate||e._nextIconTemplate?2:3)}}function GY(n,t){1&n&&Po(0)}function qY(n,t){1&n&&Lo(0)}function YY(n,t){if(1&n&&qe(0,qY,1,0,"ng-container",1),2&n){const e=Q(),r=Ev(1);H("ngTemplateOutlet",e.content()?e.content():r)}}const KY={root:({instance:n})=>["p-tabs p-component",{"p-tabs-scrollable":n.scrollable()}]};let NM=(()=>{class n extends yr{name="tabs";style="\n    .p-tabs {\n        display: flex;\n        flex-direction: column;\n    }\n\n    .p-tablist {\n        display: flex;\n        position: relative;\n        overflow: hidden;\n        background: dt('tabs.tablist.background');\n    }\n\n    .p-tablist-viewport {\n        overflow-x: auto;\n        overflow-y: hidden;\n        scroll-behavior: smooth;\n        scrollbar-width: none;\n        overscroll-behavior: contain auto;\n    }\n\n    .p-tablist-viewport::-webkit-scrollbar {\n        display: none;\n    }\n\n    .p-tablist-tab-list {\n        position: relative;\n        display: flex;\n        border-style: solid;\n        border-color: dt('tabs.tablist.border.color');\n        border-width: dt('tabs.tablist.border.width');\n    }\n\n    .p-tablist-content {\n        flex-grow: 1;\n    }\n\n    .p-tablist-nav-button {\n        all: unset;\n        position: absolute !important;\n        flex-shrink: 0;\n        inset-block-start: 0;\n        z-index: 2;\n        height: 100%;\n        display: flex;\n        align-items: center;\n        justify-content: center;\n        background: dt('tabs.nav.button.background');\n        color: dt('tabs.nav.button.color');\n        width: dt('tabs.nav.button.width');\n        transition:\n            color dt('tabs.transition.duration'),\n            outline-color dt('tabs.transition.duration'),\n            box-shadow dt('tabs.transition.duration');\n        box-shadow: dt('tabs.nav.button.shadow');\n        outline-color: transparent;\n        cursor: pointer;\n    }\n\n    .p-tablist-nav-button:focus-visible {\n        z-index: 1;\n        box-shadow: dt('tabs.nav.button.focus.ring.shadow');\n        outline: dt('tabs.nav.button.focus.ring.width') dt('tabs.nav.button.focus.ring.style') dt('tabs.nav.button.focus.ring.color');\n        outline-offset: dt('tabs.nav.button.focus.ring.offset');\n    }\n\n    .p-tablist-nav-button:hover {\n        color: dt('tabs.nav.button.hover.color');\n    }\n\n    .p-tablist-prev-button {\n        inset-inline-start: 0;\n    }\n\n    .p-tablist-next-button {\n        inset-inline-end: 0;\n    }\n\n    .p-tablist-prev-button:dir(rtl),\n    .p-tablist-next-button:dir(rtl) {\n        transform: rotate(180deg);\n    }\n\n    .p-tab {\n        flex-shrink: 0;\n        cursor: pointer;\n        user-select: none;\n        position: relative;\n        border-style: solid;\n        white-space: nowrap;\n        gap: dt('tabs.tab.gap');\n        background: dt('tabs.tab.background');\n        border-width: dt('tabs.tab.border.width');\n        border-color: dt('tabs.tab.border.color');\n        color: dt('tabs.tab.color');\n        padding: dt('tabs.tab.padding');\n        font-weight: dt('tabs.tab.font.weight');\n        transition:\n            background dt('tabs.transition.duration'),\n            border-color dt('tabs.transition.duration'),\n            color dt('tabs.transition.duration'),\n            outline-color dt('tabs.transition.duration'),\n            box-shadow dt('tabs.transition.duration');\n        margin: dt('tabs.tab.margin');\n        outline-color: transparent;\n    }\n\n    .p-tab:not(.p-disabled):focus-visible {\n        z-index: 1;\n        box-shadow: dt('tabs.tab.focus.ring.shadow');\n        outline: dt('tabs.tab.focus.ring.width') dt('tabs.tab.focus.ring.style') dt('tabs.tab.focus.ring.color');\n        outline-offset: dt('tabs.tab.focus.ring.offset');\n    }\n\n    .p-tab:not(.p-tab-active):not(.p-disabled):hover {\n        background: dt('tabs.tab.hover.background');\n        border-color: dt('tabs.tab.hover.border.color');\n        color: dt('tabs.tab.hover.color');\n    }\n\n    .p-tab-active {\n        background: dt('tabs.tab.active.background');\n        border-color: dt('tabs.tab.active.border.color');\n        color: dt('tabs.tab.active.color');\n    }\n\n    .p-tabpanels {\n        background: dt('tabs.tabpanel.background');\n        color: dt('tabs.tabpanel.color');\n        padding: dt('tabs.tabpanel.padding');\n        outline: 0 none;\n    }\n\n    .p-tabpanel:focus-visible {\n        box-shadow: dt('tabs.tabpanel.focus.ring.shadow');\n        outline: dt('tabs.tabpanel.focus.ring.width') dt('tabs.tabpanel.focus.ring.style') dt('tabs.tabpanel.focus.ring.color');\n        outline-offset: dt('tabs.tabpanel.focus.ring.offset');\n    }\n\n    .p-tablist-active-bar {\n        z-index: 1;\n        display: block;\n        position: absolute;\n        inset-block-end: dt('tabs.active.bar.bottom');\n        height: dt('tabs.active.bar.height');\n        background: dt('tabs.active.bar.background');\n        transition: 250ms cubic-bezier(0.35, 0, 0.25, 1);\n    }\n";classes=KY;static \u0275fac=(()=>{let e;return function(o){return(e||(e=Ze(n)))(o||n)}})();static \u0275prov=Z({token:n,factory:n.\u0275fac})}return n})();const OM=new j("TABS_INSTANCE");let sd=(()=>{class n extends _r{$pcTabs=D(OM,{optional:!0,skipSelf:!0})??void 0;bindDirectiveInstance=D(sn,{self:!0});onAfterViewChecked(){this.bindDirectiveInstance.setAttrs(this.ptms(["host","root"]))}value=zv(void 0);scrollable=pe(!1,{transform:Qe});lazy=pe(!1,{transform:Qe});selectOnFocus=pe(!1,{transform:Qe});showNavigators=pe(!0,{transform:Qe});tabindex=pe(0,{transform:Wi});id=Wt(ti("pn_id_"));_componentStyle=D(NM);updateValue(e){this.value.update(()=>e)}static \u0275fac=(()=>{let e;return function(o){return(e||(e=Ze(n)))(o||n)}})();static \u0275cmp=Mt({type:n,selectors:[["p-tabs"]],hostVars:3,hostBindings:function(r,o){2&r&&(nt("id",o.id()),Be(o.cx("root")))},inputs:{value:[1,"value"],scrollable:[1,"scrollable"],lazy:[1,"lazy"],selectOnFocus:[1,"selectOnFocus"],showNavigators:[1,"showNavigators"],tabindex:[1,"tabindex"]},outputs:{value:"valueChange"},features:[or([NM,{provide:OM,useExisting:n},{provide:vo,useExisting:n}]),No([sn]),Ut],ngContentSelectors:id,decls:1,vars:0,template:function(r,o){1&r&&(Qo(),Po(0))},dependencies:[Vr,Zi],encapsulation:2,changeDetection:0})}return n})();const ZY={root:({instance:n})=>["p-tab",{"p-tab-active":n.active(),"p-disabled":n.disabled()}]};let LM=(()=>{class n extends yr{name="tab";classes=ZY;static \u0275fac=(()=>{let e;return function(o){return(e||(e=Ze(n)))(o||n)}})();static \u0275prov=Z({token:n,factory:n.\u0275fac})}return n})();const JY={root:"p-tablist",content:"p-tablist-content p-tablist-viewport",tabList:"p-tablist-tab-list",activeBar:"p-tablist-active-bar",prevButton:"p-tablist-prev-button p-tablist-nav-button",nextButton:"p-tablist-next-button p-tablist-nav-button"};let PM=(()=>{class n extends yr{name="tablist";classes=JY;static \u0275fac=(()=>{let e;return function(o){return(e||(e=Ze(n)))(o||n)}})();static \u0275prov=Z({token:n,factory:n.\u0275fac})}return n})();const FM=new j("TABLIST_INSTANCE");let E_=(()=>{class n extends _r{$pcTabList=D(FM,{optional:!0,skipSelf:!0})??void 0;bindDirectiveInstance=D(sn,{self:!0});onAfterViewChecked(){this.bindDirectiveInstance.setAttrs(this.ptms(["host","root"]))}prevIconTemplate;nextIconTemplate;templates;content;prevButton;nextButton;inkbar;tabs;pcTabs=D(xs(()=>sd));isPrevButtonEnabled=Wt(!1);isNextButtonEnabled=Wt(!1);resizeObserver;showNavigators=Ht(()=>this.pcTabs.showNavigators());tabindex=Ht(()=>this.pcTabs.tabindex());scrollable=Ht(()=>this.pcTabs.scrollable());_componentStyle=D(PM);constructor(){super(),Ao(()=>{this.pcTabs.value(),as(this.platformId)&&setTimeout(()=>{this.updateInkBar()})})}get prevButtonAriaLabel(){return this.config?.translation?.aria?.previous}get nextButtonAriaLabel(){return this.config?.translation?.aria?.next}onAfterViewInit(){this.showNavigators()&&as(this.platformId)&&(this.updateButtonState(),this.bindResizeObserver())}_prevIconTemplate;_nextIconTemplate;onAfterContentInit(){this.templates?.forEach(e=>{switch(e.getType()){case"previcon":this._prevIconTemplate=e.template;break;case"nexticon":this._nextIconTemplate=e.template}})}onDestroy(){this.unbindResizeObserver()}onScroll(e){this.showNavigators()&&this.updateButtonState(),e.preventDefault()}onPrevButtonClick(){const e=this.content.nativeElement,r=oc(e),o=Math.abs(e.scrollLeft)-r,i=o<=0?0:o;e.scrollLeft=i_(e)?-1*i:i}onNextButtonClick(){const e=this.content.nativeElement,r=oc(e)-this.getVisibleButtonWidths(),o=e.scrollLeft+r,i=e.scrollWidth-r,s=o>=i?i:o;e.scrollLeft=i_(e)?-1*s:s}updateButtonState(){const e=this.content?.nativeElement,r=this.el?.nativeElement,{scrollWidth:o,offsetWidth:i}=e,s=Math.abs(e.scrollLeft),a=oc(e);this.isPrevButtonEnabled.set(0!==s),this.isNextButtonEnabled.set(r.offsetWidth>=i&&Math.abs(s-o+a)>1)}updateInkBar(){const e=this.content?.nativeElement,r=this.inkbar?.nativeElement,o=this.tabs?.nativeElement,i=function Dx(n,t){return Cs(n)?n.matches(t)?n:n.querySelector(t):null}(e,'[data-pc-name="tab"][data-p-active="true"]');r&&(r.style.width=nc(i)+"px",r.style.left=Np(i).left-Np(o).left+"px")}getVisibleButtonWidths(){const e=this.prevButton?.nativeElement,r=this.nextButton?.nativeElement;return[e,r].reduce((o,i)=>i?o+oc(i):o,0)}bindResizeObserver(){this.resizeObserver=new ResizeObserver(()=>this.updateButtonState()),this.resizeObserver.observe(this.el.nativeElement)}unbindResizeObserver(){this.resizeObserver&&(this.resizeObserver.unobserve(this.el.nativeElement),this.resizeObserver=null)}static \u0275fac=function(r){return new(r||n)};static \u0275cmp=Mt({type:n,selectors:[["p-tablist"]],contentQueries:function(r,o,i){if(1&r&&(zn(i,RY,4),zn(i,NY,4),zn(i,Op,4)),2&r){let s;Yt(s=Kt())&&(o.prevIconTemplate=s.first),Yt(s=Kt())&&(o.nextIconTemplate=s.first),Yt(s=Kt())&&(o.templates=s)}},viewQuery:function(r,o){if(1&r&&(Vi(RM,5),Vi(OY,5),Vi(LY,5),Vi(PY,5),Vi(FY,5)),2&r){let i;Yt(i=Kt())&&(o.content=i.first),Yt(i=Kt())&&(o.prevButton=i.first),Yt(i=Kt())&&(o.nextButton=i.first),Yt(i=Kt())&&(o.inkbar=i.first),Yt(i=Kt())&&(o.tabs=i.first)}},hostVars:2,hostBindings:function(r,o){2&r&&Be(o.cx("root"))},features:[or([PM,{provide:FM,useExisting:n},{provide:vo,useExisting:n}]),No([sn]),Ut],ngContentSelectors:id,decls:9,vars:11,consts:[["content",""],["tabs",""],["inkbar",""],["prevButton",""],["nextButton",""],["type","button","pRipple","",3,"pBind","class"],[3,"scroll","pBind"],["role","tablist",3,"pBind"],["role","presentation",3,"pBind"],["type","button","pRipple","",3,"click","pBind"],["data-p-icon","chevron-left"],[4,"ngTemplateOutlet"],["data-p-icon","chevron-right"]],template:function(r,o){if(1&r){const i=fo();Qo(),kr(0,$Y,4,7,"button",5),V(1,"div",6,0),bn("scroll",function(a){return gn(i),mn(o.onScroll(a))}),V(3,"div",7,1),Po(5),gt(6,"span",8,2),G()(),kr(8,WY,4,7,"button",5)}2&r&&(Tr(o.showNavigators()&&o.isPrevButtonEnabled()?0:-1),x(),Be(o.cx("content")),H("pBind",o.ptm("content")),x(2),Be(o.cx("tabList")),H("pBind",o.ptm("tabList")),x(3),Be(o.cx("activeBar")),H("pBind",o.ptm("activeBar")),x(2),Tr(o.showNavigators()&&o.isNextButtonEnabled()?8:-1))},dependencies:[Vr,ec,IY,MY,rG,__,ni,Zi,sn],encapsulation:2,changeDetection:0})}return n})();const BM=new j("TAB_INSTANCE");let HM=(()=>{class n extends _r{$pcTab=D(BM,{optional:!0,skipSelf:!0})??void 0;bindDirectiveInstance=D(sn,{self:!0});onAfterViewChecked(){this.bindDirectiveInstance.setAttrs(this.ptms(["host","root"]))}value=zv();disabled=pe(!1,{transform:Qe});pcTabs=D(xs(()=>sd));pcTabList=D(xs(()=>E_));el=D(xo);_componentStyle=D(LM);ripple=Ht(()=>this.config.ripple());id=Ht(()=>`${this.pcTabs.id()}_tab_${this.value()}`);ariaControls=Ht(()=>`${this.pcTabs.id()}_tabpanel_${this.value()}`);active=Ht(()=>Pp(this.pcTabs.value(),this.value()));tabindex=Ht(()=>this.disabled()?-1:this.active()?this.pcTabs.tabindex():-1);mutationObserver;onFocus(e){this.disabled()||this.pcTabs.selectOnFocus()&&this.changeActiveValue()}onClick(e){this.disabled()||this.changeActiveValue()}onKeyDown(e){switch(e.code){case"ArrowRight":this.onArrowRightKey(e);break;case"ArrowLeft":this.onArrowLeftKey(e);break;case"Home":this.onHomeKey(e);break;case"End":this.onEndKey(e);break;case"PageDown":this.onPageDownKey(e);break;case"PageUp":this.onPageUpKey(e);break;case"Enter":case"NumpadEnter":case"Space":this.onEnterKey(e)}e.stopPropagation()}onAfterViewInit(){this.bindMutationObserver()}onArrowRightKey(e){const r=this.findNextTab(e.currentTarget);r?this.changeFocusedTab(e,r):this.onHomeKey(e),e.preventDefault()}onArrowLeftKey(e){const r=this.findPrevTab(e.currentTarget);r?this.changeFocusedTab(e,r):this.onEndKey(e),e.preventDefault()}onHomeKey(e){const r=this.findFirstTab();this.changeFocusedTab(e,r),e.preventDefault()}onEndKey(e){const r=this.findLastTab();this.changeFocusedTab(e,r),e.preventDefault()}onPageDownKey(e){this.scrollInView(this.findLastTab()),e.preventDefault()}onPageUpKey(e){this.scrollInView(this.findFirstTab()),e.preventDefault()}onEnterKey(e){this.disabled()||this.changeActiveValue(),e.preventDefault()}findNextTab(e,r=!1){const o=r?e:e.nextElementSibling;return o?Qu(o,"data-p-disabled")||"activebar"===Qu(o,"data-pc-section")?this.findNextTab(o):o:null}findPrevTab(e,r=!1){const o=r?e:e.previousElementSibling;return o?Qu(o,"data-p-disabled")||"activebar"===Qu(o,"data-pc-section")?this.findPrevTab(o):o:null}findFirstTab(){return this.findNextTab(this.pcTabList?.tabs?.nativeElement?.firstElementChild,!0)}findLastTab(){return this.findPrevTab(this.pcTabList?.tabs?.nativeElement?.lastElementChild,!0)}changeActiveValue(){this.pcTabs.updateValue(this.value())}changeFocusedTab(e,r){u_(r),this.scrollInView(r)}scrollInView(e){e?.scrollIntoView?.({block:"nearest"})}bindMutationObserver(){as(this.platformId)&&(this.mutationObserver=new MutationObserver(e=>{e.forEach(()=>{this.active()&&this.pcTabList?.updateInkBar()})}),this.mutationObserver.observe(this.el.nativeElement,{childList:!0,characterData:!0,subtree:!0}))}unbindMutationObserver(){this.mutationObserver?.disconnect()}onDestroy(){this.mutationObserver&&this.unbindMutationObserver()}static \u0275fac=(()=>{let e;return function(o){return(e||(e=Ze(n)))(o||n)}})();static \u0275cmp=Mt({type:n,selectors:[["p-tab"]],hostVars:10,hostBindings:function(r,o){1&r&&bn("focus",function(s){return o.onFocus(s)})("click",function(s){return o.onClick(s)})("keydown",function(s){return o.onKeyDown(s)}),2&r&&(nt("id",o.id())("aria-controls",o.ariaControls())("role","tab")("aria-selected",o.active())("aria-disabled",o.disabled())("data-p-disabled",o.disabled())("data-p-active",o.active())("tabindex",o.tabindex()),Be(o.cx("root")))},inputs:{value:[1,"value"],disabled:[1,"disabled"]},outputs:{value:"valueChange"},features:[or([LM,{provide:BM,useExisting:n},{provide:vo,useExisting:n}]),No([__,sn]),Ut],ngContentSelectors:id,decls:1,vars:0,template:function(r,o){1&r&&(Qo(),Po(0))},dependencies:[Vr,ni,Zi],encapsulation:2,changeDetection:0})}return n})();const tK={root:({instance:n})=>["p-tabpanel",{"p-tabpanel-active":n.active()}]};let jM=(()=>{class n extends yr{name="tabpanel";classes=tK;static \u0275fac=(()=>{let e;return function(o){return(e||(e=Ze(n)))(o||n)}})();static \u0275prov=Z({token:n,factory:n.\u0275fac})}return n})();const $M=new j("TABPANEL_INSTANCE");let UM=(()=>{class n extends _r{$pcTabPanel=D($M,{optional:!0,skipSelf:!0})??void 0;bindDirectiveInstance=D(sn,{self:!0});pcTabs=D(xs(()=>sd));onAfterViewChecked(){this.bindDirectiveInstance.setAttrs(this.ptms(["host","root"]))}lazy=pe(!1,{transform:Qe});value=zv(void 0);content=Sj("content");id=Ht(()=>`${this.pcTabs.id()}_tabpanel_${this.value()}`);ariaLabelledby=Ht(()=>`${this.pcTabs.id()}_tab_${this.value()}`);active=Ht(()=>Pp(this.pcTabs.value(),this.value()));isLazyEnabled=Ht(()=>this.pcTabs.lazy()||this.lazy());hasBeenRendered=!1;shouldRender=Ht(()=>!(this.isLazyEnabled()&&!this.hasBeenRendered)||!!this.active()&&(this.hasBeenRendered=!0,!0));_componentStyle=D(jM);static \u0275fac=(()=>{let e;return function(o){return(e||(e=Ze(n)))(o||n)}})();static \u0275cmp=Mt({type:n,selectors:[["p-tabpanel"]],contentQueries:function(r,o,i){1&r&&Tk(i,o.content,RM,5),2&r&&function Ak(n=1){Vd(Kg()+n)}()},hostVars:7,hostBindings:function(r,o){2&r&&(Ui("hidden",!o.active()),nt("id",o.id())("role","tabpanel")("aria-labelledby",o.ariaLabelledby())("data-p-active",o.active()),Be(o.cx("root")))},inputs:{lazy:[1,"lazy"],value:[1,"value"]},outputs:{value:"valueChange"},features:[or([jM,{provide:$M,useExisting:n},{provide:vo,useExisting:n}]),No([sn]),Ut],ngContentSelectors:id,decls:3,vars:1,consts:[["defaultContent",""],[4,"ngTemplateOutlet"]],template:function(r,o){1&r&&(Qo(),qe(0,GY,1,0,"ng-template",null,0,Du),kr(2,YY,1,1,"ng-container")),2&r&&(x(2),Tr(o.shouldRender()?2:-1))},dependencies:[ec,Zi],encapsulation:2,changeDetection:0})}return n})();const rK={root:"p-tabpanels"};let VM=(()=>{class n extends yr{name="tabpanels";classes=rK;static \u0275fac=(()=>{let e;return function(o){return(e||(e=Ze(n)))(o||n)}})();static \u0275prov=Z({token:n,factory:n.\u0275fac})}return n})();const zM=new j("TABPANELS_INSTANCE");let WM=(()=>{class n extends _r{$pcTabPanels=D(zM,{optional:!0,skipSelf:!0})??void 0;bindDirectiveInstance=D(sn,{self:!0});_componentStyle=D(VM);onAfterViewChecked(){this.bindDirectiveInstance.setAttrs(this.ptms(["host","root"]))}static \u0275fac=(()=>{let e;return function(o){return(e||(e=Ze(n)))(o||n)}})();static \u0275cmp=Mt({type:n,selectors:[["p-tabpanels"]],hostVars:3,hostBindings:function(r,o){2&r&&(nt("role","presentation"),Be(o.cx("root")))},features:[or([VM,{provide:zM,useExisting:n},{provide:vo,useExisting:n}]),No([sn]),Ut],ngContentSelectors:id,decls:1,vars:0,template:function(r,o){1&r&&(Qo(),Po(0))},dependencies:[Vr,Zi],encapsulation:2,changeDetection:0})}return n})(),iK=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=yi({type:n});static \u0275inj=Go({imports:[sd,WM,UM,E_,HM,Zi,Zi]})}return n})();const sK=(n,t)=>t.id;function aK(n,t){if(1&n&&(V(0,"div",13)(1,"div",14),gt(2,"img",15),V(3,"div",16)(4,"h5",17),q(5),G()()()()),2&n){const e=t.$implicit;x(2),H("src",function hT(n,t,e=""){return qk(I(),n,t,e)}("data:image/jpeg;base64,",e.Imagen),Wc),x(3),ha(e.Referencia)}}function lK(n,t){1&n&&Nl(0,aK,6,3,"div",13,sK),2&n&&Ol(Q().novedades)}function cK(n,t){1&n&&q(0," No hay novedades ")}let uK=(()=>{class n{messageService;title="ng-carlos-odoo";catalogo=new ry([]);factura=new qf([]);updates=[];inserts=[];novedades=[];constructor(e){this.messageService=e}onCatalogUploaded(e){this.catalogo=e,this.catalogo.productos.some(r=>!r.id)?(this.catalogo.clear(),this.messageService.add({severity:"error",summary:"Error",detail:"El fichero que ha exportado no est\xe1 preparado para exportar/importar, no olvide marcar el check 'Quiero actualizar datos (exportaci\xf3n compatible con importaci\xf3n)'"})):this.messageService.add(80==this.catalogo.Size?{severity:"error",summary:"Error",detail:"S\xf3lo ha importado 80 productos, si hay m\xe1s en el cat\xe1logo no olvide seleccionar todos"}:{severity:"success",detail:"El cat\xe1logo ha sido importado correctamente, puedes continuar al siguiente paso"})}onInvoiceUploaded(e){this.factura=e,this.catalogo.productos.length&&this.generateUpdates()}generateUpdates(){this.updates=[];for(const e of this.factura.lineas){const r=this.catalogo.productos.find(o=>o.Referencia==e.Referencia);if(!r){const o=new Yf({});o.Referencia=e.Referencia,o.Descripcion=e.Articulo.replace("NNN ",""),o.PrecioCoste=e.Precio,o.PrecioVenta=Math.round(1.2*e.Precio*100)/100,o.IVA=e.IVA,this.updates.push(new YA(o,r))}}for(const e of this.factura.lineas){const r=this.catalogo.productos.find(o=>o.Referencia==e.Referencia);if(r){let o=!1;const i=new Yf({});i.id=r.id,i.Descripcion=r.Descripcion.replace("NNN ",""),i.Referencia=r.Referencia,i.PrecioCoste=r.PrecioCoste,i.PrecioVenta=r.PrecioVenta,i.IVA=r.IVA,r.Descripcion.normalize("NFKD").replace(/[^\x00-\x7F]/g,"")!=e.Articulo.normalize("NFKD").replace(/[^\x00-\x7F]/g,"")&&(i.Descripcion=e.Articulo.replace("NNN ",""),o=!0),r.PrecioCoste!=e.Precio&&0!=e.Precio&&(i.PrecioCoste=e.Precio,i.PrecioVenta=Math.round(1.2*e.Precio*100)/100,o=!0),r.IVA!=e.IVA&&(i.IVA=e.IVA,o=!0),o&&this.updates.push(new YA(i,r))}}}consolidateUpdates(){const e=this.updates.filter(r=>r.Active).map(r=>r.New).toCSV(["id","Referencia","Descripcion","PrecioCoste","PrecioVenta","TipoImpuestoVenta","TipoImpuestoCompra"]);dK.download(e,"toImport.csv")}procesarNovedades(e){this.novedades=[];for(const r of e)this.catalogo.Productos.find(o=>o.Referencia==r.Referencia)||this.novedades.push(r)}static \u0275fac=function(r){return new(r||n)(Ce(f_))};static \u0275cmp=Mt({type:n,selectors:[["app-root"]],features:[or([f_])],decls:34,vars:2,consts:[[1,"container-fluid"],["id","loader",1,"loader"],["value","0","scrollable",""],["value","0"],["value","1"],["value","2"],["value","3"],["value","4"],["value","5"],[3,"uploaded"],[3,"updates"],["id","btnDownload",1,"btn","btn-primary",3,"click"],["id","novedades","role","tabpanel","aria-labelledby","novedades-tab",1,"tab-pane","fade"],[1,"col-sm-4"],[1,"card"],["height","150",3,"src"],[1,"card-body"],[1,"card-title"]],template:function(r,o){1&r&&(gt(0,"p-toast"),V(1,"div",0),gt(2,"div",1),V(3,"p-tabs",2)(4,"p-tablist")(5,"p-tab",3),q(6,"Exportar Cat\xe1logo en Odoo"),G(),V(7,"p-tab",4),q(8,"Importar Cat\xe1logo"),G(),V(9,"p-tab",5),q(10,"Factura"),G(),V(11,"p-tab",6),q(12,"Cambios"),G(),V(13,"p-tab",7),q(14,"Consolidar"),G(),V(15,"p-tab",8),q(16,"Novedades"),G()(),V(17,"p-tabpanels")(18,"p-tabpanel",3),gt(19,"app-export-odoo-catalog"),G(),V(20,"p-tabpanel",4)(21,"app-catalogo",9),bn("uploaded",function(s){return o.onCatalogUploaded(s)}),G()(),V(22,"p-tabpanel",5)(23,"app-factura",9),bn("uploaded",function(s){return o.onInvoiceUploaded(s)}),G()(),V(24,"p-tabpanel",6),gt(25,"app-updater",10),G(),V(26,"p-tabpanel",7)(27,"button",11),bn("click",function(){return o.consolidateUpdates()}),q(28,"Consolidar datos"),G()(),V(29,"p-tabpanel",8)(30,"div",12)(31,"app-novedades",9),bn("uploaded",function(s){return o.procesarNovedades(s)}),G(),kr(32,lK,2,0)(33,cK,1,0),G()()()()()),2&r&&(x(25),H("updates",o.updates),x(7),Tr(o.novedades.length?32:33))},dependencies:[dV,aV,K$,Nz,Wq,kY,iK,sd,WM,UM,E_,HM],styles:[".txt-danger[_ngcontent-%COMP%]{font-weight:700}"]})}return n})(),dK=(()=>class n{toJSON(){}static download=function(e,r){const o=new Blob([e],{type:"text/csv;charset=utf-8;"}),i=URL.createObjectURL(o),s=document.createElement("a");s.setAttribute("href",i),s.setAttribute("download",r+".csv"),s.style.display="none",document.body.appendChild(s),s.click(),document.body.removeChild(s),URL.revokeObjectURL(i)}})();function GM(n,t){return n?t?n.endsWith("/")?t.startsWith("/")?n+t.slice(1):n+t:t.startsWith("/")?n+t:`${n}/${t}`:n:t}function qM(n){const t=n.search(/#|\?|$/);return"/"===n[t-1]?n.slice(0,t-1)+n.slice(t):n}function wa(n){return n&&"?"!==n[0]?`?${n}`:n}Array.prototype.fields=function(){return this.length>0?Object.keys(this[0]):[]},Array.prototype.groupBy=function(n){const t=[];for(let e=0;e<this.length;e++){const r=n(this[e]);let o=t.find(i=>JSON.stringify(i.key)===JSON.stringify(r));o||(o={key:r,items:[]},t.push(o)),o.items.push(this[e])}return t},Array.prototype.sum=function(n){return this.map(n).reduce((t,e)=>t+e,0)},Array.prototype.toTable=function(n){if(this.length){const t=n||this.fields();return`<table class="table table-sm table-striped"><thead><tr>${t.map(o=>`<th>${o.toString()}</th>`).join("")}</tr></thead><tbody>${this.map(o=>`<tr>${t.map(i=>`<td>${o[i]??""}</td>`).join("")}</tr>`).join("")}</tbody></table>`}return'<table class="table table-sm table-striped"></table>'},Array.prototype.toCSV=function(n){const t=n||this.fields(),e=this.map(r=>t.map(o=>`"${(r[o]??"").toString().replace(/"/g,'""')}"`).join(","));return[t.join(","),...e].join("\n")};let Vp=(()=>{class n{historyGo(e){throw new Error("")}static \u0275fac=function(r){return new(r||n)};static \u0275prov=Z({token:n,factory:()=>D(fK),providedIn:"root"})}return n})();const hK=new j("");let fK=(()=>{class n extends Vp{_platformLocation;_baseHref;_removeListenerFns=[];constructor(e,r){super(),this._platformLocation=e,this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??D(ur).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}prepareExternalUrl(e){return GM(this._baseHref,e)}path(e=!1){const r=this._platformLocation.pathname+wa(this._platformLocation.search),o=this._platformLocation.hash;return o&&e?`${r}${o}`:r}pushState(e,r,o,i){const s=this.prepareExternalUrl(o+wa(i));this._platformLocation.pushState(e,r,s)}replaceState(e,r,o,i){const s=this.prepareExternalUrl(o+wa(i));this._platformLocation.replaceState(e,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}static \u0275fac=function(r){return new(r||n)(Xe(NC),Xe(hK,8))};static \u0275prov=Z({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),ad=(()=>{class n{_subject=new Yr;_basePath;_locationStrategy;_urlChangeListeners=[];_urlChangeSubscription=null;constructor(e){this._locationStrategy=e;const r=this._locationStrategy.getBaseHref();this._basePath=function mK(n){if(new RegExp("^(https?:)?//").test(n)){const[,e]=n.split(/\/\/[^\/]+/);return e}return n}(qM(YM(r))),this._locationStrategy.onPopState(o=>{this._subject.next({url:this.path(!0),pop:!0,state:o.state,type:o.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(e=!1){return this.normalize(this._locationStrategy.path(e))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(e,r=""){return this.path()==this.normalize(e+wa(r))}normalize(e){return n.stripTrailingSlash(function gK(n,t){if(!n||!t.startsWith(n))return t;const e=t.substring(n.length);return""===e||["/",";","?","#"].includes(e[0])?e:t}(this._basePath,YM(e)))}prepareExternalUrl(e){return e&&"/"!==e[0]&&(e="/"+e),this._locationStrategy.prepareExternalUrl(e)}go(e,r="",o=null){this._locationStrategy.pushState(o,"",e,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+wa(r)),o)}replaceState(e,r="",o=null){this._locationStrategy.replaceState(o,"",e,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+wa(r)),o)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(e=0){this._locationStrategy.historyGo?.(e)}onUrlChange(e){return this._urlChangeListeners.push(e),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{const r=this._urlChangeListeners.indexOf(e);this._urlChangeListeners.splice(r,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(e="",r){this._urlChangeListeners.forEach(o=>o(e,r))}subscribe(e,r,o){return this._subject.subscribe({next:e,error:r??void 0,complete:o??void 0})}static normalizeQueryParams=wa;static joinWithSlash=GM;static stripTrailingSlash=qM;static \u0275fac=function(r){return new(r||n)(Xe(Vp))};static \u0275prov=Z({token:n,factory:()=>function pK(){return new ad(Xe(Vp))}(),providedIn:"root"})}return n})();function YM(n){return n.replace(/\/index.html$/,"")}function KM(n){return!!n&&(n instanceof tr||de(n.lift)&&de(n.subscribe))}function Ss(n){return this instanceof Ss?(this.v=n,this):new Ss(n)}function JM(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e,t=n[Symbol.asyncIterator];return t?t.call(n):(n=function T_(n){var t="function"==typeof Symbol&&Symbol.iterator,e=t&&n[t],r=0;if(e)return e.call(n);if(n&&"number"==typeof n.length)return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(n),e={},r("next"),r("throw"),r("return"),e[Symbol.asyncIterator]=function(){return this},e);function r(i){e[i]=n[i]&&function(s){return new Promise(function(a,l){!function o(i,s,a,l){Promise.resolve(l).then(function(c){i({value:c,done:a})},s)}(a,l,(s=n[i](s)).done,s.value)})}}}"function"==typeof SuppressedError&&SuppressedError;const eR=n=>n&&"number"==typeof n.length&&"function"!=typeof n;function tR(n){return de(n?.then)}function nR(n){return de(n[ug])}function rR(n){return Symbol.asyncIterator&&de(n?.[Symbol.asyncIterator])}function oR(n){return new TypeError(`You provided ${null!==n&&"object"==typeof n?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const iR=function VK(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function sR(n){return de(n?.[iR])}function aR(n){return function QM(n,t,e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var o,r=e.apply(n,t||[]),i=[];return o=Object.create(("function"==typeof AsyncIterator?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",function s(f){return function(p){return Promise.resolve(p).then(f,d)}}),o[Symbol.asyncIterator]=function(){return this},o;function a(f,p){r[f]&&(o[f]=function(g){return new Promise(function(m,b){i.push([f,g,m,b])>1||l(f,g)})},p&&(o[f]=p(o[f])))}function l(f,p){try{!function c(f){f.value instanceof Ss?Promise.resolve(f.value.v).then(u,d):h(i[0][2],f)}(r[f](p))}catch(g){h(i[0][3],g)}}function u(f){l("next",f)}function d(f){l("throw",f)}function h(f,p){f(p),i.shift(),i.length&&l(i[0][0],i[0][1])}}(this,arguments,function*(){const e=n.getReader();try{for(;;){const{value:r,done:o}=yield Ss(e.read());if(o)return yield Ss(void 0);yield yield Ss(r)}}finally{e.releaseLock()}})}function lR(n){return de(n?.getReader)}function Qi(n){if(n instanceof tr)return n;if(null!=n){if(nR(n))return function zK(n){return new tr(t=>{const e=n[ug]();if(de(e.subscribe))return e.subscribe(t);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(n);if(eR(n))return function WK(n){return new tr(t=>{for(let e=0;e<n.length&&!t.closed;e++)t.next(n[e]);t.complete()})}(n);if(tR(n))return function GK(n){return new tr(t=>{n.then(e=>{t.closed||(t.next(e),t.complete())},e=>t.error(e)).then(null,lo)})}(n);if(rR(n))return cR(n);if(sR(n))return function qK(n){return new tr(t=>{for(const e of n)if(t.next(e),t.closed)return;t.complete()})}(n);if(lR(n))return function YK(n){return cR(aR(n))}(n)}throw oR(n)}function cR(n){return new tr(t=>{(function KK(n,t){var e,r,o,i;return function XM(n,t,e,r){return new(e||(e=Promise))(function(i,s){function a(u){try{c(r.next(u))}catch(d){s(d)}}function l(u){try{c(r.throw(u))}catch(d){s(d)}}function c(u){u.done?i(u.value):function o(i){return i instanceof e?i:new e(function(s){s(i)})}(u.value).then(a,l)}c((r=r.apply(n,t||[])).next())})}(this,void 0,void 0,function*(){try{for(e=JM(n);!(r=yield e.next()).done;)if(t.next(r.value),t.closed)return}catch(s){o={error:s}}finally{try{r&&!r.done&&(i=e.return)&&(yield i.call(e))}finally{if(o)throw o.error}}t.complete()})})(n,t).catch(e=>t.error(e))})}function Ji(n,t,e,r=0,o=!1){const i=t.schedule(function(){e(),o?n.add(this.schedule(null,r)):this.unsubscribe()},r);if(n.add(i),!o)return i}function uR(n,t=0){return Pr((e,r)=>{e.subscribe(Fr(r,o=>Ji(r,n,()=>r.next(o),t),()=>Ji(r,n,()=>r.complete(),t),o=>Ji(r,n,()=>r.error(o),t)))})}function dR(n,t=0){return Pr((e,r)=>{r.add(n.schedule(()=>e.subscribe(r),t))})}function hR(n,t){if(!n)throw new Error("Iterable cannot be null");return new tr(e=>{Ji(e,t,()=>{const r=n[Symbol.asyncIterator]();Ji(e,t,()=>{r.next().then(o=>{o.done?e.complete():e.next(o.value)})},0,!0)})})}function yo(n,t){return t?function tX(n,t){if(null!=n){if(nR(n))return function XK(n,t){return Qi(n).pipe(dR(t),uR(t))}(n,t);if(eR(n))return function QK(n,t){return new tr(e=>{let r=0;return t.schedule(function(){r===n.length?e.complete():(e.next(n[r++]),e.closed||this.schedule())})})}(n,t);if(tR(n))return function ZK(n,t){return Qi(n).pipe(dR(t),uR(t))}(n,t);if(rR(n))return hR(n,t);if(sR(n))return function JK(n,t){return new tr(e=>{let r;return Ji(e,t,()=>{r=n[iR](),Ji(e,t,()=>{let o,i;try{({value:o,done:i}=r.next())}catch(s){return void e.error(s)}i?e.complete():e.next(o)},0,!0)}),()=>de(r?.return)&&r.return()})}(n,t);if(lR(n))return function eX(n,t){return hR(aR(n),t)}(n,t)}throw oR(n)}(n,t):Qi(n)}function I_(n){return n[n.length-1]}function zp(n){return function nX(n){return n&&de(n.schedule)}(I_(n))?n.pop():void 0}function kt(...n){return yo(n,zp(n))}const x_=Ge(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"}),{isArray:oX}=Array,{getPrototypeOf:iX,prototype:sX,keys:aX}=Object;const{isArray:uX}=Array;function pX(...n){const t=zp(n),e=function rX(n){return de(I_(n))?n.pop():void 0}(n),{args:r,keys:o}=function lX(n){if(1===n.length){const t=n[0];if(oX(t))return{args:t,keys:null};if(function cX(n){return n&&"object"==typeof n&&iX(n)===sX}(t)){const e=aX(t);return{args:e.map(r=>t[r]),keys:e}}}return{args:n,keys:null}}(n);if(0===r.length)return yo([],t);const i=new tr(function gX(n,t,e=Pa){return r=>{fR(t,()=>{const{length:o}=n,i=new Array(o);let s=o,a=o;for(let l=0;l<o;l++)fR(t,()=>{const c=yo(n[l],t);let u=!1;c.subscribe(Fr(r,d=>{i[l]=d,u||(u=!0,a--),a||r.next(e(i.slice()))},()=>{--s||r.complete()}))},r)},r)}}(r,t,o?s=>function fX(n,t){return n.reduce((e,r,o)=>(e[r]=t[o],e),{})}(o,s):Pa));return e?i.pipe(function hX(n){return Qn(t=>function dX(n,t){return uX(t)?n(...t):n(t)}(n,t))}(e)):i}function fR(n,t,e){n?Ji(e,n,t):t()}function ii(n,t,e=1/0){return de(t)?ii((r,o)=>Qn((i,s)=>t(r,i,o,s))(Qi(n(r,o))),e):("number"==typeof t&&(e=t),Pr((r,o)=>function mX(n,t,e,r,o,i,s,a){const l=[];let c=0,u=0,d=!1;const h=()=>{d&&!l.length&&!c&&t.complete()},f=g=>c<r?p(g):l.push(g),p=g=>{i&&t.next(g),c++;let m=!1;Qi(e(g,u++)).subscribe(Fr(t,b=>{o?.(b),i?f(b):t.next(b)},()=>{m=!0},void 0,()=>{if(m)try{for(c--;l.length&&c<r;){const b=l.shift();s?Ji(t,s,()=>p(b)):p(b)}h()}catch(b){t.error(b)}}))};return n.subscribe(Fr(t,f,()=>{d=!0,h()})),()=>{a?.()}}(r,o,n,e)))}function R_(...n){return function bX(){return function M_(n=1/0){return ii(Pa,n)}(1)}()(yo(n,zp(n)))}function N_(n){return new tr(t=>{Qi(n()).subscribe(t)})}const si=new tr(n=>n.complete());function Ea(n,t){return Pr((e,r)=>{let o=0;e.subscribe(Fr(r,i=>n.call(t,i,o++)&&r.next(i)))})}function ac(n){return n<=0?()=>si:Pr((t,e)=>{let r=0;t.subscribe(Fr(e,o=>{++r<=n&&(e.next(o),n<=r&&e.complete())}))})}function CX(n=wX){return Pr((t,e)=>{let r=!1;t.subscribe(Fr(e,o=>{r=!0,e.next(o)},()=>r?e.complete():e.error(n())))})}function wX(){return new x_}function Da(n,t){const e=arguments.length>=2;return r=>r.pipe(n?Ea((o,i)=>n(o,i,r)):Pa,ac(1),e?function _X(n){return Pr((t,e)=>{let r=!1;t.subscribe(Fr(e,o=>{r=!0,e.next(o)},()=>{r||e.next(n),e.complete()}))})}(t):CX(()=>new x_))}function ks(n,t){return Pr((e,r)=>{let o=null,i=0,s=!1;const a=()=>s&&!o&&r.complete();e.subscribe(Fr(r,l=>{o?.unsubscribe();let c=0;const u=i++;Qi(n(l,u)).subscribe(o=Fr(r,d=>r.next(t?t(l,d,u,c++):d),()=>{o=null,a()}))},()=>{s=!0,a()}))})}function O_(n){return Pr((t,e)=>{Qi(n).subscribe(Fr(e,()=>e.complete(),kn)),!e.closed&&t.subscribe(e)})}function pR(n,t){return de(t)?ii(n,t,1):ii(n,1)}function _o(n,t,e){const r=de(n)||t||e?{next:n,error:t,complete:e}:n;return r?Pr((o,i)=>{var s;null===(s=r.subscribe)||void 0===s||s.call(r);let a=!0;o.subscribe(Fr(i,l=>{var c;null===(c=r.next)||void 0===c||c.call(r,l),i.next(l)},()=>{var l;a=!1,null===(l=r.complete)||void 0===l||l.call(r),i.complete()},l=>{var c;a=!1,null===(c=r.error)||void 0===c||c.call(r,l),i.error(l)},()=>{var l,c;a&&(null===(l=r.unsubscribe)||void 0===l||l.call(r)),null===(c=r.finalize)||void 0===c||c.call(r)}))}):Pa}function gR(n){return n<=0?()=>si:Pr((t,e)=>{let r=[];t.subscribe(Fr(e,o=>{r.push(o),n<r.length&&r.shift()},()=>{for(const o of r)e.next(o);e.complete()},void 0,()=>{r=null}))})}function L_(n){return Pr((t,e)=>{let i,r=null,o=!1;r=t.subscribe(Fr(e,void 0,void 0,s=>{i=Qi(n(s,L_(n)(t))),r?(r.unsubscribe(),r=null,i.subscribe(e)):o=!0})),o&&(r.unsubscribe(),r=null,i.subscribe(e))})}let SX=(()=>{class n{_doc;constructor(e){this._doc=e}getTitle(){return this._doc.title}setTitle(e){this._doc.title=e||""}static \u0275fac=function(r){return new(r||n)(Xe(ur))};static \u0275prov=Z({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const Se="primary",cd=Symbol("RouteTitle");class IX{params;constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function lc(n){return new IX(n)}function xX(n,t,e){const r=e.path.split("/");if(r.length>n.length||"full"===e.pathMatch&&(t.hasChildren()||r.length<n.length))return null;const o={};for(let i=0;i<r.length;i++){const s=r[i],a=n[i];if(":"===s[0])o[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:n.slice(0,r.length),posParams:o}}function Wp(n){return new Promise((t,e)=>{n.pipe(Da()).subscribe({next:r=>t(r),error:r=>e(r)})})}function ki(n,t){const e=n?P_(n):void 0,r=t?P_(t):void 0;if(!e||!r||e.length!=r.length)return!1;let o;for(let i=0;i<e.length;i++)if(o=e[i],!vR(n[o],t[o]))return!1;return!0}function P_(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}function vR(n,t){if(Array.isArray(n)&&Array.isArray(t)){if(n.length!==t.length)return!1;const e=[...n].sort(),r=[...t].sort();return e.every((o,i)=>r[i]===o)}return n===t}function yR(n){return n.length>0?n[n.length-1]:null}function As(n){return KM(n)?n:uf(n)?yo(Promise.resolve(n)):kt(n)}function _R(n){return KM(n)?Wp(n):Promise.resolve(n)}const RX={exact:function ER(n,t,e){if(!Sa(n.segments,t.segments)||!Gp(n.segments,t.segments,e)||n.numberOfChildren!==t.numberOfChildren)return!1;for(const r in t.children)if(!n.children[r]||!ER(n.children[r],t.children[r],e))return!1;return!0},subset:DR},CR={exact:function NX(n,t){return ki(n,t)},subset:function OX(n,t){return Object.keys(t).length<=Object.keys(n).length&&Object.keys(t).every(e=>vR(n[e],t[e]))},ignored:()=>!0};function wR(n,t,e){return RX[e.paths](n.root,t.root,e.matrixParams)&&CR[e.queryParams](n.queryParams,t.queryParams)&&!("exact"===e.fragment&&n.fragment!==t.fragment)}function DR(n,t,e){return SR(n,t,t.segments,e)}function SR(n,t,e,r){if(n.segments.length>e.length){const o=n.segments.slice(0,e.length);return!(!Sa(o,e)||t.hasChildren()||!Gp(o,e,r))}if(n.segments.length===e.length){if(!Sa(n.segments,e)||!Gp(n.segments,e,r))return!1;for(const o in t.children)if(!n.children[o]||!DR(n.children[o],t.children[o],r))return!1;return!0}{const o=e.slice(0,n.segments.length),i=e.slice(n.segments.length);return!!(Sa(n.segments,o)&&Gp(n.segments,o,r)&&n.children[Se])&&SR(n.children[Se],t,i,r)}}function Gp(n,t,e){return t.every((r,o)=>CR[e](n[o].parameters,r.parameters))}class Ti{root;queryParams;fragment;_queryParamMap;constructor(t=new Vt([],{}),e={},r=null){this.root=t,this.queryParams=e,this.fragment=r}get queryParamMap(){return this._queryParamMap??=lc(this.queryParams),this._queryParamMap}toString(){return FX.serialize(this)}}class Vt{segments;children;parent=null;constructor(t,e){this.segments=t,this.children=e,Object.values(e).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Yp(this)}}class ud{path;parameters;_parameterMap;constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap??=lc(this.parameters),this._parameterMap}toString(){return AR(this)}}function Sa(n,t){return n.length===t.length&&n.every((e,r)=>e.path===t[r].path)}let qp=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=Z({token:n,factory:()=>new dd,providedIn:"root"})}return n})();class dd{parse(t){const e=new YX(t);return new Ti(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){const e=`/${hd(t.root,!0)}`,r=function jX(n){const t=Object.entries(n).map(([e,r])=>Array.isArray(r)?r.map(o=>`${Kp(e)}=${Kp(o)}`).join("&"):`${Kp(e)}=${Kp(r)}`).filter(e=>e);return t.length?`?${t.join("&")}`:""}(t.queryParams);return`${e}${r}${"string"==typeof t.fragment?`#${function BX(n){return encodeURI(n)}(t.fragment)}`:""}`}}const FX=new dd;function Yp(n){return n.segments.map(t=>AR(t)).join("/")}function hd(n,t){if(!n.hasChildren())return Yp(n);if(t){const e=n.children[Se]?hd(n.children[Se],!1):"",r=[];return Object.entries(n.children).forEach(([o,i])=>{o!==Se&&r.push(`${o}:${hd(i,!1)}`)}),r.length>0?`${e}(${r.join("//")})`:e}{const e=function PX(n,t){let e=[];return Object.entries(n.children).forEach(([r,o])=>{r===Se&&(e=e.concat(t(o,r)))}),Object.entries(n.children).forEach(([r,o])=>{r!==Se&&(e=e.concat(t(o,r)))}),e}(n,(r,o)=>o===Se?[hd(n.children[Se],!1)]:[`${o}:${hd(r,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[Se]?`${Yp(n)}/${e[0]}`:`${Yp(n)}/(${e.join("//")})`}}function kR(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Kp(n){return kR(n).replace(/%3B/gi,";")}function F_(n){return kR(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Xp(n){return decodeURIComponent(n)}function TR(n){return Xp(n.replace(/\+/g,"%20"))}function AR(n){return`${F_(n.path)}${function HX(n){return Object.entries(n).map(([t,e])=>`;${F_(t)}=${F_(e)}`).join("")}(n.parameters)}`}const $X=/^[^\/()?;#]+/;function B_(n){const t=n.match($X);return t?t[0]:""}const UX=/^[^\/()?;=#]+/,zX=/^[^=?&#]+/,GX=/^[^&#]+/;class YX{url;remaining;constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Vt([],{}):new Vt([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(r[Se]=new Vt(t,e)),r}parseSegment(){const t=B_(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new R(4009,!1);return this.capture(t),new ud(Xp(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const e=function VX(n){const t=n.match(UX);return t?t[0]:""}(this.remaining);if(!e)return;this.capture(e);let r="";if(this.consumeOptional("=")){const o=B_(this.remaining);o&&(r=o,this.capture(r))}t[Xp(e)]=Xp(r)}parseQueryParam(t){const e=function WX(n){const t=n.match(zX);return t?t[0]:""}(this.remaining);if(!e)return;this.capture(e);let r="";if(this.consumeOptional("=")){const s=function qX(n){const t=n.match(GX);return t?t[0]:""}(this.remaining);s&&(r=s,this.capture(r))}const o=TR(e),i=TR(r);if(t.hasOwnProperty(o)){let s=t[o];Array.isArray(s)||(s=[s],t[o]=s),s.push(i)}else t[o]=i}parseParens(t){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=B_(this.remaining),o=this.remaining[r.length];if("/"!==o&&")"!==o&&";"!==o)throw new R(4010,!1);let i;r.indexOf(":")>-1?(i=r.slice(0,r.indexOf(":")),this.capture(i),this.capture(":")):t&&(i=Se);const s=this.parseChildren();e[i??Se]=1===Object.keys(s).length&&s[Se]?s[Se]:new Vt([],s),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new R(4011,!1)}}function IR(n){return n.segments.length>0?new Vt([],{[Se]:n}):n}function xR(n){const t={};for(const[r,o]of Object.entries(n.children)){const i=xR(o);if(r===Se&&0===i.segments.length&&i.hasChildren())for(const[s,a]of Object.entries(i.children))t[s]=a;else(i.segments.length>0||i.hasChildren())&&(t[r]=i)}return function KX(n){if(1===n.numberOfChildren&&n.children[Se]){const t=n.children[Se];return new Vt(n.segments.concat(t.segments),t.children)}return n}(new Vt(n.segments,t))}function ka(n){return n instanceof Ti}function RR(n){let t;const o=IR(function e(i){const s={};for(const l of i.children){const c=e(l);s[l.outlet]=c}const a=new Vt(i.url,s);return i===n&&(t=a),a}(n.root));return t??o}function NR(n,t,e,r,o){let i=n;for(;i.parent;)i=i.parent;if(0===t.length)return H_(i,i,i,e,r,o);const s=function XX(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new PR(!0,0,n);let t=0,e=!1;const r=n.reduce((o,i,s)=>{if("object"==typeof i&&null!=i){if(i.outlets){const a={};return Object.entries(i.outlets).forEach(([l,c])=>{a[l]="string"==typeof c?c.split("/"):c}),[...o,{outlets:a}]}if(i.segmentPath)return[...o,i.segmentPath]}return"string"!=typeof i?[...o,i]:0===s?(i.split("/").forEach((a,l)=>{0==l&&"."===a||(0==l&&""===a?e=!0:".."===a?t++:""!=a&&o.push(a))}),o):[...o,i]},[]);return new PR(e,t,r)}(t);if(s.toRoot())return H_(i,i,new Vt([],{}),e,r,o);const a=function ZX(n,t,e){if(n.isAbsolute)return new Qp(t,!0,0);if(!e)return new Qp(t,!1,NaN);if(null===e.parent)return new Qp(e,!0,0);const r=Zp(n.commands[0])?0:1;return function QX(n,t,e){let r=n,o=t,i=e;for(;i>o;){if(i-=o,r=r.parent,!r)throw new R(4005,!1);o=r.segments.length}return new Qp(r,!1,o-i)}(e,e.segments.length-1+r,n.numberOfDoubleDots)}(s,i,n),l=a.processChildren?pd(a.segmentGroup,a.index,s.commands):FR(a.segmentGroup,a.index,s.commands);return H_(i,a.segmentGroup,l,e,r,o)}function Zp(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function fd(n){return"object"==typeof n&&null!=n&&n.outlets}function OR(n,t,e){n||="\u0275";const r=new Ti;return r.queryParams={[n]:t},e.parse(e.serialize(r)).queryParams[n]}function H_(n,t,e,r,o,i){const s={};for(const[c,u]of Object.entries(r??{}))s[c]=Array.isArray(u)?u.map(d=>OR(c,d,i)):OR(c,u,i);let a;a=n===t?e:LR(n,t,e);const l=IR(xR(a));return new Ti(l,s,o)}function LR(n,t,e){const r={};return Object.entries(n.children).forEach(([o,i])=>{r[o]=i===t?e:LR(i,t,e)}),new Vt(n.segments,r)}class PR{isAbsolute;numberOfDoubleDots;commands;constructor(t,e,r){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=r,t&&r.length>0&&Zp(r[0]))throw new R(4003,!1);const o=r.find(fd);if(o&&o!==yR(r))throw new R(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Qp{segmentGroup;processChildren;index;constructor(t,e,r){this.segmentGroup=t,this.processChildren=e,this.index=r}}function FR(n,t,e){if(n??=new Vt([],{}),0===n.segments.length&&n.hasChildren())return pd(n,t,e);const r=function eZ(n,t,e){let r=0,o=t;const i={match:!1,pathIndex:0,commandIndex:0};for(;o<n.segments.length;){if(r>=e.length)return i;const s=n.segments[o],a=e[r];if(fd(a))break;const l=`${a}`,c=r<e.length-1?e[r+1]:null;if(o>0&&void 0===l)break;if(l&&c&&"object"==typeof c&&void 0===c.outlets){if(!HR(l,c,s))return i;r+=2}else{if(!HR(l,{},s))return i;r++}o++}return{match:!0,pathIndex:o,commandIndex:r}}(n,t,e),o=e.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){const i=new Vt(n.segments.slice(0,r.pathIndex),{});return i.children[Se]=new Vt(n.segments.slice(r.pathIndex),n.children),pd(i,0,o)}return r.match&&0===o.length?new Vt(n.segments,{}):r.match&&!n.hasChildren()?j_(n,t,e):r.match?pd(n,0,o):j_(n,t,e)}function pd(n,t,e){if(0===e.length)return new Vt(n.segments,{});{const r=function JX(n){return fd(n[0])?n[0].outlets:{[Se]:n}}(e),o={};if(Object.keys(r).some(i=>i!==Se)&&n.children[Se]&&1===n.numberOfChildren&&0===n.children[Se].segments.length){const i=pd(n.children[Se],t,e);return new Vt(n.segments,i.children)}return Object.entries(r).forEach(([i,s])=>{"string"==typeof s&&(s=[s]),null!==s&&(o[i]=FR(n.children[i],t,s))}),Object.entries(n.children).forEach(([i,s])=>{void 0===r[i]&&(o[i]=s)}),new Vt(n.segments,o)}}function j_(n,t,e){const r=n.segments.slice(0,t);let o=0;for(;o<e.length;){const i=e[o];if(fd(i)){const l=tZ(i.outlets);return new Vt(r,l)}if(0===o&&Zp(e[0])){r.push(new ud(n.segments[t].path,BR(e[0]))),o++;continue}const s=fd(i)?i.outlets[Se]:`${i}`,a=o<e.length-1?e[o+1]:null;s&&a&&Zp(a)?(r.push(new ud(s,BR(a))),o+=2):(r.push(new ud(s,{})),o++)}return new Vt(r,{})}function tZ(n){const t={};return Object.entries(n).forEach(([e,r])=>{"string"==typeof r&&(r=[r]),null!==r&&(t[e]=j_(new Vt([],{}),0,r))}),t}function BR(n){const t={};return Object.entries(n).forEach(([e,r])=>t[e]=`${r}`),t}function HR(n,t,e){return n==e.path&&ki(t,e.parameters)}const Jp="imperative";var _t=function(n){return n[n.NavigationStart=0]="NavigationStart",n[n.NavigationEnd=1]="NavigationEnd",n[n.NavigationCancel=2]="NavigationCancel",n[n.NavigationError=3]="NavigationError",n[n.RoutesRecognized=4]="RoutesRecognized",n[n.ResolveStart=5]="ResolveStart",n[n.ResolveEnd=6]="ResolveEnd",n[n.GuardsCheckStart=7]="GuardsCheckStart",n[n.GuardsCheckEnd=8]="GuardsCheckEnd",n[n.RouteConfigLoadStart=9]="RouteConfigLoadStart",n[n.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",n[n.ChildActivationStart=11]="ChildActivationStart",n[n.ChildActivationEnd=12]="ChildActivationEnd",n[n.ActivationStart=13]="ActivationStart",n[n.ActivationEnd=14]="ActivationEnd",n[n.Scroll=15]="Scroll",n[n.NavigationSkipped=16]="NavigationSkipped",n}(_t||{});class Ai{id;url;constructor(t,e){this.id=t,this.url=e}}class $_ extends Ai{type=_t.NavigationStart;navigationTrigger;restoredState;constructor(t,e,r="imperative",o=null){super(t,e),this.navigationTrigger=r,this.restoredState=o}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Ta extends Ai{urlAfterRedirects;type=_t.NavigationEnd;constructor(t,e,r){super(t,e),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}var Wr=function(n){return n[n.Redirect=0]="Redirect",n[n.SupersededByNewNavigation=1]="SupersededByNewNavigation",n[n.NoDataFromResolver=2]="NoDataFromResolver",n[n.GuardRejected=3]="GuardRejected",n[n.Aborted=4]="Aborted",n}(Wr||{}),U_=function(n){return n[n.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",n[n.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",n}(U_||{});class Aa extends Ai{reason;code;type=_t.NavigationCancel;constructor(t,e,r,o){super(t,e),this.reason=r,this.code=o}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class gd extends Ai{reason;code;type=_t.NavigationSkipped;constructor(t,e,r,o){super(t,e),this.reason=r,this.code=o}}class V_ extends Ai{error;target;type=_t.NavigationError;constructor(t,e,r,o){super(t,e),this.error=r,this.target=o}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class jR extends Ai{urlAfterRedirects;state;type=_t.RoutesRecognized;constructor(t,e,r,o){super(t,e),this.urlAfterRedirects=r,this.state=o}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class nZ extends Ai{urlAfterRedirects;state;type=_t.GuardsCheckStart;constructor(t,e,r,o){super(t,e),this.urlAfterRedirects=r,this.state=o}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class rZ extends Ai{urlAfterRedirects;state;shouldActivate;type=_t.GuardsCheckEnd;constructor(t,e,r,o,i){super(t,e),this.urlAfterRedirects=r,this.state=o,this.shouldActivate=i}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class oZ extends Ai{urlAfterRedirects;state;type=_t.ResolveStart;constructor(t,e,r,o){super(t,e),this.urlAfterRedirects=r,this.state=o}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class iZ extends Ai{urlAfterRedirects;state;type=_t.ResolveEnd;constructor(t,e,r,o){super(t,e),this.urlAfterRedirects=r,this.state=o}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class sZ{route;type=_t.RouteConfigLoadStart;constructor(t){this.route=t}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class aZ{route;type=_t.RouteConfigLoadEnd;constructor(t){this.route=t}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class lZ{snapshot;type=_t.ChildActivationStart;constructor(t){this.snapshot=t}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class cZ{snapshot;type=_t.ChildActivationEnd;constructor(t){this.snapshot=t}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class uZ{snapshot;type=_t.ActivationStart;constructor(t){this.snapshot=t}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class dZ{snapshot;type=_t.ActivationEnd;constructor(t){this.snapshot=t}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class z_{}class eg{url;navigationBehaviorOptions;constructor(t,e){this.url=t,this.navigationBehaviorOptions=e}}function Gr(n){return n.outlet||Se}function $R(n,t){const e=n.filter(r=>Gr(r)===t);return e.push(...n.filter(r=>Gr(r)!==t)),e}function cc(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let t=n.parent;t;t=t.parent){const e=t.routeConfig;if(e?._loadedInjector)return e._loadedInjector;if(e?._injector)return e._injector}return null}class bZ{rootInjector;outlet=null;route=null;children;attachRef=null;get injector(){return cc(this.route?.snapshot)??this.rootInjector}constructor(t){this.rootInjector=t,this.children=new md(this.rootInjector)}}let md=(()=>{class n{rootInjector;contexts=new Map;constructor(e){this.rootInjector=e}onChildOutletCreated(e,r){const o=this.getOrCreateContext(e);o.outlet=r,this.contexts.set(e,o)}onChildOutletDestroyed(e){const r=this.getContext(e);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){const e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let r=this.getContext(e);return r||(r=new bZ(this.rootInjector),this.contexts.set(e,r)),r}getContext(e){return this.contexts.get(e)||null}static \u0275fac=function(r){return new(r||n)(Xe(Rr))};static \u0275prov=Z({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();class UR{_root;constructor(t){this._root=t}get root(){return this._root.value}parent(t){const e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){const e=W_(t,this._root);return e?e.children.map(r=>r.value):[]}firstChild(t){const e=W_(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){const e=G_(t,this._root);return e.length<2?[]:e[e.length-2].children.map(o=>o.value).filter(o=>o!==t)}pathFromRoot(t){return G_(t,this._root).map(e=>e.value)}}function W_(n,t){if(n===t.value)return t;for(const e of t.children){const r=W_(n,e);if(r)return r}return null}function G_(n,t){if(n===t.value)return[t];for(const e of t.children){const r=G_(n,e);if(r.length)return r.unshift(t),r}return[]}class ar{value;children;constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}}function uc(n){const t={};return n&&n.children.forEach(e=>t[e.value.outlet]=e),t}class VR extends UR{snapshot;constructor(t,e){super(t),this.snapshot=e,Y_(this,t)}toString(){return this.snapshot.toString()}}function zR(n){const t=function vZ(n){const i=new Ia([],{},{},"",{},Se,n,null,{});return new q_("",new ar(i,[]))}(n),e=new Eo([new ud("",{})]),r=new Eo({}),o=new Eo({}),i=new Eo({}),s=new Eo(""),a=new dc(e,r,i,s,o,Se,n,t.root);return a.snapshot=t.root,new VR(new ar(a,[]),t)}class dc{urlSubject;paramsSubject;queryParamsSubject;fragmentSubject;dataSubject;outlet;component;snapshot;_futureSnapshot;_routerState;_paramMap;_queryParamMap;title;url;params;queryParams;fragment;data;constructor(t,e,r,o,i,s,a,l){this.urlSubject=t,this.paramsSubject=e,this.queryParamsSubject=r,this.fragmentSubject=o,this.dataSubject=i,this.outlet=s,this.component=a,this._futureSnapshot=l,this.title=this.dataSubject?.pipe(Qn(c=>c[cd]))??kt(void 0),this.url=t,this.params=e,this.queryParams=r,this.fragment=o,this.data=i}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(Qn(t=>lc(t))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(Qn(t=>lc(t))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function hc(n,t,e="emptyOnly"){let r;const{routeConfig:o}=n;return r=null===t||"always"!==e&&""!==o?.path&&(t.component||t.routeConfig?.loadComponent)?{params:{...n.params},data:{...n.data},resolve:{...n.data,...n._resolvedData??{}}}:{params:{...t.params,...n.params},data:{...t.data,...n.data},resolve:{...n.data,...t.data,...o?.data,...n._resolvedData}},o&&GR(o)&&(r.resolve[cd]=o.title),r}class Ia{url;params;queryParams;fragment;data;outlet;component;routeConfig;_resolve;_resolvedData;_routerState;_paramMap;_queryParamMap;get title(){return this.data?.[cd]}constructor(t,e,r,o,i,s,a,l,c){this.url=t,this.params=e,this.queryParams=r,this.fragment=o,this.data=i,this.outlet=s,this.component=a,this.routeConfig=l,this._resolve=c}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=lc(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=lc(this.queryParams),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class q_ extends UR{url;constructor(t,e){super(e),this.url=t,Y_(this,e)}toString(){return WR(this._root)}}function Y_(n,t){t.value._routerState=n,t.children.forEach(e=>Y_(n,e))}function WR(n){const t=n.children.length>0?` { ${n.children.map(WR).join(", ")} } `:"";return`${n.value}${t}`}function K_(n){if(n.snapshot){const t=n.snapshot,e=n._futureSnapshot;n.snapshot=e,ki(t.queryParams,e.queryParams)||n.queryParamsSubject.next(e.queryParams),t.fragment!==e.fragment&&n.fragmentSubject.next(e.fragment),ki(t.params,e.params)||n.paramsSubject.next(e.params),function MX(n,t){if(n.length!==t.length)return!1;for(let e=0;e<n.length;++e)if(!ki(n[e],t[e]))return!1;return!0}(t.url,e.url)||n.urlSubject.next(e.url),ki(t.data,e.data)||n.dataSubject.next(e.data)}else n.snapshot=n._futureSnapshot,n.dataSubject.next(n._futureSnapshot.data)}function X_(n,t){const e=ki(n.params,t.params)&&function LX(n,t){return Sa(n,t)&&n.every((e,r)=>ki(e.parameters,t[r].parameters))}(n.url,t.url);return e&&!(!n.parent!=!t.parent)&&(!n.parent||X_(n.parent,t.parent))}function GR(n){return"string"==typeof n.title||null===n.title}const yZ=new j("");let qR=(()=>{class n{activated=null;get activatedComponentRef(){return this.activated}_activatedRoute=null;name=Se;activateEvents=new un;deactivateEvents=new un;attachEvents=new un;detachEvents=new un;routerOutletData=pe();parentContexts=D(md);location=D(Zo);changeDetector=D(jf);inputBinder=D(Z_,{optional:!0});supportsBindingToComponentInputs=!0;ngOnChanges(e){if(e.name){const{firstChange:r,previousValue:o}=e.name;if(r)return;this.isTrackedInParentContexts(o)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(o)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(e){return this.parentContexts.getContext(e)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const e=this.parentContexts.getContext(this.name);e?.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new R(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new R(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new R(4012,!1);this.location.detach();const e=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(e.instance),e}attach(e,r){this.activated=e,this._activatedRoute=r,this.location.insert(e.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(e.instance)}deactivate(){if(this.activated){const e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,r){if(this.isActivated)throw new R(4013,!1);this._activatedRoute=e;const o=this.location,s=e.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,l=new _Z(e,a,o.injector,this.routerOutletData);this.activated=o.createComponent(s,{index:o.length,injector:l,environmentInjector:r}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static \u0275fac=function(r){return new(r||n)};static \u0275dir=xn({type:n,selectors:[["router-outlet"]],inputs:{name:"name",routerOutletData:[1,"routerOutletData"]},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],features:[Vs]})}return n})();class _Z{route;childContexts;parent;outletData;constructor(t,e,r,o){this.route=t,this.childContexts=e,this.parent=r,this.outletData=o}get(t,e){return t===dc?this.route:t===md?this.childContexts:t===yZ?this.outletData:this.parent.get(t,e)}}const Z_=new j("");let YR=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275cmp=Mt({type:n,selectors:[["ng-component"]],exportAs:["emptyRouterOutlet"],decls:1,vars:0,template:function(r,o){1&r&&gt(0,"router-outlet")},dependencies:[qR],encapsulation:2})}return n})();function Q_(n){const t=n.children&&n.children.map(Q_),e=t?{...n,children:t}:{...n};return!e.component&&!e.loadComponent&&(t||e.loadChildren)&&e.outlet&&e.outlet!==Se&&(e.component=YR),e}function bd(n,t,e){if(e&&n.shouldReuseRoute(t.value,e.value.snapshot)){const r=e.value;r._futureSnapshot=t.value;const o=function wZ(n,t,e){return t.children.map(r=>{for(const o of e.children)if(n.shouldReuseRoute(r.value,o.value.snapshot))return bd(n,r,o);return bd(n,r)})}(n,t,e);return new ar(r,o)}{if(n.shouldAttach(t.value)){const i=n.retrieve(t.value);if(null!==i){const s=i.route;return s.value._futureSnapshot=t.value,s.children=t.children.map(a=>bd(n,a)),s}}const r=function EZ(n){return new dc(new Eo(n.url),new Eo(n.params),new Eo(n.queryParams),new Eo(n.fragment),new Eo(n.data),n.outlet,n.component,n)}(t.value),o=t.children.map(i=>bd(n,i));return new ar(r,o)}}class J_{redirectTo;navigationBehaviorOptions;constructor(t,e){this.redirectTo=t,this.navigationBehaviorOptions=e}}const KR="ngNavigationCancelingError";function tg(n,t){const{redirectTo:e,navigationBehaviorOptions:r}=ka(t)?{redirectTo:t,navigationBehaviorOptions:void 0}:t,o=e0(!1,Wr.Redirect);return o.url=e,o.navigationBehaviorOptions=r,o}function e0(n,t){const e=new Error(`NavigationCancelingError: ${n||""}`);return e[KR]=!0,e.cancellationCode=t,e}function XR(n){return!!n&&n[KR]}class kZ{routeReuseStrategy;futureState;currState;forwardEvent;inputBindingEnabled;constructor(t,e,r,o,i){this.routeReuseStrategy=t,this.futureState=e,this.currState=r,this.forwardEvent=o,this.inputBindingEnabled=i}activate(t){const e=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,r,t),K_(this.futureState.root),this.activateChildRoutes(e,r,t)}deactivateChildRoutes(t,e,r){const o=uc(e);t.children.forEach(i=>{const s=i.value.outlet;this.deactivateRoutes(i,o[s],r),delete o[s]}),Object.values(o).forEach(i=>{this.deactivateRouteAndItsChildren(i,r)})}deactivateRoutes(t,e,r){const o=t.value,i=e?e.value:null;if(o===i)if(o.component){const s=r.getContext(o.outlet);s&&this.deactivateChildRoutes(t,e,s.children)}else this.deactivateChildRoutes(t,e,r);else i&&this.deactivateRouteAndItsChildren(e,r)}deactivateRouteAndItsChildren(t,e){t.value.component&&this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){const r=e.getContext(t.value.outlet),o=r&&t.value.component?r.children:e,i=uc(t);for(const s of Object.values(i))this.deactivateRouteAndItsChildren(s,o);if(r&&r.outlet){const s=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:s,route:t,contexts:a})}}deactivateRouteAndOutlet(t,e){const r=e.getContext(t.value.outlet),o=r&&t.value.component?r.children:e,i=uc(t);for(const s of Object.values(i))this.deactivateRouteAndItsChildren(s,o);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(t,e,r){const o=uc(e);t.children.forEach(i=>{this.activateRoutes(i,o[i.value.outlet],r),this.forwardEvent(new dZ(i.value.snapshot))}),t.children.length&&this.forwardEvent(new cZ(t.value.snapshot))}activateRoutes(t,e,r){const o=t.value,i=e?e.value:null;if(K_(o),o===i)if(o.component){const s=r.getOrCreateContext(o.outlet);this.activateChildRoutes(t,e,s.children)}else this.activateChildRoutes(t,e,r);else if(o.component){const s=r.getOrCreateContext(o.outlet);if(this.routeReuseStrategy.shouldAttach(o.snapshot)){const a=this.routeReuseStrategy.retrieve(o.snapshot);this.routeReuseStrategy.store(o.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),K_(a.route.value),this.activateChildRoutes(t,null,s.children)}else s.attachRef=null,s.route=o,s.outlet&&s.outlet.activateWith(o,s.injector),this.activateChildRoutes(t,null,s.children)}else this.activateChildRoutes(t,null,r)}}class ZR{path;route;constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class ng{component;route;constructor(t,e){this.component=t,this.route=e}}function TZ(n,t,e){const r=n._root;return vd(r,t?t._root:null,e,[r.value])}function fc(n,t){const e=Symbol(),r=t.get(n,e);return r===e?"function"!=typeof n||function WN(n){return null!==Td(n)}(n)?t.get(n):n:r}function vd(n,t,e,r,o={canDeactivateChecks:[],canActivateChecks:[]}){const i=uc(t);return n.children.forEach(s=>{(function IZ(n,t,e,r,o={canDeactivateChecks:[],canActivateChecks:[]}){const i=n.value,s=t?t.value:null,a=e?e.getContext(n.value.outlet):null;if(s&&i.routeConfig===s.routeConfig){const l=function xZ(n,t,e){if("function"==typeof e)return e(n,t);switch(e){case"pathParamsChange":return!Sa(n.url,t.url);case"pathParamsOrQueryParamsChange":return!Sa(n.url,t.url)||!ki(n.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!X_(n,t)||!ki(n.queryParams,t.queryParams);default:return!X_(n,t)}}(s,i,i.routeConfig.runGuardsAndResolvers);l?o.canActivateChecks.push(new ZR(r)):(i.data=s.data,i._resolvedData=s._resolvedData),vd(n,t,i.component?a?a.children:null:e,r,o),l&&a&&a.outlet&&a.outlet.isActivated&&o.canDeactivateChecks.push(new ng(a.outlet.component,s))}else s&&yd(t,a,o),o.canActivateChecks.push(new ZR(r)),vd(n,null,i.component?a?a.children:null:e,r,o)})(s,i[s.value.outlet],e,r.concat([s.value]),o),delete i[s.value.outlet]}),Object.entries(i).forEach(([s,a])=>yd(a,e.getContext(s),o)),o}function yd(n,t,e){const r=uc(n),o=n.value;Object.entries(r).forEach(([i,s])=>{yd(s,o.component?t?t.children.getContext(i):null:t,e)}),e.canDeactivateChecks.push(new ng(o.component&&t&&t.outlet&&t.outlet.isActivated?t.outlet.component:null,o))}function _d(n){return"function"==typeof n}function t0(n){return n instanceof x_||"EmptyError"===n?.name}const rg=Symbol("INITIAL_VALUE");function pc(){return ks(n=>pX(n.map(t=>t.pipe(ac(1),function EX(...n){const t=zp(n);return Pr((e,r)=>{(t?R_(n,e,t):R_(n,e)).subscribe(r)})}(rg)))).pipe(Qn(t=>{for(const e of t)if(!0!==e){if(e===rg)return rg;if(!1===e||FZ(e))return e}return!0}),Ea(t=>t!==rg),ac(1)))}function FZ(n){return ka(n)||n instanceof J_}function QR(n){return n.aborted?kt(void 0).pipe(ac(1)):new tr(t=>{const e=()=>{t.next(),t.complete()};return n.addEventListener("abort",e),()=>n.removeEventListener("abort",e)})}function JR(n){return O_(QR(n))}function tN(n){return function RN(...n){return v0(n)}(_o(t=>{if("boolean"!=typeof t)throw tg(0,t)}),Qn(t=>!0===t))}let xa=class kN extends Error{segmentGroup;constructor(t){super(),this.segmentGroup=t||null,Object.setPrototypeOf(this,kN.prototype)}},n0=class TN extends Error{urlTree;constructor(t){super(),this.urlTree=t,Object.setPrototypeOf(this,TN.prototype)}};function qZ(n){throw new R(4e3,!1)}let KZ=class{urlSerializer;urlTree;constructor(t,e){this.urlSerializer=t,this.urlTree=e}lineralizeSegments(t,e){return B(function*(){let r=[],o=e.root;for(;;){if(r=r.concat(o.segments),0===o.numberOfChildren)return r;if(o.numberOfChildren>1||!o.children[Se])throw qZ();o=o.children[Se]}})()}applyRedirectCommands(t,e,r,o,i){var s=this;return B(function*(){const a=yield function XZ(n,t,e){if("string"==typeof n)return Promise.resolve(n);const r=n,{queryParams:o,fragment:i,routeConfig:s,url:a,outlet:l,params:c,data:u,title:d}=t;return Wp(As(ko(e,()=>r({params:c,data:u,queryParams:o,fragment:i,routeConfig:s,url:a,outlet:l,title:d}))))}(e,o,i);if(a instanceof Ti)throw new n0(a);const l=s.applyRedirectCreateUrlTree(a,s.urlSerializer.parse(a),t,r);if("/"===a[0])throw new n0(l);return l})()}applyRedirectCreateUrlTree(t,e,r,o){const i=this.createSegmentGroup(t,e.root,r,o);return new Ti(i,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){const r={};return Object.entries(t).forEach(([o,i])=>{if("string"==typeof i&&":"===i[0]){const a=i.substring(1);r[o]=e[a]}else r[o]=i}),r}createSegmentGroup(t,e,r,o){const i=this.createSegments(t,e.segments,r,o);let s={};return Object.entries(e.children).forEach(([a,l])=>{s[a]=this.createSegmentGroup(t,l,r,o)}),new Vt(i,s)}createSegments(t,e,r,o){return e.map(i=>":"===i.path[0]?this.findPosParam(t,i,o):this.findOrReturn(i,r))}findPosParam(t,e,r){const o=r[e.path.substring(1)];if(!o)throw new R(4001,!1);return o}findOrReturn(t,e){let r=0;for(const o of e){if(o.path===t.path)return e.splice(r),o;r++}return t}};const r0={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function nN(n,t,e,r,o,i){const s=o0(n,t,e);return s.matched?(r=function fZ(n,t){return n.providers&&!n._injector&&(n._injector=Vb(n.providers,t,`Route: ${n.path}`)),n._injector??t}(t,r),function GZ(n,t,e,r,o){const i=t.canMatch;return i&&0!==i.length?kt(i.map(a=>{const l=fc(a,n);let u=As(function PZ(n){return n&&_d(n.canMatch)}(l)?l.canMatch(t,e):ko(n,()=>l(t,e)));return o?u.pipe(JR(o)):u})).pipe(pc(),tN()):kt(!0)}(r,t,e,0,i).pipe(Qn(a=>!0===a?s:{...r0}))):kt(s)}function o0(n,t,e){if("**"===t.path)return function ZZ(n){return{matched:!0,parameters:n.length>0?yR(n).parameters:{},consumedSegments:n,remainingSegments:[],positionalParamSegments:{}}}(e);if(""===t.path)return"full"===t.pathMatch&&(n.hasChildren()||e.length>0)?{...r0}:{matched:!0,consumedSegments:[],remainingSegments:e,parameters:{},positionalParamSegments:{}};const o=(t.matcher||xX)(e,n,t);if(!o)return{...r0};const i={};Object.entries(o.posParams??{}).forEach(([a,l])=>{i[a]=l.path});const s=o.consumed.length>0?{...i,...o.consumed[o.consumed.length-1].parameters}:i;return{matched:!0,consumedSegments:o.consumed,remainingSegments:e.slice(o.consumed.length),parameters:s,positionalParamSegments:o.posParams??{}}}function og(n,t,e,r){return e.length>0&&function eQ(n,t,e){return e.some(r=>Cd(n,t,r)&&Gr(r)!==Se)}(n,e,r)?{segmentGroup:new Vt(t,JZ(r,new Vt(e,n.children))),slicedSegments:[]}:0===e.length&&function tQ(n,t,e){return e.some(r=>Cd(n,t,r))}(n,e,r)?{segmentGroup:new Vt(n.segments,QZ(n,e,r,n.children)),slicedSegments:e}:{segmentGroup:new Vt(n.segments,n.children),slicedSegments:e}}function QZ(n,t,e,r){const o={};for(const i of e)if(Cd(n,t,i)&&!r[Gr(i)]){const s=new Vt([],{});o[Gr(i)]=s}return{...r,...o}}function JZ(n,t){const e={};e[Se]=t;for(const r of n)if(""===r.path&&Gr(r)!==Se){const o=new Vt([],{});e[Gr(r)]=o}return e}function Cd(n,t,e){return(!(n.hasChildren()||t.length>0)||"full"!==e.pathMatch)&&""===e.path}let nQ=class{};function rQ(n,t,e,r,o,i){return s0.apply(this,arguments)}function s0(){return(s0=B(function*(n,t,e,r,o,i,s="emptyOnly",a){return new iQ(n,t,e,r,o,s,i,a).recognize()})).apply(this,arguments)}let iQ=class{injector;configLoader;rootComponentType;config;urlTree;paramsInheritanceStrategy;urlSerializer;abortSignal;applyRedirects;absoluteRedirectCount=0;allowRedirects=!0;constructor(t,e,r,o,i,s,a,l){this.injector=t,this.configLoader=e,this.rootComponentType=r,this.config=o,this.urlTree=i,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.abortSignal=l,this.applyRedirects=new KZ(this.urlSerializer,this.urlTree)}noMatchError(t){return new R(4002,`'${t.segmentGroup}'`)}recognize(){var t=this;return B(function*(){const e=og(t.urlTree.root,[],[],t.config).segmentGroup,{children:r,rootSnapshot:o}=yield t.match(e),i=new ar(o,r),s=new q_("",i),a=function MR(n,t,e=null,r=null,o=new dd){return NR(RR(n),t,e,r,o)}(o,[],t.urlTree.queryParams,t.urlTree.fragment);return a.queryParams=t.urlTree.queryParams,s.url=t.urlSerializer.serialize(a),{state:s,tree:a}})()}match(t){var e=this;return B(function*(){const r=new Ia([],Object.freeze({}),Object.freeze({...e.urlTree.queryParams}),e.urlTree.fragment,Object.freeze({}),Se,e.rootComponentType,null,{});try{return{children:yield e.processSegmentGroup(e.injector,e.config,t,Se,r),rootSnapshot:r}}catch(o){if(o instanceof n0)return e.urlTree=o.urlTree,e.match(o.urlTree.root);throw o instanceof xa?e.noMatchError(o):o}})()}processSegmentGroup(t,e,r,o,i){var s=this;return B(function*(){if(0===r.segments.length&&r.hasChildren())return s.processChildren(t,e,r,i);const a=yield s.processSegment(t,e,r,r.segments,o,!0,i);return a instanceof ar?[a]:[]})()}processChildren(t,e,r,o){var i=this;return B(function*(){const s=[];for(const c of Object.keys(r.children))"primary"===c?s.unshift(c):s.push(c);let a=[];for(const c of s){const u=r.children[c],d=$R(e,c),h=yield i.processSegmentGroup(t,d,u,c,o);a.push(...h)}const l=oN(a);return function sQ(n){n.sort((t,e)=>t.value.outlet===Se?-1:e.value.outlet===Se?1:t.value.outlet.localeCompare(e.value.outlet))}(l),l})()}processSegment(t,e,r,o,i,s,a){var l=this;return B(function*(){for(const c of e)try{return yield l.processSegmentAgainstRoute(c._injector??t,e,c,r,o,i,s,a)}catch(u){if(u instanceof xa||t0(u))continue;throw u}if(function rN(n,t,e){return 0===t.length&&!n.children[e]}(r,o,i))return new nQ;throw new xa(r)})()}processSegmentAgainstRoute(t,e,r,o,i,s,a,l){var c=this;return B(function*(){if(Gr(r)!==s&&(s===Se||!Cd(o,i,r)))throw new xa(o);if(void 0===r.redirectTo)return c.matchSegmentAgainstRoute(t,o,r,i,s,l);if(c.allowRedirects&&a)return c.expandSegmentAgainstRouteUsingRedirect(t,o,e,r,i,s,l);throw new xa(o)})()}expandSegmentAgainstRouteUsingRedirect(t,e,r,o,i,s,a){var l=this;return B(function*(){const{matched:c,parameters:u,consumedSegments:d,positionalParamSegments:h,remainingSegments:f}=o0(e,o,i);if(!c)throw new xa(e);"string"==typeof o.redirectTo&&"/"===o.redirectTo[0]&&(l.absoluteRedirectCount++,l.absoluteRedirectCount>31&&(l.allowRedirects=!1));const p=new Ia(i,u,Object.freeze({...l.urlTree.queryParams}),l.urlTree.fragment,iN(o),Gr(o),o.component??o._loadedComponent??null,o,sN(o)),g=hc(p,a,l.paramsInheritanceStrategy);if(p.params=Object.freeze(g.params),p.data=Object.freeze(g.data),l.abortSignal.aborted)throw new Error(l.abortSignal.reason);const m=yield l.applyRedirects.applyRedirectCommands(d,o.redirectTo,h,p,t),b=yield l.applyRedirects.lineralizeSegments(o,m);return l.processSegment(t,r,e,b.concat(f),s,!1,a)})()}matchSegmentAgainstRoute(t,e,r,o,i,s){var a=this;return B(function*(){if(a.abortSignal.aborted)throw new Error(a.abortSignal.reason);const l=yield Wp(nN(e,r,o,t,0,a.abortSignal));if("**"===r.path&&(e.children={}),!l?.matched)throw new xa(e);t=r._injector??t;const{routes:c}=yield a.getChildConfig(t,r,o),u=r._loadedInjector??t,{parameters:d,consumedSegments:h,remainingSegments:f}=l,p=new Ia(h,d,Object.freeze({...a.urlTree.queryParams}),a.urlTree.fragment,iN(r),Gr(r),r.component??r._loadedComponent??null,r,sN(r)),g=hc(p,s,a.paramsInheritanceStrategy);p.params=Object.freeze(g.params),p.data=Object.freeze(g.data);const{segmentGroup:m,slicedSegments:b}=og(e,h,f,c);if(0===b.length&&m.hasChildren()){const C=yield a.processChildren(u,c,m,p);return new ar(p,C)}if(0===c.length&&0===b.length)return new ar(p,[]);const v=Gr(r)===i,y=yield a.processSegment(u,c,m,b,v?Se:i,!0,p);return new ar(p,y instanceof ar?[y]:[])})()}getChildConfig(t,e,r){var o=this;return B(function*(){if(e.children)return{routes:e.children,injector:t};if(e.loadChildren){if(void 0!==e._loadedRoutes)return{routes:e._loadedRoutes,injector:e._loadedInjector};if(o.abortSignal.aborted)throw new Error(o.abortSignal.reason);if(yield Wp(function eN(n,t,e,r,o){const i=t.canLoad;return void 0===i||0===i.length?kt(!0):kt(i.map(a=>{const l=fc(a,n),u=As(function RZ(n){return n&&_d(n.canLoad)}(l)?l.canLoad(t,e):ko(n,()=>l(t,e)));return o?u.pipe(JR(o)):u})).pipe(pc(),tN())}(t,e,r,0,o.abortSignal))){const s=yield o.configLoader.loadChildren(t,e);return e._loadedRoutes=s.routes,e._loadedInjector=s.injector,s}throw function YZ(){throw e0(!1,Wr.GuardRejected)}()}return{routes:[],injector:t}})()}};function aQ(n){const t=n.value.routeConfig;return t&&""===t.path}function oN(n){const t=[],e=new Set;for(const r of n){if(!aQ(r)){t.push(r);continue}const o=t.find(i=>r.value.routeConfig===i.value.routeConfig);void 0!==o?(o.children.push(...r.children),e.add(o)):t.push(r)}for(const r of e){const o=oN(r.children);t.push(new ar(r.value,o))}return t.filter(r=>!e.has(r))}function iN(n){return n.data||{}}function sN(n){return n.resolve||{}}Error;const uN=new j("",{factory:()=>rQ});function dN(n){const t=n.children.map(e=>dN(e)).flat();return[n,...t]}function c0(n){return ks(t=>{const e=n(t);return e?yo(e).pipe(Qn(()=>t)):kt(t)})}let hN=(()=>{class n{buildTitle(e){let r,o=e.root;for(;void 0!==o;)r=this.getResolvedTitleForRoute(o)??r,o=o.children.find(i=>i.outlet===Se);return r}getResolvedTitleForRoute(e){return e.data[cd]}static \u0275fac=function(r){return new(r||n)};static \u0275prov=Z({token:n,factory:()=>D(EQ),providedIn:"root"})}return n})(),EQ=(()=>{class n extends hN{title;constructor(e){super(),this.title=e}updateTitle(e){const r=this.buildTitle(e);void 0!==r&&this.title.setTitle(r)}static \u0275fac=function(r){return new(r||n)(Xe(SX))};static \u0275prov=Z({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const ig=new j("",{factory:()=>({})}),u0=new j("");let fN=(()=>{class n{componentLoaders=new WeakMap;childrenLoaders=new WeakMap;onLoadStartListener;onLoadEndListener;compiler=D(J9);loadComponent(e,r){var o=this;return B(function*(){if(o.componentLoaders.get(r))return o.componentLoaders.get(r);if(r._loadedComponent)return Promise.resolve(r._loadedComponent);o.onLoadStartListener&&o.onLoadStartListener(r);const i=B(function*(){try{const s=yield _R(ko(e,()=>r.loadComponent())),a=yield gN(pN(s));return o.onLoadEndListener&&o.onLoadEndListener(r),r._loadedComponent=a,a}finally{o.componentLoaders.delete(r)}})();return o.componentLoaders.set(r,i),i})()}loadChildren(e,r){var o=this;if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return Promise.resolve({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);const i=B(function*(){try{const s=yield function DQ(n,t,e,r){return d0.apply(this,arguments)}(r,o.compiler,e,o.onLoadEndListener);return r._loadedRoutes=s.routes,r._loadedInjector=s.injector,s}finally{o.childrenLoaders.delete(r)}})();return this.childrenLoaders.set(r,i),i}static \u0275fac=function(r){return new(r||n)};static \u0275prov=Z({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function d0(){return(d0=B(function*(n,t,e,r){const o=yield _R(ko(e,()=>n.loadChildren())),i=yield gN(pN(o));let s;s=i instanceof OD||Array.isArray(i)?i:yield t.compileModuleAsync(i),r&&r(n);let a,l;return Array.isArray(s)?l=s:(a=s.create(e).injector,l=a.get(u0,[],{optional:!0,self:!0}).flat()),{routes:l.map(Q_),injector:a}})).apply(this,arguments)}function pN(n){return function SQ(n){return n&&"object"==typeof n&&"default"in n}(n)?n.default:n}function gN(n){return h0.apply(this,arguments)}function h0(){return(h0=B(function*(n){return n})).apply(this,arguments)}let f0=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=Z({token:n,factory:()=>D(kQ),providedIn:"root"})}return n})(),kQ=(()=>{class n{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,r){return e}static \u0275fac=function(r){return new(r||n)};static \u0275prov=Z({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const TQ=new j(""),xQ=()=>{},MQ=new j("");let RQ=(()=>{class n{currentNavigation=Wt(null,{equal:()=>!1});currentTransition=null;lastSuccessfulNavigation=Wt(null);events=new Yr;transitionAbortWithErrorSubject=new Yr;configLoader=D(fN);environmentInjector=D(Rr);destroyRef=D(fi);urlSerializer=D(qp);rootContexts=D(md);location=D(ad);inputBindingEnabled=null!==D(Z_,{optional:!0});titleStrategy=D(hN);options=D(ig,{optional:!0})||{};paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly";urlHandlingStrategy=D(f0);createViewTransition=D(TQ,{optional:!0});navigationErrorHandler=D(MQ,{optional:!0});navigationId=0;get hasRequestedNavigation(){return 0!==this.navigationId}transitions;afterPreactivation=()=>kt(void 0);rootComponentType=null;destroyed=!1;constructor(){this.configLoader.onLoadEndListener=o=>this.events.next(new aZ(o)),this.configLoader.onLoadStartListener=o=>this.events.next(new sZ(o)),this.destroyRef.onDestroy(()=>{this.destroyed=!0})}complete(){this.transitions?.complete()}handleNavigationRequest(e){const r=++this.navigationId;Fn(()=>{this.transitions?.next({...e,extractedUrl:this.urlHandlingStrategy.extract(e.rawUrl),targetSnapshot:null,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null,id:r})})}setupNavigations(e){return this.transitions=new Eo(null),this.transitions.pipe(Ea(r=>null!==r),ks(r=>{let o=!1;const i=new AbortController;return kt(r).pipe(ks(s=>{if(this.navigationId>r.id)return this.cancelNavigationTransition(r,"",Wr.SupersededByNewNavigation),si;this.currentTransition=r;const a=this.lastSuccessfulNavigation();this.currentNavigation.set({id:s.id,initialUrl:s.rawUrl,extractedUrl:s.extractedUrl,targetBrowserUrl:"string"==typeof s.extras.browserUrl?this.urlSerializer.parse(s.extras.browserUrl):s.extras.browserUrl,trigger:s.source,extras:s.extras,previousNavigation:a?{...a,previousNavigation:null}:null,abort:()=>i.abort()});const l=!e.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl();if(!l&&"reload"!==(s.extras.onSameUrlNavigation??e.onSameUrlNavigation))return this.events.next(new gd(s.id,this.urlSerializer.serialize(s.rawUrl),"",U_.IgnoredSameUrlNavigation)),s.resolve(!1),si;if(this.urlHandlingStrategy.shouldProcessUrl(s.rawUrl))return kt(s).pipe(ks(u=>(this.events.next(new $_(u.id,this.urlSerializer.serialize(u.extractedUrl),u.source,u.restoredState)),u.id!==this.navigationId?si:Promise.resolve(u))),function vQ(n,t,e,r,o,i,s){const a=n.get(uN);return ii(l=>kt(l).pipe(ks(c=>a(n,t,e,r,c.extractedUrl,o,i,s)),Qn(({state:c,tree:u})=>({...l,targetSnapshot:c,urlAfterRedirects:u}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,e.config,this.urlSerializer,this.paramsInheritanceStrategy,i.signal),_o(u=>{r.targetSnapshot=u.targetSnapshot,r.urlAfterRedirects=u.urlAfterRedirects,this.currentNavigation.update(h=>(h.finalUrl=u.urlAfterRedirects,h));const d=new jR(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(d)}));if(l&&this.urlHandlingStrategy.shouldProcessUrl(s.currentRawUrl)){const{id:u,extractedUrl:d,source:h,restoredState:f,extras:p}=s,g=new $_(u,this.urlSerializer.serialize(d),h,f);this.events.next(g);const m=zR(this.rootComponentType).snapshot;return this.currentTransition=r={...s,targetSnapshot:m,urlAfterRedirects:d,extras:{...p,skipLocationChange:!1,replaceUrl:!1}},this.currentNavigation.update(b=>(b.finalUrl=d,b)),kt(r)}return this.events.next(new gd(s.id,this.urlSerializer.serialize(s.extractedUrl),"",U_.IgnoredByUrlHandlingStrategy)),s.resolve(!1),si}),_o(s=>{const a=new nZ(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot);this.events.next(a)}),Qn(s=>(this.currentTransition=r={...s,guards:TZ(s.targetSnapshot,s.currentSnapshot,this.rootContexts)},r)),function BZ(n,t){return ii(e=>{const{targetSnapshot:r,currentSnapshot:o,guards:{canActivateChecks:i,canDeactivateChecks:s}}=e;return 0===s.length&&0===i.length?kt({...e,guardsResult:!0}):function HZ(n,t,e,r){return yo(n).pipe(ii(o=>function WZ(n,t,e,r,o){const i=t&&t.routeConfig?t.routeConfig.canDeactivate:null;return i&&0!==i.length?kt(i.map(a=>{const l=cc(t)??o,c=fc(a,l);return As(function LZ(n){return n&&_d(n.canDeactivate)}(c)?c.canDeactivate(n,t,e,r):ko(l,()=>c(n,t,e,r))).pipe(Da())})).pipe(pc()):kt(!0)}(o.component,o.route,e,t,r)),Da(o=>!0!==o,!0))}(s,r,o,n).pipe(ii(a=>a&&function MZ(n){return"boolean"==typeof n}(a)?function jZ(n,t,e,r){return yo(t).pipe(pR(o=>R_(function UZ(n,t){return null!==n&&t&&t(new lZ(n)),kt(!0)}(o.route.parent,r),function $Z(n,t){return null!==n&&t&&t(new uZ(n)),kt(!0)}(o.route,r),function zZ(n,t,e){const r=t[t.length-1],i=t.slice(0,t.length-1).reverse().map(s=>function AZ(n){const t=n.routeConfig?n.routeConfig.canActivateChild:null;return t&&0!==t.length?{node:n,guards:t}:null}(s)).filter(s=>null!==s).map(s=>N_(()=>kt(s.guards.map(l=>{const c=cc(s.node)??e,u=fc(l,c);return As(function OZ(n){return n&&_d(n.canActivateChild)}(u)?u.canActivateChild(r,n):ko(c,()=>u(r,n))).pipe(Da())})).pipe(pc())));return kt(i).pipe(pc())}(n,o.path,e),function VZ(n,t,e){const r=t.routeConfig?t.routeConfig.canActivate:null;if(!r||0===r.length)return kt(!0);const o=r.map(i=>N_(()=>{const s=cc(t)??e,a=fc(i,s);return As(function NZ(n){return n&&_d(n.canActivate)}(a)?a.canActivate(t,n):ko(s,()=>a(t,n))).pipe(Da())}));return kt(o).pipe(pc())}(n,o.route,e))),Da(o=>!0!==o,!0))}(r,i,n,t):kt(a)),Qn(a=>({...e,guardsResult:a})))})}(this.environmentInjector,s=>this.events.next(s)),_o(s=>{if(r.guardsResult=s.guardsResult,s.guardsResult&&"boolean"!=typeof s.guardsResult)throw tg(0,s.guardsResult);const a=new rZ(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot,!!s.guardsResult);this.events.next(a)}),Ea(s=>!!s.guardsResult||(this.cancelNavigationTransition(s,"",Wr.GuardRejected),!1)),c0(s=>{if(0!==s.guards.canActivateChecks.length)return kt(s).pipe(_o(a=>{const l=new oZ(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(l)}),ks(a=>{let l=!1;return kt(a).pipe(function yQ(n,t){return ii(e=>{const{targetSnapshot:r,guards:{canActivateChecks:o}}=e;if(!o.length)return kt(e);const i=new Set(o.map(l=>l.route)),s=new Set;for(const l of i)if(!s.has(l))for(const c of dN(l))s.add(c);let a=0;return yo(s).pipe(pR(l=>i.has(l)?function _Q(n,t,e,r){const o=n.routeConfig,i=n._resolve;return void 0!==o?.title&&!GR(o)&&(i[cd]=o.title),N_(()=>(n.data=hc(n,n.parent,e).resolve,function CQ(n,t,e,r){const o=P_(n);if(0===o.length)return kt({});const i={};return yo(o).pipe(ii(s=>function wQ(n,t,e,r){const o=cc(t)??r,i=fc(n,o);return As(i.resolve?i.resolve(t,e):ko(o,()=>i(t,e)))}(n[s],t,e,r).pipe(Da(),_o(a=>{if(a instanceof J_)throw tg(new dd,a);i[s]=a}))),gR(1),Qn(()=>i),L_(s=>t0(s)?si:function yX(n,t){const e=de(n)?n:()=>n,r=o=>o.error(e());return new tr(t?o=>t.schedule(r,0,o):r)}(s)))}(i,n,t,r).pipe(Qn(s=>(n._resolvedData=s,n.data={...n.data,...s},null)))))}(l,r,n,t):(l.data=hc(l,l.parent,n).resolve,kt(void 0))),_o(()=>a++),gR(1),ii(l=>a===s.size?kt(e):si))})}(this.paramsInheritanceStrategy,this.environmentInjector),_o({next:()=>l=!0,complete:()=>{l||this.cancelNavigationTransition(a,"",Wr.NoDataFromResolver)}}))}),_o(a=>{const l=new iZ(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(l)}))}),c0(s=>{const a=c=>{const u=[];if(c.routeConfig?._loadedComponent)c.component=c.routeConfig?._loadedComponent;else if(c.routeConfig?.loadComponent){const d=cc(c)??this.environmentInjector;u.push(this.configLoader.loadComponent(d,c.routeConfig).then(h=>{c.component=h}))}for(const d of c.children)u.push(...a(d));return u},l=a(s.targetSnapshot.root);return 0===l.length?kt(s):yo(Promise.all(l).then(()=>s))}),c0(()=>this.afterPreactivation()),ks(()=>{const{currentSnapshot:s,targetSnapshot:a}=r,l=this.createViewTransition?.(this.environmentInjector,s.root,a.root);return l?yo(l).pipe(Qn(()=>r)):kt(r)}),Qn(s=>{const a=function CZ(n,t,e){const r=bd(n,t._root,e?e._root:void 0);return new VR(r,t)}(e.routeReuseStrategy,s.targetSnapshot,s.currentRouterState);return this.currentTransition=r={...s,targetRouterState:a},this.currentNavigation.update(l=>(l.targetRouterState=a,l)),r}),_o(()=>{this.events.next(new z_)}),((n,t,e,r)=>Qn(o=>(new kZ(t,o.targetRouterState,o.currentRouterState,e,r).activate(n),o)))(this.rootContexts,e.routeReuseStrategy,s=>this.events.next(s),this.inputBindingEnabled),ac(1),O_(QR(i.signal).pipe(Ea(()=>!o&&!r.targetRouterState),_o(()=>{this.cancelNavigationTransition(r,i.signal.reason+"",Wr.Aborted)}))),_o({next:s=>{o=!0,this.currentNavigation.update(a=>(a.abort=xQ,a)),this.lastSuccessfulNavigation.set(Fn(this.currentNavigation)),this.events.next(new Ta(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects))),this.titleStrategy?.updateTitle(s.targetRouterState.snapshot),s.resolve(!0)},complete:()=>{o=!0}}),O_(this.transitionAbortWithErrorSubject.pipe(_o(s=>{throw s}))),function DX(n){return Pr((t,e)=>{try{t.subscribe(e)}finally{e.add(n)}})}(()=>{i.abort(),o||this.cancelNavigationTransition(r,"",Wr.SupersededByNewNavigation),this.currentTransition?.id===r.id&&(this.currentNavigation.set(null),this.currentTransition=null)}),L_(s=>{if(this.destroyed)return r.resolve(!1),si;if(o=!0,XR(s))this.events.next(new Aa(r.id,this.urlSerializer.serialize(r.extractedUrl),s.message,s.cancellationCode)),function DZ(n){return XR(n)&&ka(n.url)}(s)?this.events.next(new eg(s.url,s.navigationBehaviorOptions)):r.resolve(!1);else{const a=new V_(r.id,this.urlSerializer.serialize(r.extractedUrl),s,r.targetSnapshot??void 0);try{const l=ko(this.environmentInjector,()=>this.navigationErrorHandler?.(a));if(!(l instanceof J_))throw this.events.next(a),s;{const{message:c,cancellationCode:u}=tg(0,l);this.events.next(new Aa(r.id,this.urlSerializer.serialize(r.extractedUrl),c,u)),this.events.next(new eg(l.redirectTo,l.navigationBehaviorOptions))}}catch(l){this.options.resolveNavigationPromiseOnError?r.resolve(!1):r.reject(l)}}return si}))}))}cancelNavigationTransition(e,r,o){const i=new Aa(e.id,this.urlSerializer.serialize(e.extractedUrl),r,o);this.events.next(i),e.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){const e=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),r=Fn(this.currentNavigation),o=r?.targetBrowserUrl??r?.extractedUrl;return e.toString()!==o?.toString()&&!r?.extras.skipLocationChange}static \u0275fac=function(r){return new(r||n)};static \u0275prov=Z({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function NQ(n){return n!==Jp}let OQ=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=Z({token:n,factory:()=>D(PQ),providedIn:"root"})}return n})();class LQ{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}}let PQ=(()=>{class n extends LQ{static \u0275fac=(()=>{let e;return function(o){return(e||(e=Ze(n)))(o||n)}})();static \u0275prov=Z({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),mN=(()=>{class n{urlSerializer=D(qp);options=D(ig,{optional:!0})||{};canceledNavigationResolution=this.options.canceledNavigationResolution||"replace";location=D(ad);urlHandlingStrategy=D(f0);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";currentUrlTree=new Ti;getCurrentUrlTree(){return this.currentUrlTree}rawUrlTree=this.currentUrlTree;getRawUrlTree(){return this.rawUrlTree}createBrowserPath({finalUrl:e,initialUrl:r,targetBrowserUrl:o}){const i=void 0!==e?this.urlHandlingStrategy.merge(e,r):r,s=o??i;return s instanceof Ti?this.urlSerializer.serialize(s):s}commitTransition({targetRouterState:e,finalUrl:r,initialUrl:o}){r&&e?(this.currentUrlTree=r,this.rawUrlTree=this.urlHandlingStrategy.merge(r,o),this.routerState=e):this.rawUrlTree=o}routerState=zR(null);getRouterState(){return this.routerState}stateMemento=this.createStateMemento();updateStateMemento(){this.stateMemento=this.createStateMemento()}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}resetInternalState({finalUrl:e}){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e??this.rawUrlTree)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=Z({token:n,factory:()=>D(FQ),providedIn:"root"})}return n})(),FQ=(()=>{class n extends mN{currentPageId=0;lastSuccessfulId=-1;restoredState(){return this.location.getState()}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}registerNonRouterCurrentEntryChangeListener(e){return this.location.subscribe(r=>{"popstate"===r.type&&setTimeout(()=>{e(r.url,r.state,"popstate")})})}handleRouterEvent(e,r){e instanceof $_?this.updateStateMemento():e instanceof gd?this.commitTransition(r):e instanceof jR?"eager"===this.urlUpdateStrategy&&(r.extras.skipLocationChange||this.setBrowserUrl(this.createBrowserPath(r),r)):e instanceof z_?(this.commitTransition(r),"deferred"===this.urlUpdateStrategy&&!r.extras.skipLocationChange&&this.setBrowserUrl(this.createBrowserPath(r),r)):e instanceof Aa&&e.code!==Wr.SupersededByNewNavigation&&e.code!==Wr.Redirect?this.restoreHistory(r):e instanceof V_?this.restoreHistory(r,!0):e instanceof Ta&&(this.lastSuccessfulId=e.id,this.currentPageId=this.browserPageId)}setBrowserUrl(e,{extras:r,id:o}){const{replaceUrl:i,state:s}=r;if(this.location.isCurrentPathEqualTo(e)||i){const a=this.browserPageId,l={...s,...this.generateNgRouterState(o,a)};this.location.replaceState(e,"",l)}else{const a={...s,...this.generateNgRouterState(o,this.browserPageId+1)};this.location.go(e,"",a)}}restoreHistory(e,r=!1){if("computed"===this.canceledNavigationResolution){const i=this.currentPageId-this.browserPageId;0!==i?this.location.historyGo(i):this.getCurrentUrlTree()===e.finalUrl&&0===i&&(this.resetInternalState(e),this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(r&&this.resetInternalState(e),this.resetUrlToCurrentUrlTree())}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.getRawUrlTree()),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(e,r){return"computed"===this.canceledNavigationResolution?{navigationId:e,\u0275routerPageId:r}:{navigationId:e}}static \u0275fac=(()=>{let e;return function(o){return(e||(e=Ze(n)))(o||n)}})();static \u0275prov=Z({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const HQ={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},jQ={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Ma=(()=>{class n{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}disposed=!1;nonRouterCurrentEntryChangeSubscription;console=D(sS);stateManager=D(mN);options=D(ig,{optional:!0})||{};pendingTasks=D(ss);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";navigationTransitions=D(RQ);urlSerializer=D(qp);location=D(ad);urlHandlingStrategy=D(f0);injector=D(Rr);_events=new Yr;get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}navigated=!1;routeReuseStrategy=D(OQ);onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore";config=D(u0,{optional:!0})?.flat()??[];componentInputBindingEnabled=!!D(Z_,{optional:!0});currentNavigation=this.navigationTransitions.currentNavigation.asReadonly();constructor(){this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this).subscribe({error:e=>{this.console.warn(e)}}),this.subscribeToNavigationEvents()}eventsSubscription=new et;subscribeToNavigationEvents(){const e=this.navigationTransitions.events.subscribe(r=>{try{const o=this.navigationTransitions.currentTransition,i=Fn(this.navigationTransitions.currentNavigation);if(null!==o&&null!==i)if(this.stateManager.handleRouterEvent(r,i),r instanceof Aa&&r.code!==Wr.Redirect&&r.code!==Wr.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof Ta)this.navigated=!0;else if(r instanceof eg){const s=r.navigationBehaviorOptions,a=this.urlHandlingStrategy.merge(r.url,o.currentRawUrl),l={browserUrl:o.extras.browserUrl,info:o.extras.info,skipLocationChange:o.extras.skipLocationChange,replaceUrl:o.extras.replaceUrl||"eager"===this.urlUpdateStrategy||NQ(o.source),...s};this.scheduleNavigation(a,Jp,null,l,{resolve:o.resolve,reject:o.reject,promise:o.promise})}(function hZ(n){return!(n instanceof z_||n instanceof eg)})(r)&&this._events.next(r)}catch(o){this.navigationTransitions.transitionAbortWithErrorSubject.next(o)}});this.eventsSubscription.add(e)}resetRootComponentType(e){this.routerState.root.component=e,this.navigationTransitions.rootComponentType=e}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Jp,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((e,r,o)=>{this.navigateToSyncWithBrowser(e,o,r)})}navigateToSyncWithBrowser(e,r,o){const i={replaceUrl:!0},s=o?.navigationId?o:null;if(o){const l={...o};delete l.navigationId,delete l.\u0275routerPageId,0!==Object.keys(l).length&&(i.state=l)}const a=this.parseUrl(e);this.scheduleNavigation(a,r,s,i).catch(l=>{this.disposed||this.injector.get(pi)(l)})}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return Fn(this.navigationTransitions.currentNavigation)}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(e){this.config=e.map(Q_),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this._events.unsubscribe(),this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(e,r={}){const{relativeTo:o,queryParams:i,fragment:s,queryParamsHandling:a,preserveFragment:l}=r,c=l?this.currentUrlTree.fragment:s;let d,u=null;switch(a??this.options.defaultQueryParamsHandling){case"merge":u={...this.currentUrlTree.queryParams,...i};break;case"preserve":u=this.currentUrlTree.queryParams;break;default:u=i||null}null!==u&&(u=this.removeEmptyProps(u));try{d=RR(o?o.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof e[0]||"/"!==e[0][0])&&(e=[]),d=this.currentUrlTree.root}return NR(d,e,u,c??null,this.urlSerializer)}navigateByUrl(e,r={skipLocationChange:!1}){const o=ka(e)?e:this.parseUrl(e),i=this.urlHandlingStrategy.merge(o,this.rawUrlTree);return this.scheduleNavigation(i,Jp,null,r)}navigate(e,r={skipLocationChange:!1}){return function $Q(n){for(let t=0;t<n.length;t++)if(null==n[t])throw new R(4008,!1)}(e),this.navigateByUrl(this.createUrlTree(e,r),r)}serializeUrl(e){return this.urlSerializer.serialize(e)}parseUrl(e){try{return this.urlSerializer.parse(e)}catch{return this.console.warn(Do(4018,!1)),this.urlSerializer.parse("/")}}isActive(e,r){let o;if(o=!0===r?{...HQ}:!1===r?{...jQ}:r,ka(e))return wR(this.currentUrlTree,e,o);const i=this.parseUrl(e);return wR(this.currentUrlTree,i,o)}removeEmptyProps(e){return Object.entries(e).reduce((r,[o,i])=>(null!=i&&(r[o]=i),r),{})}scheduleNavigation(e,r,o,i,s){if(this.disposed)return Promise.resolve(!1);let a,l,c;s?(a=s.resolve,l=s.reject,c=s.promise):c=new Promise((d,h)=>{a=d,l=h});const u=this.pendingTasks.add();return function BQ(n,t){n.events.pipe(Ea(e=>e instanceof Ta||e instanceof Aa||e instanceof V_||e instanceof gd),Qn(e=>e instanceof Ta||e instanceof gd?0:e instanceof Aa&&(e.code===Wr.Redirect||e.code===Wr.SupersededByNewNavigation)?2:1),Ea(e=>2!==e),ac(1)).subscribe(()=>{t()})}(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(u))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:o,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:e,extras:i,resolve:a,reject:l,promise:c,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),c.catch(d=>Promise.reject(d))}static \u0275fac=function(r){return new(r||n)};static \u0275prov=Z({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const g0=new j("");function vN(){return D(Ma).routerState.root}function yN(){const n=D(Zr);return t=>{const e=n.get(gs);if(t!==e.components[0])return;const r=n.get(Ma),o=n.get(_N);1===n.get(m0)&&r.initialNavigation(),n.get(CN,null,{optional:!0})?.setUpPreloading(),n.get(g0,null,{optional:!0})?.init(),r.resetRootComponentType(e.componentTypes[0]),o.closed||(o.next(),o.complete(),o.unsubscribe())}}const _N=new j("",{factory:()=>new Yr}),m0=new j("",{factory:()=>1}),CN=new j("");var fle=Object.defineProperty,gle=Object.getOwnPropertyDescriptors,EN=Object.getOwnPropertySymbols,mle=Object.prototype.hasOwnProperty,ble=Object.prototype.propertyIsEnumerable,DN=(n,t,e)=>t in n?fle(n,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):n[t]=e,vle=(0,Object.defineProperties)(((n,t)=>{for(var e in t||(t={}))mle.call(t,e)&&DN(n,e,t[e]);if(EN)for(var e of EN(t))ble.call(t,e)&&DN(n,e,t[e]);return n})({},{primitive:{borderRadius:{none:"0",xs:"2px",sm:"4px",md:"6px",lg:"8px",xl:"12px"},emerald:{50:"#ecfdf5",100:"#d1fae5",200:"#a7f3d0",300:"#6ee7b7",400:"#34d399",500:"#10b981",600:"#059669",700:"#047857",800:"#065f46",900:"#064e3b",950:"#022c22"},green:{50:"#f0fdf4",100:"#dcfce7",200:"#bbf7d0",300:"#86efac",400:"#4ade80",500:"#22c55e",600:"#16a34a",700:"#15803d",800:"#166534",900:"#14532d",950:"#052e16"},lime:{50:"#f7fee7",100:"#ecfccb",200:"#d9f99d",300:"#bef264",400:"#a3e635",500:"#84cc16",600:"#65a30d",700:"#4d7c0f",800:"#3f6212",900:"#365314",950:"#1a2e05"},red:{50:"#fef2f2",100:"#fee2e2",200:"#fecaca",300:"#fca5a5",400:"#f87171",500:"#ef4444",600:"#dc2626",700:"#b91c1c",800:"#991b1b",900:"#7f1d1d",950:"#450a0a"},orange:{50:"#fff7ed",100:"#ffedd5",200:"#fed7aa",300:"#fdba74",400:"#fb923c",500:"#f97316",600:"#ea580c",700:"#c2410c",800:"#9a3412",900:"#7c2d12",950:"#431407"},amber:{50:"#fffbeb",100:"#fef3c7",200:"#fde68a",300:"#fcd34d",400:"#fbbf24",500:"#f59e0b",600:"#d97706",700:"#b45309",800:"#92400e",900:"#78350f",950:"#451a03"},yellow:{50:"#fefce8",100:"#fef9c3",200:"#fef08a",300:"#fde047",400:"#facc15",500:"#eab308",600:"#ca8a04",700:"#a16207",800:"#854d0e",900:"#713f12",950:"#422006"},teal:{50:"#f0fdfa",100:"#ccfbf1",200:"#99f6e4",300:"#5eead4",400:"#2dd4bf",500:"#14b8a6",600:"#0d9488",700:"#0f766e",800:"#115e59",900:"#134e4a",950:"#042f2e"},cyan:{50:"#ecfeff",100:"#cffafe",200:"#a5f3fc",300:"#67e8f9",400:"#22d3ee",500:"#06b6d4",600:"#0891b2",700:"#0e7490",800:"#155e75",900:"#164e63",950:"#083344"},sky:{50:"#f0f9ff",100:"#e0f2fe",200:"#bae6fd",300:"#7dd3fc",400:"#38bdf8",500:"#0ea5e9",600:"#0284c7",700:"#0369a1",800:"#075985",900:"#0c4a6e",950:"#082f49"},blue:{50:"#eff6ff",100:"#dbeafe",200:"#bfdbfe",300:"#93c5fd",400:"#60a5fa",500:"#3b82f6",600:"#2563eb",700:"#1d4ed8",800:"#1e40af",900:"#1e3a8a",950:"#172554"},indigo:{50:"#eef2ff",100:"#e0e7ff",200:"#c7d2fe",300:"#a5b4fc",400:"#818cf8",500:"#6366f1",600:"#4f46e5",700:"#4338ca",800:"#3730a3",900:"#312e81",950:"#1e1b4b"},violet:{50:"#f5f3ff",100:"#ede9fe",200:"#ddd6fe",300:"#c4b5fd",400:"#a78bfa",500:"#8b5cf6",600:"#7c3aed",700:"#6d28d9",800:"#5b21b6",900:"#4c1d95",950:"#2e1065"},purple:{50:"#faf5ff",100:"#f3e8ff",200:"#e9d5ff",300:"#d8b4fe",400:"#c084fc",500:"#a855f7",600:"#9333ea",700:"#7e22ce",800:"#6b21a8",900:"#581c87",950:"#3b0764"},fuchsia:{50:"#fdf4ff",100:"#fae8ff",200:"#f5d0fe",300:"#f0abfc",400:"#e879f9",500:"#d946ef",600:"#c026d3",700:"#a21caf",800:"#86198f",900:"#701a75",950:"#4a044e"},pink:{50:"#fdf2f8",100:"#fce7f3",200:"#fbcfe8",300:"#f9a8d4",400:"#f472b6",500:"#ec4899",600:"#db2777",700:"#be185d",800:"#9d174d",900:"#831843",950:"#500724"},rose:{50:"#fff1f2",100:"#ffe4e6",200:"#fecdd3",300:"#fda4af",400:"#fb7185",500:"#f43f5e",600:"#e11d48",700:"#be123c",800:"#9f1239",900:"#881337",950:"#4c0519"},slate:{50:"#f8fafc",100:"#f1f5f9",200:"#e2e8f0",300:"#cbd5e1",400:"#94a3b8",500:"#64748b",600:"#475569",700:"#334155",800:"#1e293b",900:"#0f172a",950:"#020617"},gray:{50:"#f9fafb",100:"#f3f4f6",200:"#e5e7eb",300:"#d1d5db",400:"#9ca3af",500:"#6b7280",600:"#4b5563",700:"#374151",800:"#1f2937",900:"#111827",950:"#030712"},zinc:{50:"#fafafa",100:"#f4f4f5",200:"#e4e4e7",300:"#d4d4d8",400:"#a1a1aa",500:"#71717a",600:"#52525b",700:"#3f3f46",800:"#27272a",900:"#18181b",950:"#09090b"},neutral:{50:"#fafafa",100:"#f5f5f5",200:"#e5e5e5",300:"#d4d4d4",400:"#a3a3a3",500:"#737373",600:"#525252",700:"#404040",800:"#262626",900:"#171717",950:"#0a0a0a"},stone:{50:"#fafaf9",100:"#f5f5f4",200:"#e7e5e4",300:"#d6d3d1",400:"#a8a29e",500:"#78716c",600:"#57534e",700:"#44403c",800:"#292524",900:"#1c1917",950:"#0c0a09"}},semantic:{transitionDuration:"0.2s",focusRing:{width:"1px",style:"solid",color:"{primary.color}",offset:"2px",shadow:"none"},disabledOpacity:"0.6",iconSize:"1rem",anchorGutter:"2px",primary:{50:"{emerald.50}",100:"{emerald.100}",200:"{emerald.200}",300:"{emerald.300}",400:"{emerald.400}",500:"{emerald.500}",600:"{emerald.600}",700:"{emerald.700}",800:"{emerald.800}",900:"{emerald.900}",950:"{emerald.950}"},formField:{paddingX:"0.75rem",paddingY:"0.5rem",sm:{fontSize:"0.875rem",paddingX:"0.625rem",paddingY:"0.375rem"},lg:{fontSize:"1.125rem",paddingX:"0.875rem",paddingY:"0.625rem"},borderRadius:"{border.radius.md}",focusRing:{width:"0",style:"none",color:"transparent",offset:"0",shadow:"none"},transitionDuration:"{transition.duration}"},list:{padding:"0.25rem 0.25rem",gap:"2px",header:{padding:"0.5rem 1rem 0.25rem 1rem"},option:{padding:"0.5rem 0.75rem",borderRadius:"{border.radius.sm}"},optionGroup:{padding:"0.5rem 0.75rem",fontWeight:"600"}},content:{borderRadius:"{border.radius.md}"},mask:{transitionDuration:"0.3s"},navigation:{list:{padding:"0.25rem 0.25rem",gap:"2px"},item:{padding:"0.5rem 0.75rem",borderRadius:"{border.radius.sm}",gap:"0.5rem"},submenuLabel:{padding:"0.5rem 0.75rem",fontWeight:"600"},submenuIcon:{size:"0.875rem"}},overlay:{select:{borderRadius:"{border.radius.md}",shadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -2px rgba(0, 0, 0, 0.1)"},popover:{borderRadius:"{border.radius.md}",padding:"0.75rem",shadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -2px rgba(0, 0, 0, 0.1)"},modal:{borderRadius:"{border.radius.xl}",padding:"1.25rem",shadow:"0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 8px 10px -6px rgba(0, 0, 0, 0.1)"},navigation:{shadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -2px rgba(0, 0, 0, 0.1)"}},colorScheme:{light:{surface:{0:"#ffffff",50:"{slate.50}",100:"{slate.100}",200:"{slate.200}",300:"{slate.300}",400:"{slate.400}",500:"{slate.500}",600:"{slate.600}",700:"{slate.700}",800:"{slate.800}",900:"{slate.900}",950:"{slate.950}"},primary:{color:"{primary.500}",contrastColor:"#ffffff",hoverColor:"{primary.600}",activeColor:"{primary.700}"},highlight:{background:"{primary.50}",focusBackground:"{primary.100}",color:"{primary.700}",focusColor:"{primary.800}"},mask:{background:"rgba(0,0,0,0.4)",color:"{surface.200}"},formField:{background:"{surface.0}",disabledBackground:"{surface.200}",filledBackground:"{surface.50}",filledHoverBackground:"{surface.50}",filledFocusBackground:"{surface.50}",borderColor:"{surface.300}",hoverBorderColor:"{surface.400}",focusBorderColor:"{primary.color}",invalidBorderColor:"{red.400}",color:"{surface.700}",disabledColor:"{surface.500}",placeholderColor:"{surface.500}",invalidPlaceholderColor:"{red.600}",floatLabelColor:"{surface.500}",floatLabelFocusColor:"{primary.600}",floatLabelActiveColor:"{surface.500}",floatLabelInvalidColor:"{form.field.invalid.placeholder.color}",iconColor:"{surface.400}",shadow:"0 0 #0000, 0 0 #0000, 0 1px 2px 0 rgba(18, 18, 23, 0.05)"},text:{color:"{surface.700}",hoverColor:"{surface.800}",mutedColor:"{surface.500}",hoverMutedColor:"{surface.600}"},content:{background:"{surface.0}",hoverBackground:"{surface.100}",borderColor:"{surface.200}",color:"{text.color}",hoverColor:"{text.hover.color}"},overlay:{select:{background:"{surface.0}",borderColor:"{surface.200}",color:"{text.color}"},popover:{background:"{surface.0}",borderColor:"{surface.200}",color:"{text.color}"},modal:{background:"{surface.0}",borderColor:"{surface.200}",color:"{text.color}"}},list:{option:{focusBackground:"{surface.100}",selectedBackground:"{highlight.background}",selectedFocusBackground:"{highlight.focus.background}",color:"{text.color}",focusColor:"{text.hover.color}",selectedColor:"{highlight.color}",selectedFocusColor:"{highlight.focus.color}",icon:{color:"{surface.400}",focusColor:"{surface.500}"}},optionGroup:{background:"transparent",color:"{text.muted.color}"}},navigation:{item:{focusBackground:"{surface.100}",activeBackground:"{surface.100}",color:"{text.color}",focusColor:"{text.hover.color}",activeColor:"{text.hover.color}",icon:{color:"{surface.400}",focusColor:"{surface.500}",activeColor:"{surface.500}"}},submenuLabel:{background:"transparent",color:"{text.muted.color}"},submenuIcon:{color:"{surface.400}",focusColor:"{surface.500}",activeColor:"{surface.500}"}}},dark:{surface:{0:"#ffffff",50:"{zinc.50}",100:"{zinc.100}",200:"{zinc.200}",300:"{zinc.300}",400:"{zinc.400}",500:"{zinc.500}",600:"{zinc.600}",700:"{zinc.700}",800:"{zinc.800}",900:"{zinc.900}",950:"{zinc.950}"},primary:{color:"{primary.400}",contrastColor:"{surface.900}",hoverColor:"{primary.300}",activeColor:"{primary.200}"},highlight:{background:"color-mix(in srgb, {primary.400}, transparent 84%)",focusBackground:"color-mix(in srgb, {primary.400}, transparent 76%)",color:"rgba(255,255,255,.87)",focusColor:"rgba(255,255,255,.87)"},mask:{background:"rgba(0,0,0,0.6)",color:"{surface.200}"},formField:{background:"{surface.950}",disabledBackground:"{surface.700}",filledBackground:"{surface.800}",filledHoverBackground:"{surface.800}",filledFocusBackground:"{surface.800}",borderColor:"{surface.600}",hoverBorderColor:"{surface.500}",focusBorderColor:"{primary.color}",invalidBorderColor:"{red.300}",color:"{surface.0}",disabledColor:"{surface.400}",placeholderColor:"{surface.400}",invalidPlaceholderColor:"{red.400}",floatLabelColor:"{surface.400}",floatLabelFocusColor:"{primary.color}",floatLabelActiveColor:"{surface.400}",floatLabelInvalidColor:"{form.field.invalid.placeholder.color}",iconColor:"{surface.400}",shadow:"0 0 #0000, 0 0 #0000, 0 1px 2px 0 rgba(18, 18, 23, 0.05)"},text:{color:"{surface.0}",hoverColor:"{surface.0}",mutedColor:"{surface.400}",hoverMutedColor:"{surface.300}"},content:{background:"{surface.900}",hoverBackground:"{surface.800}",borderColor:"{surface.700}",color:"{text.color}",hoverColor:"{text.hover.color}"},overlay:{select:{background:"{surface.900}",borderColor:"{surface.700}",color:"{text.color}"},popover:{background:"{surface.900}",borderColor:"{surface.700}",color:"{text.color}"},modal:{background:"{surface.900}",borderColor:"{surface.700}",color:"{text.color}"}},list:{option:{focusBackground:"{surface.800}",selectedBackground:"{highlight.background}",selectedFocusBackground:"{highlight.focus.background}",color:"{text.color}",focusColor:"{text.hover.color}",selectedColor:"{highlight.color}",selectedFocusColor:"{highlight.focus.color}",icon:{color:"{surface.500}",focusColor:"{surface.400}"}},optionGroup:{background:"transparent",color:"{text.muted.color}"}},navigation:{item:{focusBackground:"{surface.800}",activeBackground:"{surface.800}",color:"{text.color}",focusColor:"{text.hover.color}",activeColor:"{text.hover.color}",icon:{color:"{surface.500}",focusColor:"{surface.400}",activeColor:"{surface.400}"}},submenuLabel:{background:"transparent",color:"{text.muted.color}"},submenuIcon:{color:"{surface.500}",focusColor:"{surface.400}",activeColor:"{surface.400}"}}}}}}),gle({components:{accordion:{root:{transitionDuration:"{transition.duration}"},panel:{borderWidth:"0 0 1px 0",borderColor:"{content.border.color}"},header:{color:"{text.muted.color}",hoverColor:"{text.color}",activeColor:"{text.color}",activeHoverColor:"{text.color}",padding:"1.125rem",fontWeight:"600",borderRadius:"0",borderWidth:"0",borderColor:"{content.border.color}",background:"{content.background}",hoverBackground:"{content.background}",activeBackground:"{content.background}",activeHoverBackground:"{content.background}",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"-1px",shadow:"{focus.ring.shadow}"},toggleIcon:{color:"{text.muted.color}",hoverColor:"{text.color}",activeColor:"{text.color}",activeHoverColor:"{text.color}"},first:{topBorderRadius:"{content.border.radius}",borderWidth:"0"},last:{bottomBorderRadius:"{content.border.radius}",activeBottomBorderRadius:"0"}},content:{borderWidth:"0",borderColor:"{content.border.color}",background:"{content.background}",color:"{text.color}",padding:"0 1.125rem 1.125rem 1.125rem"}},autocomplete:{root:{background:"{form.field.background}",disabledBackground:"{form.field.disabled.background}",filledBackground:"{form.field.filled.background}",filledHoverBackground:"{form.field.filled.hover.background}",filledFocusBackground:"{form.field.filled.focus.background}",borderColor:"{form.field.border.color}",hoverBorderColor:"{form.field.hover.border.color}",focusBorderColor:"{form.field.focus.border.color}",invalidBorderColor:"{form.field.invalid.border.color}",color:"{form.field.color}",disabledColor:"{form.field.disabled.color}",placeholderColor:"{form.field.placeholder.color}",invalidPlaceholderColor:"{form.field.invalid.placeholder.color}",shadow:"{form.field.shadow}",paddingX:"{form.field.padding.x}",paddingY:"{form.field.padding.y}",borderRadius:"{form.field.border.radius}",focusRing:{width:"{form.field.focus.ring.width}",style:"{form.field.focus.ring.style}",color:"{form.field.focus.ring.color}",offset:"{form.field.focus.ring.offset}",shadow:"{form.field.focus.ring.shadow}"},transitionDuration:"{form.field.transition.duration}"},overlay:{background:"{overlay.select.background}",borderColor:"{overlay.select.border.color}",borderRadius:"{overlay.select.border.radius}",color:"{overlay.select.color}",shadow:"{overlay.select.shadow}"},list:{padding:"{list.padding}",gap:"{list.gap}"},option:{focusBackground:"{list.option.focus.background}",selectedBackground:"{list.option.selected.background}",selectedFocusBackground:"{list.option.selected.focus.background}",color:"{list.option.color}",focusColor:"{list.option.focus.color}",selectedColor:"{list.option.selected.color}",selectedFocusColor:"{list.option.selected.focus.color}",padding:"{list.option.padding}",borderRadius:"{list.option.border.radius}"},optionGroup:{background:"{list.option.group.background}",color:"{list.option.group.color}",fontWeight:"{list.option.group.font.weight}",padding:"{list.option.group.padding}"},dropdown:{width:"2.5rem",sm:{width:"2rem"},lg:{width:"3rem"},borderColor:"{form.field.border.color}",hoverBorderColor:"{form.field.border.color}",activeBorderColor:"{form.field.border.color}",borderRadius:"{form.field.border.radius}",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}},chip:{borderRadius:"{border.radius.sm}"},emptyMessage:{padding:"{list.option.padding}"},colorScheme:{light:{chip:{focusBackground:"{surface.200}",focusColor:"{surface.800}"},dropdown:{background:"{surface.100}",hoverBackground:"{surface.200}",activeBackground:"{surface.300}",color:"{surface.600}",hoverColor:"{surface.700}",activeColor:"{surface.800}"}},dark:{chip:{focusBackground:"{surface.700}",focusColor:"{surface.0}"},dropdown:{background:"{surface.800}",hoverBackground:"{surface.700}",activeBackground:"{surface.600}",color:"{surface.300}",hoverColor:"{surface.200}",activeColor:"{surface.100}"}}}},avatar:{root:{width:"2rem",height:"2rem",fontSize:"1rem",background:"{content.border.color}",color:"{content.color}",borderRadius:"{content.border.radius}"},icon:{size:"1rem"},group:{borderColor:"{content.background}",offset:"-0.75rem"},lg:{width:"3rem",height:"3rem",fontSize:"1.5rem",icon:{size:"1.5rem"},group:{offset:"-1rem"}},xl:{width:"4rem",height:"4rem",fontSize:"2rem",icon:{size:"2rem"},group:{offset:"-1.5rem"}}},badge:{root:{borderRadius:"{border.radius.md}",padding:"0 0.5rem",fontSize:"0.75rem",fontWeight:"700",minWidth:"1.5rem",height:"1.5rem"},dot:{size:"0.5rem"},sm:{fontSize:"0.625rem",minWidth:"1.25rem",height:"1.25rem"},lg:{fontSize:"0.875rem",minWidth:"1.75rem",height:"1.75rem"},xl:{fontSize:"1rem",minWidth:"2rem",height:"2rem"},colorScheme:{light:{primary:{background:"{primary.color}",color:"{primary.contrast.color}"},secondary:{background:"{surface.100}",color:"{surface.600}"},success:{background:"{green.500}",color:"{surface.0}"},info:{background:"{sky.500}",color:"{surface.0}"},warn:{background:"{orange.500}",color:"{surface.0}"},danger:{background:"{red.500}",color:"{surface.0}"},contrast:{background:"{surface.950}",color:"{surface.0}"}},dark:{primary:{background:"{primary.color}",color:"{primary.contrast.color}"},secondary:{background:"{surface.800}",color:"{surface.300}"},success:{background:"{green.400}",color:"{green.950}"},info:{background:"{sky.400}",color:"{sky.950}"},warn:{background:"{orange.400}",color:"{orange.950}"},danger:{background:"{red.400}",color:"{red.950}"},contrast:{background:"{surface.0}",color:"{surface.950}"}}}},blockui:{root:{borderRadius:"{content.border.radius}"}},breadcrumb:{root:{padding:"1rem",background:"{content.background}",gap:"0.5rem",transitionDuration:"{transition.duration}"},item:{color:"{text.muted.color}",hoverColor:"{text.color}",borderRadius:"{content.border.radius}",gap:"{navigation.item.gap}",icon:{color:"{navigation.item.icon.color}",hoverColor:"{navigation.item.icon.focus.color}"},focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}},separator:{color:"{navigation.item.icon.color}"}},button:{root:{borderRadius:"{form.field.border.radius}",roundedBorderRadius:"2rem",gap:"0.5rem",paddingX:"{form.field.padding.x}",paddingY:"{form.field.padding.y}",iconOnlyWidth:"2.5rem",sm:{fontSize:"{form.field.sm.font.size}",paddingX:"{form.field.sm.padding.x}",paddingY:"{form.field.sm.padding.y}",iconOnlyWidth:"2rem"},lg:{fontSize:"{form.field.lg.font.size}",paddingX:"{form.field.lg.padding.x}",paddingY:"{form.field.lg.padding.y}",iconOnlyWidth:"3rem"},label:{fontWeight:"500"},raisedShadow:"0 3px 1px -2px rgba(0, 0, 0, 0.2), 0 2px 2px 0 rgba(0, 0, 0, 0.14), 0 1px 5px 0 rgba(0, 0, 0, 0.12)",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",offset:"{focus.ring.offset}"},badgeSize:"1rem",transitionDuration:"{form.field.transition.duration}"},colorScheme:{light:{root:{primary:{background:"{primary.color}",hoverBackground:"{primary.hover.color}",activeBackground:"{primary.active.color}",borderColor:"{primary.color}",hoverBorderColor:"{primary.hover.color}",activeBorderColor:"{primary.active.color}",color:"{primary.contrast.color}",hoverColor:"{primary.contrast.color}",activeColor:"{primary.contrast.color}",focusRing:{color:"{primary.color}",shadow:"none"}},secondary:{background:"{surface.100}",hoverBackground:"{surface.200}",activeBackground:"{surface.300}",borderColor:"{surface.100}",hoverBorderColor:"{surface.200}",activeBorderColor:"{surface.300}",color:"{surface.600}",hoverColor:"{surface.700}",activeColor:"{surface.800}",focusRing:{color:"{surface.600}",shadow:"none"}},info:{background:"{sky.500}",hoverBackground:"{sky.600}",activeBackground:"{sky.700}",borderColor:"{sky.500}",hoverBorderColor:"{sky.600}",activeBorderColor:"{sky.700}",color:"#ffffff",hoverColor:"#ffffff",activeColor:"#ffffff",focusRing:{color:"{sky.500}",shadow:"none"}},success:{background:"{green.500}",hoverBackground:"{green.600}",activeBackground:"{green.700}",borderColor:"{green.500}",hoverBorderColor:"{green.600}",activeBorderColor:"{green.700}",color:"#ffffff",hoverColor:"#ffffff",activeColor:"#ffffff",focusRing:{color:"{green.500}",shadow:"none"}},warn:{background:"{orange.500}",hoverBackground:"{orange.600}",activeBackground:"{orange.700}",borderColor:"{orange.500}",hoverBorderColor:"{orange.600}",activeBorderColor:"{orange.700}",color:"#ffffff",hoverColor:"#ffffff",activeColor:"#ffffff",focusRing:{color:"{orange.500}",shadow:"none"}},help:{background:"{purple.500}",hoverBackground:"{purple.600}",activeBackground:"{purple.700}",borderColor:"{purple.500}",hoverBorderColor:"{purple.600}",activeBorderColor:"{purple.700}",color:"#ffffff",hoverColor:"#ffffff",activeColor:"#ffffff",focusRing:{color:"{purple.500}",shadow:"none"}},danger:{background:"{red.500}",hoverBackground:"{red.600}",activeBackground:"{red.700}",borderColor:"{red.500}",hoverBorderColor:"{red.600}",activeBorderColor:"{red.700}",color:"#ffffff",hoverColor:"#ffffff",activeColor:"#ffffff",focusRing:{color:"{red.500}",shadow:"none"}},contrast:{background:"{surface.950}",hoverBackground:"{surface.900}",activeBackground:"{surface.800}",borderColor:"{surface.950}",hoverBorderColor:"{surface.900}",activeBorderColor:"{surface.800}",color:"{surface.0}",hoverColor:"{surface.0}",activeColor:"{surface.0}",focusRing:{color:"{surface.950}",shadow:"none"}}},outlined:{primary:{hoverBackground:"{primary.50}",activeBackground:"{primary.100}",borderColor:"{primary.200}",color:"{primary.color}"},secondary:{hoverBackground:"{surface.50}",activeBackground:"{surface.100}",borderColor:"{surface.200}",color:"{surface.500}"},success:{hoverBackground:"{green.50}",activeBackground:"{green.100}",borderColor:"{green.200}",color:"{green.500}"},info:{hoverBackground:"{sky.50}",activeBackground:"{sky.100}",borderColor:"{sky.200}",color:"{sky.500}"},warn:{hoverBackground:"{orange.50}",activeBackground:"{orange.100}",borderColor:"{orange.200}",color:"{orange.500}"},help:{hoverBackground:"{purple.50}",activeBackground:"{purple.100}",borderColor:"{purple.200}",color:"{purple.500}"},danger:{hoverBackground:"{red.50}",activeBackground:"{red.100}",borderColor:"{red.200}",color:"{red.500}"},contrast:{hoverBackground:"{surface.50}",activeBackground:"{surface.100}",borderColor:"{surface.700}",color:"{surface.950}"},plain:{hoverBackground:"{surface.50}",activeBackground:"{surface.100}",borderColor:"{surface.200}",color:"{surface.700}"}},text:{primary:{hoverBackground:"{primary.50}",activeBackground:"{primary.100}",color:"{primary.color}"},secondary:{hoverBackground:"{surface.50}",activeBackground:"{surface.100}",color:"{surface.500}"},success:{hoverBackground:"{green.50}",activeBackground:"{green.100}",color:"{green.500}"},info:{hoverBackground:"{sky.50}",activeBackground:"{sky.100}",color:"{sky.500}"},warn:{hoverBackground:"{orange.50}",activeBackground:"{orange.100}",color:"{orange.500}"},help:{hoverBackground:"{purple.50}",activeBackground:"{purple.100}",color:"{purple.500}"},danger:{hoverBackground:"{red.50}",activeBackground:"{red.100}",color:"{red.500}"},contrast:{hoverBackground:"{surface.50}",activeBackground:"{surface.100}",color:"{surface.950}"},plain:{hoverBackground:"{surface.50}",activeBackground:"{surface.100}",color:"{surface.700}"}},link:{color:"{primary.color}",hoverColor:"{primary.color}",activeColor:"{primary.color}"}},dark:{root:{primary:{background:"{primary.color}",hoverBackground:"{primary.hover.color}",activeBackground:"{primary.active.color}",borderColor:"{primary.color}",hoverBorderColor:"{primary.hover.color}",activeBorderColor:"{primary.active.color}",color:"{primary.contrast.color}",hoverColor:"{primary.contrast.color}",activeColor:"{primary.contrast.color}",focusRing:{color:"{primary.color}",shadow:"none"}},secondary:{background:"{surface.800}",hoverBackground:"{surface.700}",activeBackground:"{surface.600}",borderColor:"{surface.800}",hoverBorderColor:"{surface.700}",activeBorderColor:"{surface.600}",color:"{surface.300}",hoverColor:"{surface.200}",activeColor:"{surface.100}",focusRing:{color:"{surface.300}",shadow:"none"}},info:{background:"{sky.400}",hoverBackground:"{sky.300}",activeBackground:"{sky.200}",borderColor:"{sky.400}",hoverBorderColor:"{sky.300}",activeBorderColor:"{sky.200}",color:"{sky.950}",hoverColor:"{sky.950}",activeColor:"{sky.950}",focusRing:{color:"{sky.400}",shadow:"none"}},success:{background:"{green.400}",hoverBackground:"{green.300}",activeBackground:"{green.200}",borderColor:"{green.400}",hoverBorderColor:"{green.300}",activeBorderColor:"{green.200}",color:"{green.950}",hoverColor:"{green.950}",activeColor:"{green.950}",focusRing:{color:"{green.400}",shadow:"none"}},warn:{background:"{orange.400}",hoverBackground:"{orange.300}",activeBackground:"{orange.200}",borderColor:"{orange.400}",hoverBorderColor:"{orange.300}",activeBorderColor:"{orange.200}",color:"{orange.950}",hoverColor:"{orange.950}",activeColor:"{orange.950}",focusRing:{color:"{orange.400}",shadow:"none"}},help:{background:"{purple.400}",hoverBackground:"{purple.300}",activeBackground:"{purple.200}",borderColor:"{purple.400}",hoverBorderColor:"{purple.300}",activeBorderColor:"{purple.200}",color:"{purple.950}",hoverColor:"{purple.950}",activeColor:"{purple.950}",focusRing:{color:"{purple.400}",shadow:"none"}},danger:{background:"{red.400}",hoverBackground:"{red.300}",activeBackground:"{red.200}",borderColor:"{red.400}",hoverBorderColor:"{red.300}",activeBorderColor:"{red.200}",color:"{red.950}",hoverColor:"{red.950}",activeColor:"{red.950}",focusRing:{color:"{red.400}",shadow:"none"}},contrast:{background:"{surface.0}",hoverBackground:"{surface.100}",activeBackground:"{surface.200}",borderColor:"{surface.0}",hoverBorderColor:"{surface.100}",activeBorderColor:"{surface.200}",color:"{surface.950}",hoverColor:"{surface.950}",activeColor:"{surface.950}",focusRing:{color:"{surface.0}",shadow:"none"}}},outlined:{primary:{hoverBackground:"color-mix(in srgb, {primary.color}, transparent 96%)",activeBackground:"color-mix(in srgb, {primary.color}, transparent 84%)",borderColor:"{primary.700}",color:"{primary.color}"},secondary:{hoverBackground:"rgba(255,255,255,0.04)",activeBackground:"rgba(255,255,255,0.16)",borderColor:"{surface.700}",color:"{surface.400}"},success:{hoverBackground:"color-mix(in srgb, {green.400}, transparent 96%)",activeBackground:"color-mix(in srgb, {green.400}, transparent 84%)",borderColor:"{green.700}",color:"{green.400}"},info:{hoverBackground:"color-mix(in srgb, {sky.400}, transparent 96%)",activeBackground:"color-mix(in srgb, {sky.400}, transparent 84%)",borderColor:"{sky.700}",color:"{sky.400}"},warn:{hoverBackground:"color-mix(in srgb, {orange.400}, transparent 96%)",activeBackground:"color-mix(in srgb, {orange.400}, transparent 84%)",borderColor:"{orange.700}",color:"{orange.400}"},help:{hoverBackground:"color-mix(in srgb, {purple.400}, transparent 96%)",activeBackground:"color-mix(in srgb, {purple.400}, transparent 84%)",borderColor:"{purple.700}",color:"{purple.400}"},danger:{hoverBackground:"color-mix(in srgb, {red.400}, transparent 96%)",activeBackground:"color-mix(in srgb, {red.400}, transparent 84%)",borderColor:"{red.700}",color:"{red.400}"},contrast:{hoverBackground:"{surface.800}",activeBackground:"{surface.700}",borderColor:"{surface.500}",color:"{surface.0}"},plain:{hoverBackground:"{surface.800}",activeBackground:"{surface.700}",borderColor:"{surface.600}",color:"{surface.0}"}},text:{primary:{hoverBackground:"color-mix(in srgb, {primary.color}, transparent 96%)",activeBackground:"color-mix(in srgb, {primary.color}, transparent 84%)",color:"{primary.color}"},secondary:{hoverBackground:"{surface.800}",activeBackground:"{surface.700}",color:"{surface.400}"},success:{hoverBackground:"color-mix(in srgb, {green.400}, transparent 96%)",activeBackground:"color-mix(in srgb, {green.400}, transparent 84%)",color:"{green.400}"},info:{hoverBackground:"color-mix(in srgb, {sky.400}, transparent 96%)",activeBackground:"color-mix(in srgb, {sky.400}, transparent 84%)",color:"{sky.400}"},warn:{hoverBackground:"color-mix(in srgb, {orange.400}, transparent 96%)",activeBackground:"color-mix(in srgb, {orange.400}, transparent 84%)",color:"{orange.400}"},help:{hoverBackground:"color-mix(in srgb, {purple.400}, transparent 96%)",activeBackground:"color-mix(in srgb, {purple.400}, transparent 84%)",color:"{purple.400}"},danger:{hoverBackground:"color-mix(in srgb, {red.400}, transparent 96%)",activeBackground:"color-mix(in srgb, {red.400}, transparent 84%)",color:"{red.400}"},contrast:{hoverBackground:"{surface.800}",activeBackground:"{surface.700}",color:"{surface.0}"},plain:{hoverBackground:"{surface.800}",activeBackground:"{surface.700}",color:"{surface.0}"}},link:{color:"{primary.color}",hoverColor:"{primary.color}",activeColor:"{primary.color}"}}}},card:{root:{background:"{content.background}",borderRadius:"{border.radius.xl}",color:"{content.color}",shadow:"0 1px 3px 0 rgba(0, 0, 0, 0.1), 0 1px 2px -1px rgba(0, 0, 0, 0.1)"},body:{padding:"1.25rem",gap:"0.5rem"},caption:{gap:"0.5rem"},title:{fontSize:"1.25rem",fontWeight:"500"},subtitle:{color:"{text.muted.color}"}},carousel:{root:{transitionDuration:"{transition.duration}"},content:{gap:"0.25rem"},indicatorList:{padding:"1rem",gap:"0.5rem"},indicator:{width:"2rem",height:"0.5rem",borderRadius:"{content.border.radius}",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}},colorScheme:{light:{indicator:{background:"{surface.200}",hoverBackground:"{surface.300}",activeBackground:"{primary.color}"}},dark:{indicator:{background:"{surface.700}",hoverBackground:"{surface.600}",activeBackground:"{primary.color}"}}}},cascadeselect:{root:{background:"{form.field.background}",disabledBackground:"{form.field.disabled.background}",filledBackground:"{form.field.filled.background}",filledHoverBackground:"{form.field.filled.hover.background}",filledFocusBackground:"{form.field.filled.focus.background}",borderColor:"{form.field.border.color}",hoverBorderColor:"{form.field.hover.border.color}",focusBorderColor:"{form.field.focus.border.color}",invalidBorderColor:"{form.field.invalid.border.color}",color:"{form.field.color}",disabledColor:"{form.field.disabled.color}",placeholderColor:"{form.field.placeholder.color}",invalidPlaceholderColor:"{form.field.invalid.placeholder.color}",shadow:"{form.field.shadow}",paddingX:"{form.field.padding.x}",paddingY:"{form.field.padding.y}",borderRadius:"{form.field.border.radius}",focusRing:{width:"{form.field.focus.ring.width}",style:"{form.field.focus.ring.style}",color:"{form.field.focus.ring.color}",offset:"{form.field.focus.ring.offset}",shadow:"{form.field.focus.ring.shadow}"},transitionDuration:"{form.field.transition.duration}",sm:{fontSize:"{form.field.sm.font.size}",paddingX:"{form.field.sm.padding.x}",paddingY:"{form.field.sm.padding.y}"},lg:{fontSize:"{form.field.lg.font.size}",paddingX:"{form.field.lg.padding.x}",paddingY:"{form.field.lg.padding.y}"}},dropdown:{width:"2.5rem",color:"{form.field.icon.color}"},overlay:{background:"{overlay.select.background}",borderColor:"{overlay.select.border.color}",borderRadius:"{overlay.select.border.radius}",color:"{overlay.select.color}",shadow:"{overlay.select.shadow}"},list:{padding:"{list.padding}",gap:"{list.gap}",mobileIndent:"1rem"},option:{focusBackground:"{list.option.focus.background}",selectedBackground:"{list.option.selected.background}",selectedFocusBackground:"{list.option.selected.focus.background}",color:"{list.option.color}",focusColor:"{list.option.focus.color}",selectedColor:"{list.option.selected.color}",selectedFocusColor:"{list.option.selected.focus.color}",padding:"{list.option.padding}",borderRadius:"{list.option.border.radius}",icon:{color:"{list.option.icon.color}",focusColor:"{list.option.icon.focus.color}",size:"0.875rem"}},clearIcon:{color:"{form.field.icon.color}"}},checkbox:{root:{borderRadius:"{border.radius.sm}",width:"1.25rem",height:"1.25rem",background:"{form.field.background}",checkedBackground:"{primary.color}",checkedHoverBackground:"{primary.hover.color}",disabledBackground:"{form.field.disabled.background}",filledBackground:"{form.field.filled.background}",borderColor:"{form.field.border.color}",hoverBorderColor:"{form.field.hover.border.color}",focusBorderColor:"{form.field.border.color}",checkedBorderColor:"{primary.color}",checkedHoverBorderColor:"{primary.hover.color}",checkedFocusBorderColor:"{primary.color}",checkedDisabledBorderColor:"{form.field.border.color}",invalidBorderColor:"{form.field.invalid.border.color}",shadow:"{form.field.shadow}",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"},transitionDuration:"{form.field.transition.duration}",sm:{width:"1rem",height:"1rem"},lg:{width:"1.5rem",height:"1.5rem"}},icon:{size:"0.875rem",color:"{form.field.color}",checkedColor:"{primary.contrast.color}",checkedHoverColor:"{primary.contrast.color}",disabledColor:"{form.field.disabled.color}",sm:{size:"0.75rem"},lg:{size:"1rem"}}},chip:{root:{borderRadius:"16px",paddingX:"0.75rem",paddingY:"0.5rem",gap:"0.5rem",transitionDuration:"{transition.duration}"},image:{width:"2rem",height:"2rem"},icon:{size:"1rem"},removeIcon:{size:"1rem",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{form.field.focus.ring.shadow}"}},colorScheme:{light:{root:{background:"{surface.100}",color:"{surface.800}"},icon:{color:"{surface.800}"},removeIcon:{color:"{surface.800}"}},dark:{root:{background:"{surface.800}",color:"{surface.0}"},icon:{color:"{surface.0}"},removeIcon:{color:"{surface.0}"}}}},colorpicker:{root:{transitionDuration:"{transition.duration}"},preview:{width:"1.5rem",height:"1.5rem",borderRadius:"{form.field.border.radius}",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}},panel:{shadow:"{overlay.popover.shadow}",borderRadius:"{overlay.popover.borderRadius}"},colorScheme:{light:{panel:{background:"{surface.800}",borderColor:"{surface.900}"},handle:{color:"{surface.0}"}},dark:{panel:{background:"{surface.900}",borderColor:"{surface.700}"},handle:{color:"{surface.0}"}}}},confirmdialog:{icon:{size:"2rem",color:"{overlay.modal.color}"},content:{gap:"1rem"}},confirmpopup:{root:{background:"{overlay.popover.background}",borderColor:"{overlay.popover.border.color}",color:"{overlay.popover.color}",borderRadius:"{overlay.popover.border.radius}",shadow:"{overlay.popover.shadow}",gutter:"10px",arrowOffset:"1.25rem"},content:{padding:"{overlay.popover.padding}",gap:"1rem"},icon:{size:"1.5rem",color:"{overlay.popover.color}"},footer:{gap:"0.5rem",padding:"0 {overlay.popover.padding} {overlay.popover.padding} {overlay.popover.padding}"}},contextmenu:{root:{background:"{content.background}",borderColor:"{content.border.color}",color:"{content.color}",borderRadius:"{content.border.radius}",shadow:"{overlay.navigation.shadow}",transitionDuration:"{transition.duration}"},list:{padding:"{navigation.list.padding}",gap:"{navigation.list.gap}"},item:{focusBackground:"{navigation.item.focus.background}",activeBackground:"{navigation.item.active.background}",color:"{navigation.item.color}",focusColor:"{navigation.item.focus.color}",activeColor:"{navigation.item.active.color}",padding:"{navigation.item.padding}",borderRadius:"{navigation.item.border.radius}",gap:"{navigation.item.gap}",icon:{color:"{navigation.item.icon.color}",focusColor:"{navigation.item.icon.focus.color}",activeColor:"{navigation.item.icon.active.color}"}},submenu:{mobileIndent:"1rem"},submenuIcon:{size:"{navigation.submenu.icon.size}",color:"{navigation.submenu.icon.color}",focusColor:"{navigation.submenu.icon.focus.color}",activeColor:"{navigation.submenu.icon.active.color}"},separator:{borderColor:"{content.border.color}"}},datatable:{root:{transitionDuration:"{transition.duration}"},header:{background:"{content.background}",borderColor:"{datatable.border.color}",color:"{content.color}",borderWidth:"0 0 1px 0",padding:"0.75rem 1rem",sm:{padding:"0.375rem 0.5rem"},lg:{padding:"1rem 1.25rem"}},headerCell:{background:"{content.background}",hoverBackground:"{content.hover.background}",selectedBackground:"{highlight.background}",borderColor:"{datatable.border.color}",color:"{content.color}",hoverColor:"{content.hover.color}",selectedColor:"{highlight.color}",gap:"0.5rem",padding:"0.75rem 1rem",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"-1px",shadow:"{focus.ring.shadow}"},sm:{padding:"0.375rem 0.5rem"},lg:{padding:"1rem 1.25rem"}},columnTitle:{fontWeight:"600"},row:{background:"{content.background}",hoverBackground:"{content.hover.background}",selectedBackground:"{highlight.background}",color:"{content.color}",hoverColor:"{content.hover.color}",selectedColor:"{highlight.color}",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"-1px",shadow:"{focus.ring.shadow}"}},bodyCell:{borderColor:"{datatable.border.color}",padding:"0.75rem 1rem",sm:{padding:"0.375rem 0.5rem"},lg:{padding:"1rem 1.25rem"}},footerCell:{background:"{content.background}",borderColor:"{datatable.border.color}",color:"{content.color}",padding:"0.75rem 1rem",sm:{padding:"0.375rem 0.5rem"},lg:{padding:"1rem 1.25rem"}},columnFooter:{fontWeight:"600"},footer:{background:"{content.background}",borderColor:"{datatable.border.color}",color:"{content.color}",borderWidth:"0 0 1px 0",padding:"0.75rem 1rem",sm:{padding:"0.375rem 0.5rem"},lg:{padding:"1rem 1.25rem"}},dropPoint:{color:"{primary.color}"},columnResizer:{width:"0.5rem"},resizeIndicator:{width:"1px",color:"{primary.color}"},sortIcon:{color:"{text.muted.color}",hoverColor:"{text.hover.muted.color}",size:"0.875rem"},loadingIcon:{size:"2rem"},rowToggleButton:{hoverBackground:"{content.hover.background}",selectedHoverBackground:"{content.background}",color:"{text.muted.color}",hoverColor:"{text.color}",selectedHoverColor:"{primary.color}",size:"1.75rem",borderRadius:"50%",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}},filter:{inlineGap:"0.5rem",overlaySelect:{background:"{overlay.select.background}",borderColor:"{overlay.select.border.color}",borderRadius:"{overlay.select.border.radius}",color:"{overlay.select.color}",shadow:"{overlay.select.shadow}"},overlayPopover:{background:"{overlay.popover.background}",borderColor:"{overlay.popover.border.color}",borderRadius:"{overlay.popover.border.radius}",color:"{overlay.popover.color}",shadow:"{overlay.popover.shadow}",padding:"{overlay.popover.padding}",gap:"0.5rem"},rule:{borderColor:"{content.border.color}"},constraintList:{padding:"{list.padding}",gap:"{list.gap}"},constraint:{focusBackground:"{list.option.focus.background}",selectedBackground:"{list.option.selected.background}",selectedFocusBackground:"{list.option.selected.focus.background}",color:"{list.option.color}",focusColor:"{list.option.focus.color}",selectedColor:"{list.option.selected.color}",selectedFocusColor:"{list.option.selected.focus.color}",separator:{borderColor:"{content.border.color}"},padding:"{list.option.padding}",borderRadius:"{list.option.border.radius}"}},paginatorTop:{borderColor:"{datatable.border.color}",borderWidth:"0 0 1px 0"},paginatorBottom:{borderColor:"{datatable.border.color}",borderWidth:"0 0 1px 0"},colorScheme:{light:{root:{borderColor:"{content.border.color}"},row:{stripedBackground:"{surface.50}"},bodyCell:{selectedBorderColor:"{primary.100}"}},dark:{root:{borderColor:"{surface.800}"},row:{stripedBackground:"{surface.950}"},bodyCell:{selectedBorderColor:"{primary.900}"}}},css:"\n    .p-datatable-mask.p-overlay-mask {\n        --px-mask-background: light-dark(rgba(255,255,255,0.5),rgba(0,0,0,0.3));\n    }\n"},dataview:{root:{borderColor:"transparent",borderWidth:"0",borderRadius:"0",padding:"0"},header:{background:"{content.background}",color:"{content.color}",borderColor:"{content.border.color}",borderWidth:"0 0 1px 0",padding:"0.75rem 1rem",borderRadius:"0"},content:{background:"{content.background}",color:"{content.color}",borderColor:"transparent",borderWidth:"0",padding:"0",borderRadius:"0"},footer:{background:"{content.background}",color:"{content.color}",borderColor:"{content.border.color}",borderWidth:"1px 0 0 0",padding:"0.75rem 1rem",borderRadius:"0"},paginatorTop:{borderColor:"{content.border.color}",borderWidth:"0 0 1px 0"},paginatorBottom:{borderColor:"{content.border.color}",borderWidth:"1px 0 0 0"}},datepicker:{root:{transitionDuration:"{transition.duration}"},panel:{background:"{content.background}",borderColor:"{content.border.color}",color:"{content.color}",borderRadius:"{content.border.radius}",shadow:"{overlay.popover.shadow}",padding:"{overlay.popover.padding}"},header:{background:"{content.background}",borderColor:"{content.border.color}",color:"{content.color}",padding:"0 0 0.5rem 0"},title:{gap:"0.5rem",fontWeight:"500"},dropdown:{width:"2.5rem",sm:{width:"2rem"},lg:{width:"3rem"},borderColor:"{form.field.border.color}",hoverBorderColor:"{form.field.border.color}",activeBorderColor:"{form.field.border.color}",borderRadius:"{form.field.border.radius}",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}},inputIcon:{color:"{form.field.icon.color}"},selectMonth:{hoverBackground:"{content.hover.background}",color:"{content.color}",hoverColor:"{content.hover.color}",padding:"0.25rem 0.5rem",borderRadius:"{content.border.radius}"},selectYear:{hoverBackground:"{content.hover.background}",color:"{content.color}",hoverColor:"{content.hover.color}",padding:"0.25rem 0.5rem",borderRadius:"{content.border.radius}"},group:{borderColor:"{content.border.color}",gap:"{overlay.popover.padding}"},dayView:{margin:"0.5rem 0 0 0"},weekDay:{padding:"0.25rem",fontWeight:"500",color:"{content.color}"},date:{hoverBackground:"{content.hover.background}",selectedBackground:"{primary.color}",rangeSelectedBackground:"{highlight.background}",color:"{content.color}",hoverColor:"{content.hover.color}",selectedColor:"{primary.contrast.color}",rangeSelectedColor:"{highlight.color}",width:"2rem",height:"2rem",borderRadius:"50%",padding:"0.25rem",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}},monthView:{margin:"0.5rem 0 0 0"},month:{padding:"0.375rem",borderRadius:"{content.border.radius}"},yearView:{margin:"0.5rem 0 0 0"},year:{padding:"0.375rem",borderRadius:"{content.border.radius}"},buttonbar:{padding:"0.5rem 0 0 0",borderColor:"{content.border.color}"},timePicker:{padding:"0.5rem 0 0 0",borderColor:"{content.border.color}",gap:"0.5rem",buttonGap:"0.25rem"},colorScheme:{light:{dropdown:{background:"{surface.100}",hoverBackground:"{surface.200}",activeBackground:"{surface.300}",color:"{surface.600}",hoverColor:"{surface.700}",activeColor:"{surface.800}"},today:{background:"{surface.200}",color:"{surface.900}"}},dark:{dropdown:{background:"{surface.800}",hoverBackground:"{surface.700}",activeBackground:"{surface.600}",color:"{surface.300}",hoverColor:"{surface.200}",activeColor:"{surface.100}"},today:{background:"{surface.700}",color:"{surface.0}"}}}},dialog:{root:{background:"{overlay.modal.background}",borderColor:"{overlay.modal.border.color}",color:"{overlay.modal.color}",borderRadius:"{overlay.modal.border.radius}",shadow:"{overlay.modal.shadow}"},header:{padding:"{overlay.modal.padding}",gap:"0.5rem"},title:{fontSize:"1.25rem",fontWeight:"600"},content:{padding:"0 {overlay.modal.padding} {overlay.modal.padding} {overlay.modal.padding}"},footer:{padding:"0 {overlay.modal.padding} {overlay.modal.padding} {overlay.modal.padding}",gap:"0.5rem"}},divider:{root:{borderColor:"{content.border.color}"},content:{background:"{content.background}",color:"{text.color}"},horizontal:{margin:"1rem 0",padding:"0 1rem",content:{padding:"0 0.5rem"}},vertical:{margin:"0 1rem",padding:"0.5rem 0",content:{padding:"0.5rem 0"}}},dock:{root:{background:"rgba(255, 255, 255, 0.1)",borderColor:"rgba(255, 255, 255, 0.2)",padding:"0.5rem",borderRadius:"{border.radius.xl}"},item:{borderRadius:"{content.border.radius}",padding:"0.5rem",size:"3rem",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}}},drawer:{root:{background:"{overlay.modal.background}",borderColor:"{overlay.modal.border.color}",color:"{overlay.modal.color}",shadow:"{overlay.modal.shadow}"},header:{padding:"{overlay.modal.padding}"},title:{fontSize:"1.5rem",fontWeight:"600"},content:{padding:"0 {overlay.modal.padding} {overlay.modal.padding} {overlay.modal.padding}"},footer:{padding:"{overlay.modal.padding}"}},editor:{toolbar:{background:"{content.background}",borderColor:"{content.border.color}",borderRadius:"{content.border.radius}"},toolbarItem:{color:"{text.muted.color}",hoverColor:"{text.color}",activeColor:"{primary.color}"},overlay:{background:"{overlay.select.background}",borderColor:"{overlay.select.border.color}",borderRadius:"{overlay.select.border.radius}",color:"{overlay.select.color}",shadow:"{overlay.select.shadow}",padding:"{list.padding}"},overlayOption:{focusBackground:"{list.option.focus.background}",color:"{list.option.color}",focusColor:"{list.option.focus.color}",padding:"{list.option.padding}",borderRadius:"{list.option.border.radius}"},content:{background:"{content.background}",borderColor:"{content.border.color}",color:"{content.color}",borderRadius:"{content.border.radius}"}},fieldset:{root:{background:"{content.background}",borderColor:"{content.border.color}",borderRadius:"{content.border.radius}",color:"{content.color}",padding:"0 1.125rem 1.125rem 1.125rem",transitionDuration:"{transition.duration}"},legend:{background:"{content.background}",hoverBackground:"{content.hover.background}",color:"{content.color}",hoverColor:"{content.hover.color}",borderRadius:"{content.border.radius}",borderWidth:"1px",borderColor:"transparent",padding:"0.5rem 0.75rem",gap:"0.5rem",fontWeight:"600",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}},toggleIcon:{color:"{text.muted.color}",hoverColor:"{text.hover.muted.color}"},content:{padding:"0"}},fileupload:{root:{background:"{content.background}",borderColor:"{content.border.color}",color:"{content.color}",borderRadius:"{content.border.radius}",transitionDuration:"{transition.duration}"},header:{background:"transparent",color:"{text.color}",padding:"1.125rem",borderColor:"unset",borderWidth:"0",borderRadius:"0",gap:"0.5rem"},content:{highlightBorderColor:"{primary.color}",padding:"0 1.125rem 1.125rem 1.125rem",gap:"1rem"},file:{padding:"1rem",gap:"1rem",borderColor:"{content.border.color}",info:{gap:"0.5rem"}},fileList:{gap:"0.5rem"},progressbar:{height:"0.25rem"},basic:{gap:"0.5rem"}},floatlabel:{root:{color:"{form.field.float.label.color}",focusColor:"{form.field.float.label.focus.color}",activeColor:"{form.field.float.label.active.color}",invalidColor:"{form.field.float.label.invalid.color}",transitionDuration:"0.2s",positionX:"{form.field.padding.x}",positionY:"{form.field.padding.y}",fontWeight:"500",active:{fontSize:"0.75rem",fontWeight:"400"}},over:{active:{top:"-1.25rem"}},in:{input:{paddingTop:"1.5rem",paddingBottom:"{form.field.padding.y}"},active:{top:"{form.field.padding.y}"}},on:{borderRadius:"{border.radius.xs}",active:{background:"{form.field.background}",padding:"0 0.125rem"}}},galleria:{root:{borderWidth:"1px",borderColor:"{content.border.color}",borderRadius:"{content.border.radius}",transitionDuration:"{transition.duration}"},navButton:{background:"rgba(255, 255, 255, 0.1)",hoverBackground:"rgba(255, 255, 255, 0.2)",color:"{surface.100}",hoverColor:"{surface.0}",size:"3rem",gutter:"0.5rem",prev:{borderRadius:"50%"},next:{borderRadius:"50%"},focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}},navIcon:{size:"1.5rem"},thumbnailsContent:{background:"{content.background}",padding:"1rem 0.25rem"},thumbnailNavButton:{size:"2rem",borderRadius:"{content.border.radius}",gutter:"0.5rem",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}},thumbnailNavButtonIcon:{size:"1rem"},caption:{background:"rgba(0, 0, 0, 0.5)",color:"{surface.100}",padding:"1rem"},indicatorList:{gap:"0.5rem",padding:"1rem"},indicatorButton:{width:"1rem",height:"1rem",activeBackground:"{primary.color}",borderRadius:"50%",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}},insetIndicatorList:{background:"rgba(0, 0, 0, 0.5)"},insetIndicatorButton:{background:"rgba(255, 255, 255, 0.4)",hoverBackground:"rgba(255, 255, 255, 0.6)",activeBackground:"rgba(255, 255, 255, 0.9)"},closeButton:{size:"3rem",gutter:"0.5rem",background:"rgba(255, 255, 255, 0.1)",hoverBackground:"rgba(255, 255, 255, 0.2)",color:"{surface.50}",hoverColor:"{surface.0}",borderRadius:"50%",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}},closeButtonIcon:{size:"1.5rem"},colorScheme:{light:{thumbnailNavButton:{hoverBackground:"{surface.100}",color:"{surface.600}",hoverColor:"{surface.700}"},indicatorButton:{background:"{surface.200}",hoverBackground:"{surface.300}"}},dark:{thumbnailNavButton:{hoverBackground:"{surface.700}",color:"{surface.400}",hoverColor:"{surface.0}"},indicatorButton:{background:"{surface.700}",hoverBackground:"{surface.600}"}}}},iconfield:{icon:{color:"{form.field.icon.color}"}},iftalabel:{root:{color:"{form.field.float.label.color}",focusColor:"{form.field.float.label.focus.color}",invalidColor:"{form.field.float.label.invalid.color}",transitionDuration:"0.2s",positionX:"{form.field.padding.x}",top:"{form.field.padding.y}",fontSize:"0.75rem",fontWeight:"400"},input:{paddingTop:"1.5rem",paddingBottom:"{form.field.padding.y}"}},image:{root:{transitionDuration:"{transition.duration}"},preview:{icon:{size:"1.5rem"},mask:{background:"{mask.background}",color:"{mask.color}"}},toolbar:{position:{left:"auto",right:"1rem",top:"1rem",bottom:"auto"},blur:"8px",background:"rgba(255,255,255,0.1)",borderColor:"rgba(255,255,255,0.2)",borderWidth:"1px",borderRadius:"30px",padding:".5rem",gap:"0.5rem"},action:{hoverBackground:"rgba(255,255,255,0.1)",color:"{surface.50}",hoverColor:"{surface.0}",size:"3rem",iconSize:"1.5rem",borderRadius:"50%",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}}},imagecompare:{handle:{size:"15px",hoverSize:"30px",background:"rgba(255,255,255,0.3)",hoverBackground:"rgba(255,255,255,0.3)",borderColor:"unset",hoverBorderColor:"unset",borderWidth:"0",borderRadius:"50%",transitionDuration:"{transition.duration}",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"rgba(255,255,255,0.3)",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}}},inlinemessage:{root:{padding:"{form.field.padding.y} {form.field.padding.x}",borderRadius:"{content.border.radius}",gap:"0.5rem"},text:{fontWeight:"500"},icon:{size:"1rem"},colorScheme:{light:{info:{background:"color-mix(in srgb, {blue.50}, transparent 5%)",borderColor:"{blue.200}",color:"{blue.600}",shadow:"0px 4px 8px 0px color-mix(in srgb, {blue.500}, transparent 96%)"},success:{background:"color-mix(in srgb, {green.50}, transparent 5%)",borderColor:"{green.200}",color:"{green.600}",shadow:"0px 4px 8px 0px color-mix(in srgb, {green.500}, transparent 96%)"},warn:{background:"color-mix(in srgb,{yellow.50}, transparent 5%)",borderColor:"{yellow.200}",color:"{yellow.600}",shadow:"0px 4px 8px 0px color-mix(in srgb, {yellow.500}, transparent 96%)"},error:{background:"color-mix(in srgb, {red.50}, transparent 5%)",borderColor:"{red.200}",color:"{red.600}",shadow:"0px 4px 8px 0px color-mix(in srgb, {red.500}, transparent 96%)"},secondary:{background:"{surface.100}",borderColor:"{surface.200}",color:"{surface.600}",shadow:"0px 4px 8px 0px color-mix(in srgb, {surface.500}, transparent 96%)"},contrast:{background:"{surface.900}",borderColor:"{surface.950}",color:"{surface.50}",shadow:"0px 4px 8px 0px color-mix(in srgb, {surface.950}, transparent 96%)"}},dark:{info:{background:"color-mix(in srgb, {blue.500}, transparent 84%)",borderColor:"color-mix(in srgb, {blue.700}, transparent 64%)",color:"{blue.500}",shadow:"0px 4px 8px 0px color-mix(in srgb, {blue.500}, transparent 96%)"},success:{background:"color-mix(in srgb, {green.500}, transparent 84%)",borderColor:"color-mix(in srgb, {green.700}, transparent 64%)",color:"{green.500}",shadow:"0px 4px 8px 0px color-mix(in srgb, {green.500}, transparent 96%)"},warn:{background:"color-mix(in srgb, {yellow.500}, transparent 84%)",borderColor:"color-mix(in srgb, {yellow.700}, transparent 64%)",color:"{yellow.500}",shadow:"0px 4px 8px 0px color-mix(in srgb, {yellow.500}, transparent 96%)"},error:{background:"color-mix(in srgb, {red.500}, transparent 84%)",borderColor:"color-mix(in srgb, {red.700}, transparent 64%)",color:"{red.500}",shadow:"0px 4px 8px 0px color-mix(in srgb, {red.500}, transparent 96%)"},secondary:{background:"{surface.800}",borderColor:"{surface.700}",color:"{surface.300}",shadow:"0px 4px 8px 0px color-mix(in srgb, {surface.500}, transparent 96%)"},contrast:{background:"{surface.0}",borderColor:"{surface.100}",color:"{surface.950}",shadow:"0px 4px 8px 0px color-mix(in srgb, {surface.950}, transparent 96%)"}}}},inplace:{root:{padding:"{form.field.padding.y} {form.field.padding.x}",borderRadius:"{content.border.radius}",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"},transitionDuration:"{transition.duration}"},display:{hoverBackground:"{content.hover.background}",hoverColor:"{content.hover.color}"}},inputchips:{root:{background:"{form.field.background}",disabledBackground:"{form.field.disabled.background}",filledBackground:"{form.field.filled.background}",filledFocusBackground:"{form.field.filled.focus.background}",borderColor:"{form.field.border.color}",hoverBorderColor:"{form.field.hover.border.color}",focusBorderColor:"{form.field.focus.border.color}",invalidBorderColor:"{form.field.invalid.border.color}",color:"{form.field.color}",disabledColor:"{form.field.disabled.color}",placeholderColor:"{form.field.placeholder.color}",shadow:"{form.field.shadow}",paddingX:"{form.field.padding.x}",paddingY:"{form.field.padding.y}",borderRadius:"{form.field.border.radius}",focusRing:{width:"{form.field.focus.ring.width}",style:"{form.field.focus.ring.style}",color:"{form.field.focus.ring.color}",offset:"{form.field.focus.ring.offset}",shadow:"{form.field.focus.ring.shadow}"},transitionDuration:"{form.field.transition.duration}"},chip:{borderRadius:"{border.radius.sm}"},colorScheme:{light:{chip:{focusBackground:"{surface.200}",color:"{surface.800}"}},dark:{chip:{focusBackground:"{surface.700}",color:"{surface.0}"}}}},inputgroup:{addon:{background:"{form.field.background}",borderColor:"{form.field.border.color}",color:"{form.field.icon.color}",borderRadius:"{form.field.border.radius}",padding:"0.5rem",minWidth:"2.5rem"}},inputnumber:{root:{transitionDuration:"{transition.duration}"},button:{width:"2.5rem",borderRadius:"{form.field.border.radius}",verticalPadding:"{form.field.padding.y}"},colorScheme:{light:{button:{background:"transparent",hoverBackground:"{surface.100}",activeBackground:"{surface.200}",borderColor:"{form.field.border.color}",hoverBorderColor:"{form.field.border.color}",activeBorderColor:"{form.field.border.color}",color:"{surface.400}",hoverColor:"{surface.500}",activeColor:"{surface.600}"}},dark:{button:{background:"transparent",hoverBackground:"{surface.800}",activeBackground:"{surface.700}",borderColor:"{form.field.border.color}",hoverBorderColor:"{form.field.border.color}",activeBorderColor:"{form.field.border.color}",color:"{surface.400}",hoverColor:"{surface.300}",activeColor:"{surface.200}"}}}},inputotp:{root:{gap:"0.5rem"},input:{width:"2.5rem",sm:{width:"2rem"},lg:{width:"3rem"}}},inputtext:{root:{background:"{form.field.background}",disabledBackground:"{form.field.disabled.background}",filledBackground:"{form.field.filled.background}",filledHoverBackground:"{form.field.filled.hover.background}",filledFocusBackground:"{form.field.filled.focus.background}",borderColor:"{form.field.border.color}",hoverBorderColor:"{form.field.hover.border.color}",focusBorderColor:"{form.field.focus.border.color}",invalidBorderColor:"{form.field.invalid.border.color}",color:"{form.field.color}",disabledColor:"{form.field.disabled.color}",placeholderColor:"{form.field.placeholder.color}",invalidPlaceholderColor:"{form.field.invalid.placeholder.color}",shadow:"{form.field.shadow}",paddingX:"{form.field.padding.x}",paddingY:"{form.field.padding.y}",borderRadius:"{form.field.border.radius}",focusRing:{width:"{form.field.focus.ring.width}",style:"{form.field.focus.ring.style}",color:"{form.field.focus.ring.color}",offset:"{form.field.focus.ring.offset}",shadow:"{form.field.focus.ring.shadow}"},transitionDuration:"{form.field.transition.duration}",sm:{fontSize:"{form.field.sm.font.size}",paddingX:"{form.field.sm.padding.x}",paddingY:"{form.field.sm.padding.y}"},lg:{fontSize:"{form.field.lg.font.size}",paddingX:"{form.field.lg.padding.x}",paddingY:"{form.field.lg.padding.y}"}}},knob:{root:{transitionDuration:"{transition.duration}",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}},value:{background:"{primary.color}"},range:{background:"{content.border.color}"},text:{color:"{text.muted.color}"}},listbox:{root:{background:"{form.field.background}",disabledBackground:"{form.field.disabled.background}",borderColor:"{form.field.border.color}",invalidBorderColor:"{form.field.invalid.border.color}",color:"{form.field.color}",disabledColor:"{form.field.disabled.color}",shadow:"{form.field.shadow}",borderRadius:"{form.field.border.radius}",transitionDuration:"{form.field.transition.duration}"},list:{padding:"{list.padding}",gap:"{list.gap}",header:{padding:"{list.header.padding}"}},option:{focusBackground:"{list.option.focus.background}",selectedBackground:"{list.option.selected.background}",selectedFocusBackground:"{list.option.selected.focus.background}",color:"{list.option.color}",focusColor:"{list.option.focus.color}",selectedColor:"{list.option.selected.color}",selectedFocusColor:"{list.option.selected.focus.color}",padding:"{list.option.padding}",borderRadius:"{list.option.border.radius}"},optionGroup:{background:"{list.option.group.background}",color:"{list.option.group.color}",fontWeight:"{list.option.group.font.weight}",padding:"{list.option.group.padding}"},checkmark:{color:"{list.option.color}",gutterStart:"-0.375rem",gutterEnd:"0.375rem"},emptyMessage:{padding:"{list.option.padding}"},colorScheme:{light:{option:{stripedBackground:"{surface.50}"}},dark:{option:{stripedBackground:"{surface.900}"}}}},megamenu:{root:{background:"{content.background}",borderColor:"{content.border.color}",borderRadius:"{content.border.radius}",color:"{content.color}",gap:"0.5rem",verticalOrientation:{padding:"{navigation.list.padding}",gap:"{navigation.list.gap}"},horizontalOrientation:{padding:"0.5rem 0.75rem",gap:"0.5rem"},transitionDuration:"{transition.duration}"},baseItem:{borderRadius:"{content.border.radius}",padding:"{navigation.item.padding}"},item:{focusBackground:"{navigation.item.focus.background}",activeBackground:"{navigation.item.active.background}",color:"{navigation.item.color}",focusColor:"{navigation.item.focus.color}",activeColor:"{navigation.item.active.color}",padding:"{navigation.item.padding}",borderRadius:"{navigation.item.border.radius}",gap:"{navigation.item.gap}",icon:{color:"{navigation.item.icon.color}",focusColor:"{navigation.item.icon.focus.color}",activeColor:"{navigation.item.icon.active.color}"}},overlay:{padding:"0",background:"{content.background}",borderColor:"{content.border.color}",borderRadius:"{content.border.radius}",color:"{content.color}",shadow:"{overlay.navigation.shadow}",gap:"0.5rem"},submenu:{padding:"{navigation.list.padding}",gap:"{navigation.list.gap}"},submenuLabel:{padding:"{navigation.submenu.label.padding}",fontWeight:"{navigation.submenu.label.font.weight}",background:"{navigation.submenu.label.background}",color:"{navigation.submenu.label.color}"},submenuIcon:{size:"{navigation.submenu.icon.size}",color:"{navigation.submenu.icon.color}",focusColor:"{navigation.submenu.icon.focus.color}",activeColor:"{navigation.submenu.icon.active.color}"},separator:{borderColor:"{content.border.color}"},mobileButton:{borderRadius:"50%",size:"1.75rem",color:"{text.muted.color}",hoverColor:"{text.hover.muted.color}",hoverBackground:"{content.hover.background}",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}}},menu:{root:{background:"{content.background}",borderColor:"{content.border.color}",color:"{content.color}",borderRadius:"{content.border.radius}",shadow:"{overlay.navigation.shadow}",transitionDuration:"{transition.duration}"},list:{padding:"{navigation.list.padding}",gap:"{navigation.list.gap}"},item:{focusBackground:"{navigation.item.focus.background}",color:"{navigation.item.color}",focusColor:"{navigation.item.focus.color}",padding:"{navigation.item.padding}",borderRadius:"{navigation.item.border.radius}",gap:"{navigation.item.gap}",icon:{color:"{navigation.item.icon.color}",focusColor:"{navigation.item.icon.focus.color}"}},submenuLabel:{padding:"{navigation.submenu.label.padding}",fontWeight:"{navigation.submenu.label.font.weight}",background:"{navigation.submenu.label.background}",color:"{navigation.submenu.label.color}"},separator:{borderColor:"{content.border.color}"}},menubar:{root:{background:"{content.background}",borderColor:"{content.border.color}",borderRadius:"{content.border.radius}",color:"{content.color}",gap:"0.5rem",padding:"0.5rem 0.75rem",transitionDuration:"{transition.duration}"},baseItem:{borderRadius:"{content.border.radius}",padding:"{navigation.item.padding}"},item:{focusBackground:"{navigation.item.focus.background}",activeBackground:"{navigation.item.active.background}",color:"{navigation.item.color}",focusColor:"{navigation.item.focus.color}",activeColor:"{navigation.item.active.color}",padding:"{navigation.item.padding}",borderRadius:"{navigation.item.border.radius}",gap:"{navigation.item.gap}",icon:{color:"{navigation.item.icon.color}",focusColor:"{navigation.item.icon.focus.color}",activeColor:"{navigation.item.icon.active.color}"}},submenu:{padding:"{navigation.list.padding}",gap:"{navigation.list.gap}",background:"{content.background}",borderColor:"{content.border.color}",borderRadius:"{content.border.radius}",shadow:"{overlay.navigation.shadow}",mobileIndent:"1rem",icon:{size:"{navigation.submenu.icon.size}",color:"{navigation.submenu.icon.color}",focusColor:"{navigation.submenu.icon.focus.color}",activeColor:"{navigation.submenu.icon.active.color}"}},separator:{borderColor:"{content.border.color}"},mobileButton:{borderRadius:"50%",size:"1.75rem",color:"{text.muted.color}",hoverColor:"{text.hover.muted.color}",hoverBackground:"{content.hover.background}",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}}},message:{root:{borderRadius:"{content.border.radius}",borderWidth:"1px",transitionDuration:"{transition.duration}"},content:{padding:"0.5rem 0.75rem",gap:"0.5rem",sm:{padding:"0.375rem 0.625rem"},lg:{padding:"0.625rem 0.875rem"}},text:{fontSize:"1rem",fontWeight:"500",sm:{fontSize:"0.875rem"},lg:{fontSize:"1.125rem"}},icon:{size:"1.125rem",sm:{size:"1rem"},lg:{size:"1.25rem"}},closeButton:{width:"1.75rem",height:"1.75rem",borderRadius:"50%",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",offset:"{focus.ring.offset}"}},closeIcon:{size:"1rem",sm:{size:"0.875rem"},lg:{size:"1.125rem"}},outlined:{root:{borderWidth:"1px"}},simple:{content:{padding:"0"}},colorScheme:{light:{info:{background:"color-mix(in srgb, {blue.50}, transparent 5%)",borderColor:"{blue.200}",color:"{blue.600}",shadow:"0px 4px 8px 0px color-mix(in srgb, {blue.500}, transparent 96%)",closeButton:{hoverBackground:"{blue.100}",focusRing:{color:"{blue.600}",shadow:"none"}},outlined:{color:"{blue.600}",borderColor:"{blue.600}"},simple:{color:"{blue.600}"}},success:{background:"color-mix(in srgb, {green.50}, transparent 5%)",borderColor:"{green.200}",color:"{green.600}",shadow:"0px 4px 8px 0px color-mix(in srgb, {green.500}, transparent 96%)",closeButton:{hoverBackground:"{green.100}",focusRing:{color:"{green.600}",shadow:"none"}},outlined:{color:"{green.600}",borderColor:"{green.600}"},simple:{color:"{green.600}"}},warn:{background:"color-mix(in srgb,{yellow.50}, transparent 5%)",borderColor:"{yellow.200}",color:"{yellow.600}",shadow:"0px 4px 8px 0px color-mix(in srgb, {yellow.500}, transparent 96%)",closeButton:{hoverBackground:"{yellow.100}",focusRing:{color:"{yellow.600}",shadow:"none"}},outlined:{color:"{yellow.600}",borderColor:"{yellow.600}"},simple:{color:"{yellow.600}"}},error:{background:"color-mix(in srgb, {red.50}, transparent 5%)",borderColor:"{red.200}",color:"{red.600}",shadow:"0px 4px 8px 0px color-mix(in srgb, {red.500}, transparent 96%)",closeButton:{hoverBackground:"{red.100}",focusRing:{color:"{red.600}",shadow:"none"}},outlined:{color:"{red.600}",borderColor:"{red.600}"},simple:{color:"{red.600}"}},secondary:{background:"{surface.100}",borderColor:"{surface.200}",color:"{surface.600}",shadow:"0px 4px 8px 0px color-mix(in srgb, {surface.500}, transparent 96%)",closeButton:{hoverBackground:"{surface.200}",focusRing:{color:"{surface.600}",shadow:"none"}},outlined:{color:"{surface.500}",borderColor:"{surface.500}"},simple:{color:"{surface.500}"}},contrast:{background:"{surface.900}",borderColor:"{surface.950}",color:"{surface.50}",shadow:"0px 4px 8px 0px color-mix(in srgb, {surface.950}, transparent 96%)",closeButton:{hoverBackground:"{surface.800}",focusRing:{color:"{surface.50}",shadow:"none"}},outlined:{color:"{surface.950}",borderColor:"{surface.950}"},simple:{color:"{surface.950}"}}},dark:{info:{background:"color-mix(in srgb, {blue.500}, transparent 84%)",borderColor:"color-mix(in srgb, {blue.700}, transparent 64%)",color:"{blue.500}",shadow:"0px 4px 8px 0px color-mix(in srgb, {blue.500}, transparent 96%)",closeButton:{hoverBackground:"rgba(255, 255, 255, 0.05)",focusRing:{color:"{blue.500}",shadow:"none"}},outlined:{color:"{blue.500}",borderColor:"{blue.500}"},simple:{color:"{blue.500}"}},success:{background:"color-mix(in srgb, {green.500}, transparent 84%)",borderColor:"color-mix(in srgb, {green.700}, transparent 64%)",color:"{green.500}",shadow:"0px 4px 8px 0px color-mix(in srgb, {green.500}, transparent 96%)",closeButton:{hoverBackground:"rgba(255, 255, 255, 0.05)",focusRing:{color:"{green.500}",shadow:"none"}},outlined:{color:"{green.500}",borderColor:"{green.500}"},simple:{color:"{green.500}"}},warn:{background:"color-mix(in srgb, {yellow.500}, transparent 84%)",borderColor:"color-mix(in srgb, {yellow.700}, transparent 64%)",color:"{yellow.500}",shadow:"0px 4px 8px 0px color-mix(in srgb, {yellow.500}, transparent 96%)",closeButton:{hoverBackground:"rgba(255, 255, 255, 0.05)",focusRing:{color:"{yellow.500}",shadow:"none"}},outlined:{color:"{yellow.500}",borderColor:"{yellow.500}"},simple:{color:"{yellow.500}"}},error:{background:"color-mix(in srgb, {red.500}, transparent 84%)",borderColor:"color-mix(in srgb, {red.700}, transparent 64%)",color:"{red.500}",shadow:"0px 4px 8px 0px color-mix(in srgb, {red.500}, transparent 96%)",closeButton:{hoverBackground:"rgba(255, 255, 255, 0.05)",focusRing:{color:"{red.500}",shadow:"none"}},outlined:{color:"{red.500}",borderColor:"{red.500}"},simple:{color:"{red.500}"}},secondary:{background:"{surface.800}",borderColor:"{surface.700}",color:"{surface.300}",shadow:"0px 4px 8px 0px color-mix(in srgb, {surface.500}, transparent 96%)",closeButton:{hoverBackground:"{surface.700}",focusRing:{color:"{surface.300}",shadow:"none"}},outlined:{color:"{surface.400}",borderColor:"{surface.400}"},simple:{color:"{surface.400}"}},contrast:{background:"{surface.0}",borderColor:"{surface.100}",color:"{surface.950}",shadow:"0px 4px 8px 0px color-mix(in srgb, {surface.950}, transparent 96%)",closeButton:{hoverBackground:"{surface.100}",focusRing:{color:"{surface.950}",shadow:"none"}},outlined:{color:"{surface.0}",borderColor:"{surface.0}"},simple:{color:"{surface.0}"}}}}},metergroup:{root:{borderRadius:"{content.border.radius}",gap:"1rem"},meters:{background:"{content.border.color}",size:"0.5rem"},label:{gap:"0.5rem"},labelMarker:{size:"0.5rem"},labelIcon:{size:"1rem"},labelList:{verticalGap:"0.5rem",horizontalGap:"1rem"}},multiselect:{root:{background:"{form.field.background}",disabledBackground:"{form.field.disabled.background}",filledBackground:"{form.field.filled.background}",filledHoverBackground:"{form.field.filled.hover.background}",filledFocusBackground:"{form.field.filled.focus.background}",borderColor:"{form.field.border.color}",hoverBorderColor:"{form.field.hover.border.color}",focusBorderColor:"{form.field.focus.border.color}",invalidBorderColor:"{form.field.invalid.border.color}",color:"{form.field.color}",disabledColor:"{form.field.disabled.color}",placeholderColor:"{form.field.placeholder.color}",invalidPlaceholderColor:"{form.field.invalid.placeholder.color}",shadow:"{form.field.shadow}",paddingX:"{form.field.padding.x}",paddingY:"{form.field.padding.y}",borderRadius:"{form.field.border.radius}",focusRing:{width:"{form.field.focus.ring.width}",style:"{form.field.focus.ring.style}",color:"{form.field.focus.ring.color}",offset:"{form.field.focus.ring.offset}",shadow:"{form.field.focus.ring.shadow}"},transitionDuration:"{form.field.transition.duration}",sm:{fontSize:"{form.field.sm.font.size}",paddingX:"{form.field.sm.padding.x}",paddingY:"{form.field.sm.padding.y}"},lg:{fontSize:"{form.field.lg.font.size}",paddingX:"{form.field.lg.padding.x}",paddingY:"{form.field.lg.padding.y}"}},dropdown:{width:"2.5rem",color:"{form.field.icon.color}"},overlay:{background:"{overlay.select.background}",borderColor:"{overlay.select.border.color}",borderRadius:"{overlay.select.border.radius}",color:"{overlay.select.color}",shadow:"{overlay.select.shadow}"},list:{padding:"{list.padding}",gap:"{list.gap}",header:{padding:"{list.header.padding}"}},option:{focusBackground:"{list.option.focus.background}",selectedBackground:"{list.option.selected.background}",selectedFocusBackground:"{list.option.selected.focus.background}",color:"{list.option.color}",focusColor:"{list.option.focus.color}",selectedColor:"{list.option.selected.color}",selectedFocusColor:"{list.option.selected.focus.color}",padding:"{list.option.padding}",borderRadius:"{list.option.border.radius}",gap:"0.5rem"},optionGroup:{background:"{list.option.group.background}",color:"{list.option.group.color}",fontWeight:"{list.option.group.font.weight}",padding:"{list.option.group.padding}"},chip:{borderRadius:"{border.radius.sm}"},clearIcon:{color:"{form.field.icon.color}"},emptyMessage:{padding:"{list.option.padding}"}},orderlist:{root:{gap:"1.125rem"},controls:{gap:"0.5rem"}},organizationchart:{root:{gutter:"0.75rem",transitionDuration:"{transition.duration}"},node:{background:"{content.background}",hoverBackground:"{content.hover.background}",selectedBackground:"{highlight.background}",borderColor:"{content.border.color}",color:"{content.color}",selectedColor:"{highlight.color}",hoverColor:"{content.hover.color}",padding:"0.75rem 1rem",toggleablePadding:"0.75rem 1rem 1.25rem 1rem",borderRadius:"{content.border.radius}"},nodeToggleButton:{background:"{content.background}",hoverBackground:"{content.hover.background}",borderColor:"{content.border.color}",color:"{text.muted.color}",hoverColor:"{text.color}",size:"1.5rem",borderRadius:"50%",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}},connector:{color:"{content.border.color}",borderRadius:"{content.border.radius}",height:"24px"}},overlaybadge:{root:{outline:{width:"2px",color:"{content.background}"}}},paginator:{root:{padding:"0.5rem 1rem",gap:"0.25rem",borderRadius:"{content.border.radius}",background:"{content.background}",color:"{content.color}",transitionDuration:"{transition.duration}"},navButton:{background:"transparent",hoverBackground:"{content.hover.background}",selectedBackground:"{highlight.background}",color:"{text.muted.color}",hoverColor:"{text.hover.muted.color}",selectedColor:"{highlight.color}",width:"2.5rem",height:"2.5rem",borderRadius:"50%",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}},currentPageReport:{color:"{text.muted.color}"},jumpToPageInput:{maxWidth:"2.5rem"}},panel:{root:{background:"{content.background}",borderColor:"{content.border.color}",color:"{content.color}",borderRadius:"{content.border.radius}"},header:{background:"transparent",color:"{text.color}",padding:"1.125rem",borderColor:"{content.border.color}",borderWidth:"0",borderRadius:"0"},toggleableHeader:{padding:"0.375rem 1.125rem"},title:{fontWeight:"600"},content:{padding:"0 1.125rem 1.125rem 1.125rem"},footer:{padding:"0 1.125rem 1.125rem 1.125rem"}},panelmenu:{root:{gap:"0.5rem",transitionDuration:"{transition.duration}"},panel:{background:"{content.background}",borderColor:"{content.border.color}",borderWidth:"1px",color:"{content.color}",padding:"0.25rem 0.25rem",borderRadius:"{content.border.radius}",first:{borderWidth:"1px",topBorderRadius:"{content.border.radius}"},last:{borderWidth:"1px",bottomBorderRadius:"{content.border.radius}"}},item:{focusBackground:"{navigation.item.focus.background}",color:"{navigation.item.color}",focusColor:"{navigation.item.focus.color}",gap:"0.5rem",padding:"{navigation.item.padding}",borderRadius:"{content.border.radius}",icon:{color:"{navigation.item.icon.color}",focusColor:"{navigation.item.icon.focus.color}"}},submenu:{indent:"1rem"},submenuIcon:{color:"{navigation.submenu.icon.color}",focusColor:"{navigation.submenu.icon.focus.color}"}},password:{meter:{background:"{content.border.color}",borderRadius:"{content.border.radius}",height:".75rem"},icon:{color:"{form.field.icon.color}"},overlay:{background:"{overlay.popover.background}",borderColor:"{overlay.popover.border.color}",borderRadius:"{overlay.popover.border.radius}",color:"{overlay.popover.color}",padding:"{overlay.popover.padding}",shadow:"{overlay.popover.shadow}"},content:{gap:"0.5rem"},colorScheme:{light:{strength:{weakBackground:"{red.500}",mediumBackground:"{amber.500}",strongBackground:"{green.500}"}},dark:{strength:{weakBackground:"{red.400}",mediumBackground:"{amber.400}",strongBackground:"{green.400}"}}}},picklist:{root:{gap:"1.125rem"},controls:{gap:"0.5rem"}},popover:{root:{background:"{overlay.popover.background}",borderColor:"{overlay.popover.border.color}",color:"{overlay.popover.color}",borderRadius:"{overlay.popover.border.radius}",shadow:"{overlay.popover.shadow}",gutter:"10px",arrowOffset:"1.25rem"},content:{padding:"{overlay.popover.padding}"}},progressbar:{root:{background:"{content.border.color}",borderRadius:"{content.border.radius}",height:"1.25rem"},value:{background:"{primary.color}"},label:{color:"{primary.contrast.color}",fontSize:"0.75rem",fontWeight:"600"}},progressspinner:{colorScheme:{light:{root:{colorOne:"{red.500}",colorTwo:"{blue.500}",colorThree:"{green.500}",colorFour:"{yellow.500}"}},dark:{root:{colorOne:"{red.400}",colorTwo:"{blue.400}",colorThree:"{green.400}",colorFour:"{yellow.400}"}}}},radiobutton:{root:{width:"1.25rem",height:"1.25rem",background:"{form.field.background}",checkedBackground:"{primary.color}",checkedHoverBackground:"{primary.hover.color}",disabledBackground:"{form.field.disabled.background}",filledBackground:"{form.field.filled.background}",borderColor:"{form.field.border.color}",hoverBorderColor:"{form.field.hover.border.color}",focusBorderColor:"{form.field.border.color}",checkedBorderColor:"{primary.color}",checkedHoverBorderColor:"{primary.hover.color}",checkedFocusBorderColor:"{primary.color}",checkedDisabledBorderColor:"{form.field.border.color}",invalidBorderColor:"{form.field.invalid.border.color}",shadow:"{form.field.shadow}",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"},transitionDuration:"{form.field.transition.duration}",sm:{width:"1rem",height:"1rem"},lg:{width:"1.5rem",height:"1.5rem"}},icon:{size:"0.75rem",checkedColor:"{primary.contrast.color}",checkedHoverColor:"{primary.contrast.color}",disabledColor:"{form.field.disabled.color}",sm:{size:"0.5rem"},lg:{size:"1rem"}}},rating:{root:{gap:"0.25rem",transitionDuration:"{transition.duration}",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}},icon:{size:"1rem",color:"{text.muted.color}",hoverColor:"{primary.color}",activeColor:"{primary.color}"}},ripple:{colorScheme:{light:{root:{background:"rgba(0,0,0,0.1)"}},dark:{root:{background:"rgba(255,255,255,0.3)"}}}},scrollpanel:{root:{transitionDuration:"{transition.duration}"},bar:{size:"9px",borderRadius:"{border.radius.sm}",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}},colorScheme:{light:{bar:{background:"{surface.100}"}},dark:{bar:{background:"{surface.800}"}}}},select:{root:{background:"{form.field.background}",disabledBackground:"{form.field.disabled.background}",filledBackground:"{form.field.filled.background}",filledHoverBackground:"{form.field.filled.hover.background}",filledFocusBackground:"{form.field.filled.focus.background}",borderColor:"{form.field.border.color}",hoverBorderColor:"{form.field.hover.border.color}",focusBorderColor:"{form.field.focus.border.color}",invalidBorderColor:"{form.field.invalid.border.color}",color:"{form.field.color}",disabledColor:"{form.field.disabled.color}",placeholderColor:"{form.field.placeholder.color}",invalidPlaceholderColor:"{form.field.invalid.placeholder.color}",shadow:"{form.field.shadow}",paddingX:"{form.field.padding.x}",paddingY:"{form.field.padding.y}",borderRadius:"{form.field.border.radius}",focusRing:{width:"{form.field.focus.ring.width}",style:"{form.field.focus.ring.style}",color:"{form.field.focus.ring.color}",offset:"{form.field.focus.ring.offset}",shadow:"{form.field.focus.ring.shadow}"},transitionDuration:"{form.field.transition.duration}",sm:{fontSize:"{form.field.sm.font.size}",paddingX:"{form.field.sm.padding.x}",paddingY:"{form.field.sm.padding.y}"},lg:{fontSize:"{form.field.lg.font.size}",paddingX:"{form.field.lg.padding.x}",paddingY:"{form.field.lg.padding.y}"}},dropdown:{width:"2.5rem",color:"{form.field.icon.color}"},overlay:{background:"{overlay.select.background}",borderColor:"{overlay.select.border.color}",borderRadius:"{overlay.select.border.radius}",color:"{overlay.select.color}",shadow:"{overlay.select.shadow}"},list:{padding:"{list.padding}",gap:"{list.gap}",header:{padding:"{list.header.padding}"}},option:{focusBackground:"{list.option.focus.background}",selectedBackground:"{list.option.selected.background}",selectedFocusBackground:"{list.option.selected.focus.background}",color:"{list.option.color}",focusColor:"{list.option.focus.color}",selectedColor:"{list.option.selected.color}",selectedFocusColor:"{list.option.selected.focus.color}",padding:"{list.option.padding}",borderRadius:"{list.option.border.radius}"},optionGroup:{background:"{list.option.group.background}",color:"{list.option.group.color}",fontWeight:"{list.option.group.font.weight}",padding:"{list.option.group.padding}"},clearIcon:{color:"{form.field.icon.color}"},checkmark:{color:"{list.option.color}",gutterStart:"-0.375rem",gutterEnd:"0.375rem"},emptyMessage:{padding:"{list.option.padding}"}},selectbutton:{root:{borderRadius:"{form.field.border.radius}"},colorScheme:{light:{root:{invalidBorderColor:"{form.field.invalid.border.color}"}},dark:{root:{invalidBorderColor:"{form.field.invalid.border.color}"}}}},skeleton:{root:{borderRadius:"{content.border.radius}"},colorScheme:{light:{root:{background:"{surface.200}",animationBackground:"rgba(255,255,255,0.4)"}},dark:{root:{background:"rgba(255, 255, 255, 0.06)",animationBackground:"rgba(255, 255, 255, 0.04)"}}}},slider:{root:{transitionDuration:"{transition.duration}"},track:{background:"{content.border.color}",borderRadius:"{content.border.radius}",size:"3px"},range:{background:"{primary.color}"},handle:{width:"20px",height:"20px",borderRadius:"50%",background:"{content.border.color}",hoverBackground:"{content.border.color}",content:{borderRadius:"50%",hoverBackground:"{content.background}",width:"16px",height:"16px",shadow:"0px 0.5px 0px 0px rgba(0, 0, 0, 0.08), 0px 1px 1px 0px rgba(0, 0, 0, 0.14)"},focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}},colorScheme:{light:{handle:{content:{background:"{surface.0}"}}},dark:{handle:{content:{background:"{surface.950}"}}}}},speeddial:{root:{gap:"0.5rem",transitionDuration:"{transition.duration}"}},splitbutton:{root:{borderRadius:"{form.field.border.radius}",roundedBorderRadius:"2rem",raisedShadow:"0 3px 1px -2px rgba(0, 0, 0, 0.2), 0 2px 2px 0 rgba(0, 0, 0, 0.14), 0 1px 5px 0 rgba(0, 0, 0, 0.12)"}},splitter:{root:{background:"{content.background}",borderColor:"{content.border.color}",color:"{content.color}",transitionDuration:"{transition.duration}"},gutter:{background:"{content.border.color}"},handle:{size:"24px",background:"transparent",borderRadius:"{content.border.radius}",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}}},stepper:{root:{transitionDuration:"{transition.duration}"},separator:{background:"{content.border.color}",activeBackground:"{primary.color}",margin:"0 0 0 1.625rem",size:"2px"},step:{padding:"0.5rem",gap:"1rem"},stepHeader:{padding:"0",borderRadius:"{content.border.radius}",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"},gap:"0.5rem"},stepTitle:{color:"{text.muted.color}",activeColor:"{primary.color}",fontWeight:"500"},stepNumber:{background:"{content.background}",activeBackground:"{content.background}",borderColor:"{content.border.color}",activeBorderColor:"{content.border.color}",color:"{text.muted.color}",activeColor:"{primary.color}",size:"2rem",fontSize:"1.143rem",fontWeight:"500",borderRadius:"50%",shadow:"0px 0.5px 0px 0px rgba(0, 0, 0, 0.06), 0px 1px 1px 0px rgba(0, 0, 0, 0.12)"},steppanels:{padding:"0.875rem 0.5rem 1.125rem 0.5rem"},steppanel:{background:"{content.background}",color:"{content.color}",padding:"0",indent:"1rem"}},steps:{root:{transitionDuration:"{transition.duration}"},separator:{background:"{content.border.color}"},itemLink:{borderRadius:"{content.border.radius}",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"},gap:"0.5rem"},itemLabel:{color:"{text.muted.color}",activeColor:"{primary.color}",fontWeight:"500"},itemNumber:{background:"{content.background}",activeBackground:"{content.background}",borderColor:"{content.border.color}",activeBorderColor:"{content.border.color}",color:"{text.muted.color}",activeColor:"{primary.color}",size:"2rem",fontSize:"1.143rem",fontWeight:"500",borderRadius:"50%",shadow:"0px 0.5px 0px 0px rgba(0, 0, 0, 0.06), 0px 1px 1px 0px rgba(0, 0, 0, 0.12)"}},tabmenu:{root:{transitionDuration:"{transition.duration}"},tablist:{borderWidth:"0 0 1px 0",background:"{content.background}",borderColor:"{content.border.color}"},item:{background:"transparent",hoverBackground:"transparent",activeBackground:"transparent",borderWidth:"0 0 1px 0",borderColor:"{content.border.color}",hoverBorderColor:"{content.border.color}",activeBorderColor:"{primary.color}",color:"{text.muted.color}",hoverColor:"{text.color}",activeColor:"{primary.color}",padding:"1rem 1.125rem",fontWeight:"600",margin:"0 0 -1px 0",gap:"0.5rem",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}},itemIcon:{color:"{text.muted.color}",hoverColor:"{text.color}",activeColor:"{primary.color}"},activeBar:{height:"1px",bottom:"-1px",background:"{primary.color}"}},tabs:{root:{transitionDuration:"{transition.duration}"},tablist:{borderWidth:"0 0 1px 0",background:"{content.background}",borderColor:"{content.border.color}"},tab:{background:"transparent",hoverBackground:"transparent",activeBackground:"transparent",borderWidth:"0 0 1px 0",borderColor:"{content.border.color}",hoverBorderColor:"{content.border.color}",activeBorderColor:"{primary.color}",color:"{text.muted.color}",hoverColor:"{text.color}",activeColor:"{primary.color}",padding:"1rem 1.125rem",fontWeight:"600",margin:"0 0 -1px 0",gap:"0.5rem",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"-1px",shadow:"{focus.ring.shadow}"}},tabpanel:{background:"{content.background}",color:"{content.color}",padding:"0.875rem 1.125rem 1.125rem 1.125rem",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"inset {focus.ring.shadow}"}},navButton:{background:"{content.background}",color:"{text.muted.color}",hoverColor:"{text.color}",width:"2.5rem",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"-1px",shadow:"{focus.ring.shadow}"}},activeBar:{height:"1px",bottom:"-1px",background:"{primary.color}"},colorScheme:{light:{navButton:{shadow:"0px 0px 10px 50px rgba(255, 255, 255, 0.6)"}},dark:{navButton:{shadow:"0px 0px 10px 50px color-mix(in srgb, {content.background}, transparent 50%)"}}}},tabview:{root:{transitionDuration:"{transition.duration}"},tabList:{background:"{content.background}",borderColor:"{content.border.color}"},tab:{borderColor:"{content.border.color}",activeBorderColor:"{primary.color}",color:"{text.muted.color}",hoverColor:"{text.color}",activeColor:"{primary.color}"},tabPanel:{background:"{content.background}",color:"{content.color}"},navButton:{background:"{content.background}",color:"{text.muted.color}",hoverColor:"{text.color}"},colorScheme:{light:{navButton:{shadow:"0px 0px 10px 50px rgba(255, 255, 255, 0.6)"}},dark:{navButton:{shadow:"0px 0px 10px 50px color-mix(in srgb, {content.background}, transparent 50%)"}}}},tag:{root:{fontSize:"0.875rem",fontWeight:"700",padding:"0.25rem 0.5rem",gap:"0.25rem",borderRadius:"{content.border.radius}",roundedBorderRadius:"{border.radius.xl}"},icon:{size:"0.75rem"},colorScheme:{light:{primary:{background:"{primary.100}",color:"{primary.700}"},secondary:{background:"{surface.100}",color:"{surface.600}"},success:{background:"{green.100}",color:"{green.700}"},info:{background:"{sky.100}",color:"{sky.700}"},warn:{background:"{orange.100}",color:"{orange.700}"},danger:{background:"{red.100}",color:"{red.700}"},contrast:{background:"{surface.950}",color:"{surface.0}"}},dark:{primary:{background:"color-mix(in srgb, {primary.500}, transparent 84%)",color:"{primary.300}"},secondary:{background:"{surface.800}",color:"{surface.300}"},success:{background:"color-mix(in srgb, {green.500}, transparent 84%)",color:"{green.300}"},info:{background:"color-mix(in srgb, {sky.500}, transparent 84%)",color:"{sky.300}"},warn:{background:"color-mix(in srgb, {orange.500}, transparent 84%)",color:"{orange.300}"},danger:{background:"color-mix(in srgb, {red.500}, transparent 84%)",color:"{red.300}"},contrast:{background:"{surface.0}",color:"{surface.950}"}}}},terminal:{root:{background:"{form.field.background}",borderColor:"{form.field.border.color}",color:"{form.field.color}",height:"18rem",padding:"{form.field.padding.y} {form.field.padding.x}",borderRadius:"{form.field.border.radius}"},prompt:{gap:"0.25rem"},commandResponse:{margin:"2px 0"}},textarea:{root:{background:"{form.field.background}",disabledBackground:"{form.field.disabled.background}",filledBackground:"{form.field.filled.background}",filledHoverBackground:"{form.field.filled.hover.background}",filledFocusBackground:"{form.field.filled.focus.background}",borderColor:"{form.field.border.color}",hoverBorderColor:"{form.field.hover.border.color}",focusBorderColor:"{form.field.focus.border.color}",invalidBorderColor:"{form.field.invalid.border.color}",color:"{form.field.color}",disabledColor:"{form.field.disabled.color}",placeholderColor:"{form.field.placeholder.color}",invalidPlaceholderColor:"{form.field.invalid.placeholder.color}",shadow:"{form.field.shadow}",paddingX:"{form.field.padding.x}",paddingY:"{form.field.padding.y}",borderRadius:"{form.field.border.radius}",focusRing:{width:"{form.field.focus.ring.width}",style:"{form.field.focus.ring.style}",color:"{form.field.focus.ring.color}",offset:"{form.field.focus.ring.offset}",shadow:"{form.field.focus.ring.shadow}"},transitionDuration:"{form.field.transition.duration}",sm:{fontSize:"{form.field.sm.font.size}",paddingX:"{form.field.sm.padding.x}",paddingY:"{form.field.sm.padding.y}"},lg:{fontSize:"{form.field.lg.font.size}",paddingX:"{form.field.lg.padding.x}",paddingY:"{form.field.lg.padding.y}"}}},tieredmenu:{root:{background:"{content.background}",borderColor:"{content.border.color}",color:"{content.color}",borderRadius:"{content.border.radius}",shadow:"{overlay.navigation.shadow}",transitionDuration:"{transition.duration}"},list:{padding:"{navigation.list.padding}",gap:"{navigation.list.gap}"},item:{focusBackground:"{navigation.item.focus.background}",activeBackground:"{navigation.item.active.background}",color:"{navigation.item.color}",focusColor:"{navigation.item.focus.color}",activeColor:"{navigation.item.active.color}",padding:"{navigation.item.padding}",borderRadius:"{navigation.item.border.radius}",gap:"{navigation.item.gap}",icon:{color:"{navigation.item.icon.color}",focusColor:"{navigation.item.icon.focus.color}",activeColor:"{navigation.item.icon.active.color}"}},submenu:{mobileIndent:"1rem"},submenuIcon:{size:"{navigation.submenu.icon.size}",color:"{navigation.submenu.icon.color}",focusColor:"{navigation.submenu.icon.focus.color}",activeColor:"{navigation.submenu.icon.active.color}"},separator:{borderColor:"{content.border.color}"}},timeline:{event:{minHeight:"5rem"},horizontal:{eventContent:{padding:"1rem 0"}},vertical:{eventContent:{padding:"0 1rem"}},eventMarker:{size:"1.125rem",borderRadius:"50%",borderWidth:"2px",background:"{content.background}",borderColor:"{content.border.color}",content:{borderRadius:"50%",size:"0.375rem",background:"{primary.color}",insetShadow:"0px 0.5px 0px 0px rgba(0, 0, 0, 0.06), 0px 1px 1px 0px rgba(0, 0, 0, 0.12)"}},eventConnector:{color:"{content.border.color}",size:"2px"}},toast:{root:{width:"25rem",borderRadius:"{content.border.radius}",borderWidth:"1px",transitionDuration:"{transition.duration}"},icon:{size:"1.125rem"},content:{padding:"{overlay.popover.padding}",gap:"0.5rem"},text:{gap:"0.5rem"},summary:{fontWeight:"500",fontSize:"1rem"},detail:{fontWeight:"500",fontSize:"0.875rem"},closeButton:{width:"1.75rem",height:"1.75rem",borderRadius:"50%",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",offset:"{focus.ring.offset}"}},closeIcon:{size:"1rem"},colorScheme:{light:{root:{blur:"1.5px"},info:{background:"color-mix(in srgb, {blue.50}, transparent 5%)",borderColor:"{blue.200}",color:"{blue.600}",detailColor:"{surface.700}",shadow:"0px 4px 8px 0px color-mix(in srgb, {blue.500}, transparent 96%)",closeButton:{hoverBackground:"{blue.100}",focusRing:{color:"{blue.600}",shadow:"none"}}},success:{background:"color-mix(in srgb, {green.50}, transparent 5%)",borderColor:"{green.200}",color:"{green.600}",detailColor:"{surface.700}",shadow:"0px 4px 8px 0px color-mix(in srgb, {green.500}, transparent 96%)",closeButton:{hoverBackground:"{green.100}",focusRing:{color:"{green.600}",shadow:"none"}}},warn:{background:"color-mix(in srgb,{yellow.50}, transparent 5%)",borderColor:"{yellow.200}",color:"{yellow.600}",detailColor:"{surface.700}",shadow:"0px 4px 8px 0px color-mix(in srgb, {yellow.500}, transparent 96%)",closeButton:{hoverBackground:"{yellow.100}",focusRing:{color:"{yellow.600}",shadow:"none"}}},error:{background:"color-mix(in srgb, {red.50}, transparent 5%)",borderColor:"{red.200}",color:"{red.600}",detailColor:"{surface.700}",shadow:"0px 4px 8px 0px color-mix(in srgb, {red.500}, transparent 96%)",closeButton:{hoverBackground:"{red.100}",focusRing:{color:"{red.600}",shadow:"none"}}},secondary:{background:"{surface.100}",borderColor:"{surface.200}",color:"{surface.600}",detailColor:"{surface.700}",shadow:"0px 4px 8px 0px color-mix(in srgb, {surface.500}, transparent 96%)",closeButton:{hoverBackground:"{surface.200}",focusRing:{color:"{surface.600}",shadow:"none"}}},contrast:{background:"{surface.900}",borderColor:"{surface.950}",color:"{surface.50}",detailColor:"{surface.0}",shadow:"0px 4px 8px 0px color-mix(in srgb, {surface.950}, transparent 96%)",closeButton:{hoverBackground:"{surface.800}",focusRing:{color:"{surface.50}",shadow:"none"}}}},dark:{root:{blur:"10px"},info:{background:"color-mix(in srgb, {blue.500}, transparent 84%)",borderColor:"color-mix(in srgb, {blue.700}, transparent 64%)",color:"{blue.500}",detailColor:"{surface.0}",shadow:"0px 4px 8px 0px color-mix(in srgb, {blue.500}, transparent 96%)",closeButton:{hoverBackground:"rgba(255, 255, 255, 0.05)",focusRing:{color:"{blue.500}",shadow:"none"}}},success:{background:"color-mix(in srgb, {green.500}, transparent 84%)",borderColor:"color-mix(in srgb, {green.700}, transparent 64%)",color:"{green.500}",detailColor:"{surface.0}",shadow:"0px 4px 8px 0px color-mix(in srgb, {green.500}, transparent 96%)",closeButton:{hoverBackground:"rgba(255, 255, 255, 0.05)",focusRing:{color:"{green.500}",shadow:"none"}}},warn:{background:"color-mix(in srgb, {yellow.500}, transparent 84%)",borderColor:"color-mix(in srgb, {yellow.700}, transparent 64%)",color:"{yellow.500}",detailColor:"{surface.0}",shadow:"0px 4px 8px 0px color-mix(in srgb, {yellow.500}, transparent 96%)",closeButton:{hoverBackground:"rgba(255, 255, 255, 0.05)",focusRing:{color:"{yellow.500}",shadow:"none"}}},error:{background:"color-mix(in srgb, {red.500}, transparent 84%)",borderColor:"color-mix(in srgb, {red.700}, transparent 64%)",color:"{red.500}",detailColor:"{surface.0}",shadow:"0px 4px 8px 0px color-mix(in srgb, {red.500}, transparent 96%)",closeButton:{hoverBackground:"rgba(255, 255, 255, 0.05)",focusRing:{color:"{red.500}",shadow:"none"}}},secondary:{background:"{surface.800}",borderColor:"{surface.700}",color:"{surface.300}",detailColor:"{surface.0}",shadow:"0px 4px 8px 0px color-mix(in srgb, {surface.500}, transparent 96%)",closeButton:{hoverBackground:"{surface.700}",focusRing:{color:"{surface.300}",shadow:"none"}}},contrast:{background:"{surface.0}",borderColor:"{surface.100}",color:"{surface.950}",detailColor:"{surface.950}",shadow:"0px 4px 8px 0px color-mix(in srgb, {surface.950}, transparent 96%)",closeButton:{hoverBackground:"{surface.100}",focusRing:{color:"{surface.950}",shadow:"none"}}}}}},togglebutton:{root:{padding:"0.25rem",borderRadius:"{content.border.radius}",gap:"0.5rem",fontWeight:"500",disabledBackground:"{form.field.disabled.background}",disabledBorderColor:"{form.field.disabled.background}",disabledColor:"{form.field.disabled.color}",invalidBorderColor:"{form.field.invalid.border.color}",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"},transitionDuration:"{form.field.transition.duration}",sm:{fontSize:"{form.field.sm.font.size}",padding:"0.25rem"},lg:{fontSize:"{form.field.lg.font.size}",padding:"0.25rem"}},icon:{disabledColor:"{form.field.disabled.color}"},content:{padding:"0.25rem 0.75rem",borderRadius:"{content.border.radius}",checkedShadow:"0px 1px 2px 0px rgba(0, 0, 0, 0.02), 0px 1px 2px 0px rgba(0, 0, 0, 0.04)",sm:{padding:"0.25rem 0.75rem"},lg:{padding:"0.25rem 0.75rem"}},colorScheme:{light:{root:{background:"{surface.100}",checkedBackground:"{surface.100}",hoverBackground:"{surface.100}",borderColor:"{surface.100}",color:"{surface.500}",hoverColor:"{surface.700}",checkedColor:"{surface.900}",checkedBorderColor:"{surface.100}"},content:{checkedBackground:"{surface.0}"},icon:{color:"{surface.500}",hoverColor:"{surface.700}",checkedColor:"{surface.900}"}},dark:{root:{background:"{surface.950}",checkedBackground:"{surface.950}",hoverBackground:"{surface.950}",borderColor:"{surface.950}",color:"{surface.400}",hoverColor:"{surface.300}",checkedColor:"{surface.0}",checkedBorderColor:"{surface.950}"},content:{checkedBackground:"{surface.800}"},icon:{color:"{surface.400}",hoverColor:"{surface.300}",checkedColor:"{surface.0}"}}}},toggleswitch:{root:{width:"2.5rem",height:"1.5rem",borderRadius:"30px",gap:"0.25rem",shadow:"{form.field.shadow}",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"},borderWidth:"1px",borderColor:"transparent",hoverBorderColor:"transparent",checkedBorderColor:"transparent",checkedHoverBorderColor:"transparent",invalidBorderColor:"{form.field.invalid.border.color}",transitionDuration:"{form.field.transition.duration}",slideDuration:"0.2s"},handle:{borderRadius:"50%",size:"1rem"},colorScheme:{light:{root:{background:"{surface.300}",disabledBackground:"{form.field.disabled.background}",hoverBackground:"{surface.400}",checkedBackground:"{primary.color}",checkedHoverBackground:"{primary.hover.color}"},handle:{background:"{surface.0}",disabledBackground:"{form.field.disabled.color}",hoverBackground:"{surface.0}",checkedBackground:"{surface.0}",checkedHoverBackground:"{surface.0}",color:"{text.muted.color}",hoverColor:"{text.color}",checkedColor:"{primary.color}",checkedHoverColor:"{primary.hover.color}"}},dark:{root:{background:"{surface.700}",disabledBackground:"{surface.600}",hoverBackground:"{surface.600}",checkedBackground:"{primary.color}",checkedHoverBackground:"{primary.hover.color}"},handle:{background:"{surface.400}",disabledBackground:"{surface.900}",hoverBackground:"{surface.300}",checkedBackground:"{surface.900}",checkedHoverBackground:"{surface.900}",color:"{surface.900}",hoverColor:"{surface.800}",checkedColor:"{primary.color}",checkedHoverColor:"{primary.hover.color}"}}}},toolbar:{root:{background:"{content.background}",borderColor:"{content.border.color}",borderRadius:"{content.border.radius}",color:"{content.color}",gap:"0.5rem",padding:"0.75rem"}},tooltip:{root:{maxWidth:"12.5rem",gutter:"0.25rem",shadow:"{overlay.popover.shadow}",padding:"0.5rem 0.75rem",borderRadius:"{overlay.popover.border.radius}"},colorScheme:{light:{root:{background:"{surface.700}",color:"{surface.0}"}},dark:{root:{background:"{surface.700}",color:"{surface.0}"}}}},tree:{root:{background:"{content.background}",color:"{content.color}",padding:"1rem",gap:"2px",indent:"1rem",transitionDuration:"{transition.duration}"},node:{padding:"0.25rem 0.5rem",borderRadius:"{content.border.radius}",hoverBackground:"{content.hover.background}",selectedBackground:"{highlight.background}",color:"{text.color}",hoverColor:"{text.hover.color}",selectedColor:"{highlight.color}",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"-1px",shadow:"{focus.ring.shadow}"},gap:"0.25rem"},nodeIcon:{color:"{text.muted.color}",hoverColor:"{text.hover.muted.color}",selectedColor:"{highlight.color}"},nodeToggleButton:{borderRadius:"50%",size:"1.75rem",hoverBackground:"{content.hover.background}",selectedHoverBackground:"{content.background}",color:"{text.muted.color}",hoverColor:"{text.hover.muted.color}",selectedHoverColor:"{primary.color}",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}},loadingIcon:{size:"2rem"},filter:{margin:"0 0 0.5rem 0"},css:"\n    .p-tree-mask.p-overlay-mask {\n        --px-mask-background: light-dark(rgba(255,255,255,0.5),rgba(0,0,0,0.3));\n    }\n"},treeselect:{root:{background:"{form.field.background}",disabledBackground:"{form.field.disabled.background}",filledBackground:"{form.field.filled.background}",filledHoverBackground:"{form.field.filled.hover.background}",filledFocusBackground:"{form.field.filled.focus.background}",borderColor:"{form.field.border.color}",hoverBorderColor:"{form.field.hover.border.color}",focusBorderColor:"{form.field.focus.border.color}",invalidBorderColor:"{form.field.invalid.border.color}",color:"{form.field.color}",disabledColor:"{form.field.disabled.color}",placeholderColor:"{form.field.placeholder.color}",invalidPlaceholderColor:"{form.field.invalid.placeholder.color}",shadow:"{form.field.shadow}",paddingX:"{form.field.padding.x}",paddingY:"{form.field.padding.y}",borderRadius:"{form.field.border.radius}",focusRing:{width:"{form.field.focus.ring.width}",style:"{form.field.focus.ring.style}",color:"{form.field.focus.ring.color}",offset:"{form.field.focus.ring.offset}",shadow:"{form.field.focus.ring.shadow}"},transitionDuration:"{form.field.transition.duration}",sm:{fontSize:"{form.field.sm.font.size}",paddingX:"{form.field.sm.padding.x}",paddingY:"{form.field.sm.padding.y}"},lg:{fontSize:"{form.field.lg.font.size}",paddingX:"{form.field.lg.padding.x}",paddingY:"{form.field.lg.padding.y}"}},dropdown:{width:"2.5rem",color:"{form.field.icon.color}"},overlay:{background:"{overlay.select.background}",borderColor:"{overlay.select.border.color}",borderRadius:"{overlay.select.border.radius}",color:"{overlay.select.color}",shadow:"{overlay.select.shadow}"},tree:{padding:"{list.padding}"},emptyMessage:{padding:"{list.option.padding}"},chip:{borderRadius:"{border.radius.sm}"},clearIcon:{color:"{form.field.icon.color}"}},treetable:{root:{transitionDuration:"{transition.duration}"},header:{background:"{content.background}",borderColor:"{treetable.border.color}",color:"{content.color}",borderWidth:"0 0 1px 0",padding:"0.75rem 1rem"},headerCell:{background:"{content.background}",hoverBackground:"{content.hover.background}",selectedBackground:"{highlight.background}",borderColor:"{treetable.border.color}",color:"{content.color}",hoverColor:"{content.hover.color}",selectedColor:"{highlight.color}",gap:"0.5rem",padding:"0.75rem 1rem",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"-1px",shadow:"{focus.ring.shadow}"}},columnTitle:{fontWeight:"600"},row:{background:"{content.background}",hoverBackground:"{content.hover.background}",selectedBackground:"{highlight.background}",color:"{content.color}",hoverColor:"{content.hover.color}",selectedColor:"{highlight.color}",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"-1px",shadow:"{focus.ring.shadow}"}},bodyCell:{borderColor:"{treetable.border.color}",padding:"0.75rem 1rem",gap:"0.5rem"},footerCell:{background:"{content.background}",borderColor:"{treetable.border.color}",color:"{content.color}",padding:"0.75rem 1rem"},columnFooter:{fontWeight:"600"},footer:{background:"{content.background}",borderColor:"{treetable.border.color}",color:"{content.color}",borderWidth:"0 0 1px 0",padding:"0.75rem 1rem"},columnResizer:{width:"0.5rem"},resizeIndicator:{width:"1px",color:"{primary.color}"},sortIcon:{color:"{text.muted.color}",hoverColor:"{text.hover.muted.color}",size:"0.875rem"},loadingIcon:{size:"2rem"},nodeToggleButton:{hoverBackground:"{content.hover.background}",selectedHoverBackground:"{content.background}",color:"{text.muted.color}",hoverColor:"{text.color}",selectedHoverColor:"{primary.color}",size:"1.75rem",borderRadius:"50%",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}},paginatorTop:{borderColor:"{content.border.color}",borderWidth:"0 0 1px 0"},paginatorBottom:{borderColor:"{content.border.color}",borderWidth:"0 0 1px 0"},colorScheme:{light:{root:{borderColor:"{content.border.color}"},bodyCell:{selectedBorderColor:"{primary.100}"}},dark:{root:{borderColor:"{surface.800}"},bodyCell:{selectedBorderColor:"{primary.900}"}}},css:"\n    .p-treetable-mask.p-overlay-mask {\n        --px-mask-background: light-dark(rgba(255,255,255,0.5),rgba(0,0,0,0.3));\n    }\n"},virtualscroller:{loader:{mask:{background:"{content.background}",color:"{text.muted.color}"},icon:{size:"2rem"}}}},css:"\n    li.p-autocomplete-option,\n    div.p-cascadeselect-option-content,\n    li.p-listbox-option,\n    li.p-multiselect-option,\n    li.p-select-option,\n    li.p-listbox-option,\n    div.p-tree-node-content,\n    li.p-datatable-filter-constraint,\n    .p-datatable .p-datatable-tbody > tr,\n    .p-treetable .p-treetable-tbody > tr,\n    div.p-menu-item-content,\n    div.p-tieredmenu-item-content,\n    div.p-contextmenu-item-content,\n    div.p-menubar-item-content,\n    div.p-megamenu-item-content,\n    div.p-panelmenu-header-content,\n    div.p-panelmenu-item-content,\n    th.p-datatable-header-cell,\n    th.p-treetable-header-cell,\n    thead.p-datatable-thead > tr > th,\n    .p-treetable thead.p-treetable-thead>tr>th {\n        transition: none;\n    }\n"}));(function U$(n,t,e){return Qj({rootComponent:n,platformRef:e?.platformRef,...qA(t)})})(uK,{providers:[function Mj(n){const t=n?.scheduleInRootZone,e=function xj({ngZoneFactory:n,scheduleInRootZone:t}){return n??=()=>new Ot({...iA(),scheduleInRootZone:t}),[{provide:Kd,useValue:!1},{provide:Ot,useFactory:n},{provide:xi,multi:!0,useFactory:()=>{const e=D(Aj,{optional:!0});return()=>e.initialize()}},{provide:xi,multi:!0,useFactory:()=>{const e=D(Rj);return()=>{e.initialize()}}},{provide:TC,useValue:t??_C}]}({ngZoneFactory:()=>{const r=iA(n);return r.scheduleInRootZone=t,r.shouldCoalesceEventChangeDetection&&dr("NgZone_CoalesceEvent"),new Ot(r)},scheduleInRootZone:t});return $a([{provide:Ij,useValue:!0},e])}({eventCoalescing:!0}),function qQ(n,...t){return $a([{provide:u0,multi:!0,useValue:n},[],{provide:dc,useFactory:vN},{provide:IS,multi:!0,useFactory:yN},t.map(e=>e.\u0275providers)])}([]),function FW(...n){const t=n?.map(r=>({provide:PW,useValue:r,multi:!1})),e=function W4(n){return $a([{provide:TS,multi:!0,useValue:n}])}(()=>{const r=D(rM);n?.forEach(o=>r.setConfig(o))});return $a([...t,e])}({theme:{preset:vle}})]}).catch(n=>console.error(n))},162:function(we,tt,W){"use strict";var ae=W(293).default,Re=this;const ke=W(596),{log:ie}=W(515),X=W(668);let O=0;we.exports=()=>{const Ve=X("Scheduler",O),ut={},At={};let ue=[];O+=1;const Ir=()=>Object.keys(ut).length,Kn=()=>{if(0!==ue.length){const dt=Object.keys(ut);for(let Xt=0;Xt<dt.length;Xt+=1)if(typeof At[dt[Xt]]>"u"){ue[0](ut[dt[Xt]]);break}}},Xn=(dt,Xt)=>new Promise((vn,On)=>{const yn=ke({action:dt,payload:Xt});ue.push(function(){var tn=ae(function*(Ye){ue.shift(),At[Ye.id]=yn;try{vn(yield Ye[dt].apply(Re,[...Xt,yn.id]))}catch(E){On(E)}finally{delete At[Ye.id],Kn()}});return function(Ye){return tn.apply(this,arguments)}}()),ie(`[${Ve}]: Add ${yn.id} to JobQueue`),ie(`[${Ve}]: JobQueue length=${ue.length}`),Kn()});return{addWorker:dt=>(ut[dt.id]=dt,ie(`[${Ve}]: Add ${dt.id}`),ie(`[${Ve}]: Number of workers=${Ir()}`),Kn(),dt.id),addJob:function(){var dt=ae(function*(Xt,...vn){if(0===Ir())throw Error(`[${Ve}]: You need to have at least one worker before adding jobs`);return Xn(Xt,vn)});return function(vn){return dt.apply(this,arguments)}}(),terminate:function(){var dt=ae(function*(){Object.keys(ut).forEach(function(){var Xt=ae(function*(vn){yield ut[vn].terminate()});return function(vn){return Xt.apply(this,arguments)}}()),ue=[]});return function(){return dt.apply(this,arguments)}}(),getQueueLen:()=>ue.length,getNumWorkers:Ir}}},173:(we,tt,W)=>{"use strict";const Re="browser"===W(388)("type")?ke=>new URL(ke,window.location.href).href:ke=>ke;we.exports=ke=>{const ie={...ke};return["corePath","workerPath","langPath"].forEach(X=>{ke[X]&&(ie[X]=Re(ie[X]))}),ie}},256:we=>{"use strict";we.exports=({workerPath:tt,workerBlobURL:W})=>{let ae;if(Blob&&URL&&W){const Re=new Blob([`importScripts("${tt}");`],{type:"application/javascript"});ae=new Worker(URL.createObjectURL(Re))}else ae=new Worker(tt);return ae}},262:function(we,tt){var W,Re;W=function ke(){var X,ie=typeof self<"u"?self:typeof window<"u"?window:void 0!==ie?ie:{},O=!ie.document&&!!ie.postMessage,Ve=ie.IS_PAPA_WORKER||!1,ut={},At=0,ue={};function ln(E){this._handle=null,this._finished=!1,this._completed=!1,this._halted=!1,this._input=null,this._baseIndex=0,this._partialLine="",this._rowCount=0,this._start=0,this._nextChunk=null,this.isFirstChunk=!0,this._completeResults={data:[],errors:[],meta:{}},function(S){var M=yn(S);M.chunkSize=parseInt(M.chunkSize),S.step||S.chunk||(M.chunkSize=null),this._handle=new Zn(M),(this._handle.streamer=this)._config=M}.call(this,E),this.parseChunk=function(S,M){var le=parseInt(this._config.skipFirstNLines)||0;if(this.isFirstChunk&&0<le){let Ne=this._config.newline;Ne||(Ne=this._handle.guessLineEndings(S,oe=this._config.quoteChar||'"')),S=[...S.split(Ne).slice(le)].join(Ne)}this.isFirstChunk&&Ye(this._config.beforeFirstChunk)&&void 0!==(oe=this._config.beforeFirstChunk(S))&&(S=oe),this.isFirstChunk=!1,this._halted=!1,le=this._partialLine+S;var oe=(this._partialLine="",this._handle.parse(le,this._baseIndex,!this._finished));if(!this._handle.paused()&&!this._handle.aborted()){if(S=oe.meta.cursor,this._finished||(this._partialLine=le.substring(S-this._baseIndex),this._baseIndex=S),oe&&oe.data&&(this._rowCount+=oe.data.length),le=this._finished||this._config.preview&&this._rowCount>=this._config.preview,Ve)ie.postMessage({results:oe,workerId:ue.WORKER_ID,finished:le});else if(Ye(this._config.chunk)&&!M){if(this._config.chunk(oe,this._handle),this._handle.paused()||this._handle.aborted())return void(this._halted=!0);this._completeResults=oe=void 0}return this._config.step||this._config.chunk||(this._completeResults.data=this._completeResults.data.concat(oe.data),this._completeResults.errors=this._completeResults.errors.concat(oe.errors),this._completeResults.meta=oe.meta),this._completed||!le||!Ye(this._config.complete)||oe&&oe.meta.aborted||(this._config.complete(this._completeResults,this._input),this._completed=!0),le||oe&&oe.meta.paused||this._nextChunk(),oe}this._halted=!0},this._sendError=function(S){Ye(this._config.error)?this._config.error(S):Ve&&this._config.error&&ie.postMessage({workerId:ue.WORKER_ID,error:S,finished:!1})}}function Ir(E){var S;(E=E||{}).chunkSize||(E.chunkSize=ue.RemoteChunkSize),ln.call(this,E),this._nextChunk=O?function(){this._readChunk(),this._chunkLoaded()}:function(){this._readChunk()},this.stream=function(M){this._input=M,this._nextChunk()},this._readChunk=function(){if(this._finished)this._chunkLoaded();else{if(S=new XMLHttpRequest,this._config.withCredentials&&(S.withCredentials=this._config.withCredentials),O||(S.onload=tn(this._chunkLoaded,this),S.onerror=tn(this._chunkError,this)),S.open(this._config.downloadRequestBody?"POST":"GET",this._input,!O),this._config.downloadRequestHeaders){var M,le=this._config.downloadRequestHeaders;for(M in le)S.setRequestHeader(M,le[M])}this._config.chunkSize&&S.setRequestHeader("Range","bytes="+this._start+"-"+(this._start+this._config.chunkSize-1));try{S.send(this._config.downloadRequestBody)}catch(Ne){this._chunkError(Ne.message)}O&&0===S.status&&this._chunkError()}},this._chunkLoaded=function(){var M;4===S.readyState&&(S.status<200||400<=S.status?this._chunkError():(this._start+=this._config.chunkSize||S.responseText.length,this._finished=!this._config.chunkSize||this._start>=(null!==(M=(M=S).getResponseHeader("Content-Range"))?parseInt(M.substring(M.lastIndexOf("/")+1)):-1),this.parseChunk(S.responseText)))},this._chunkError=function(M){M=S.statusText||M,this._sendError(new Error(M))}}function Kn(E){(E=E||{}).chunkSize||(E.chunkSize=ue.LocalChunkSize),ln.call(this,E);var S,M,le=typeof FileReader<"u";this.stream=function(oe){this._input=oe,M=oe.slice||oe.webkitSlice||oe.mozSlice,le?((S=new FileReader).onload=tn(this._chunkLoaded,this),S.onerror=tn(this._chunkError,this)):S=new FileReaderSync,this._nextChunk()},this._nextChunk=function(){this._finished||this._config.preview&&!(this._rowCount<this._config.preview)||this._readChunk()},this._readChunk=function(){var oe=this._input,Ne=(this._config.chunkSize&&(Ne=Math.min(this._start+this._config.chunkSize,this._input.size),oe=M.call(oe,this._start,Ne)),S.readAsText(oe,this._config.encoding));le||this._chunkLoaded({target:{result:Ne}})},this._chunkLoaded=function(oe){this._start+=this._config.chunkSize,this._finished=!this._config.chunkSize||this._start>=this._input.size,this.parseChunk(oe.target.result)},this._chunkError=function(){this._sendError(S.error)}}function Xn(E){var S;ln.call(this,E=E||{}),this.stream=function(M){return S=M,this._nextChunk()},this._nextChunk=function(){var M,le;if(!this._finished)return S=(M=this._config.chunkSize)?(le=S.substring(0,M),S.substring(M)):(le=S,""),this._finished=!S,this.parseChunk(le)}}function lr(E){ln.call(this,E=E||{});var S=[],M=!0,le=!1;this.pause=function(){ln.prototype.pause.apply(this,arguments),this._input.pause()},this.resume=function(){ln.prototype.resume.apply(this,arguments),this._input.resume()},this.stream=function(oe){this._input=oe,this._input.on("data",this._streamData),this._input.on("end",this._streamEnd),this._input.on("error",this._streamError)},this._checkIsFinished=function(){le&&1===S.length&&(this._finished=!0)},this._nextChunk=function(){this._checkIsFinished(),S.length?this.parseChunk(S.shift()):M=!0},this._streamData=tn(function(oe){try{S.push("string"==typeof oe?oe:oe.toString(this._config.encoding)),M&&(M=!1,this._checkIsFinished(),this.parseChunk(S.shift()))}catch(Ne){this._streamError(Ne)}},this),this._streamError=tn(function(oe){this._streamCleanUp(),this._sendError(oe)},this),this._streamEnd=tn(function(){this._streamCleanUp(),le=!0,this._streamData("")},this),this._streamCleanUp=tn(function(){this._input.removeListener("data",this._streamData),this._input.removeListener("end",this._streamEnd),this._input.removeListener("error",this._streamError)},this)}function Zn(E){var S,M,le,oe,Ne=Math.pow(2,53),wt=-Ne,Et=/^\s*-?(\d+\.?|\.\d+|\d+\.\d+)([eE][-+]?\d+)?\s*$/,N=/^((\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z)))$/,T=this,F=0,U=0,re=!1,ee=!1,ye=[],Y={data:[],errors:[],meta:{}};function rt(Ie){return"greedy"===E.skipEmptyLines?""===Ie.join("").trim():1===Ie.length&&0===Ie[0].length}function Je(){if(Y&&le&&(nn("Delimiter","UndetectableDelimiter","Unable to auto-detect delimiting character; defaulted to '"+ue.DefaultDelimiter+"'"),le=!1),E.skipEmptyLines&&(Y.data=Y.data.filter(function(Le){return!rt(Le)})),cn()){let Le=function(St,Ke){Ye(E.transformHeader)&&(St=E.transformHeader(St,Ke)),ye.push(St)};if(Y)if(Array.isArray(Y.data[0])){for(var Ie=0;cn()&&Ie<Y.data.length;Ie++)Y.data[Ie].forEach(Le);Y.data.splice(0,1)}else Y.data.forEach(Le)}function Dt(Le,St){for(var Ke=E.header?{}:[],de=0;de<Le.length;de++){var Ge=de,pn=Le[de];pn=((ot,et)=>{return Sn=ot,E.dynamicTypingFunction&&void 0===E.dynamicTyping[Sn]&&(E.dynamicTyping[Sn]=E.dynamicTypingFunction(Sn)),!0===(E.dynamicTyping[Sn]||E.dynamicTyping)?"true"===et||"TRUE"===et||"false"!==et&&"FALSE"!==et&&((Sn=>{if(Et.test(Sn)&&(Sn=parseFloat(Sn),wt<Sn&&Sn<Ne))return 1})(et)?parseFloat(et):N.test(et)?new Date(et):""===et?null:et):et;var Sn})(Ge=E.header?de>=ye.length?"__parsed_extra":ye[de]:Ge,pn=E.transform?E.transform(pn,Ge):pn),"__parsed_extra"===Ge?(Ke[Ge]=Ke[Ge]||[],Ke[Ge].push(pn)):Ke[Ge]=pn}return E.header&&(de>ye.length?nn("FieldMismatch","TooManyFields","Too many fields: expected "+ye.length+" fields but parsed "+de,U+St):de<ye.length&&nn("FieldMismatch","TooFewFields","Too few fields: expected "+ye.length+" fields but parsed "+de,U+St)),Ke}var fe;Y&&(E.header||E.dynamicTyping||E.transform)&&(fe=1,!Y.data.length||Array.isArray(Y.data[0])?(Y.data=Y.data.map(Dt),fe=Y.data.length):Y.data=Dt(Y.data,0),E.header&&Y.meta&&(Y.meta.fields=ye),U+=fe)}function cn(){return E.header&&0===ye.length}function nn(Ie,Dt,fe,te){Ie={type:Ie,code:Dt,message:fe},void 0!==te&&(Ie.row=te),Y.errors.push(Ie)}Ye(E.step)&&(oe=E.step,E.step=function(Ie){Y=Ie,cn()?Je():(Je(),0!==Y.data.length&&(F+=Ie.data.length,E.preview&&F>E.preview?M.abort():(Y.data=Y.data[0],oe(Y,T))))}),this.parse=function(Ie,Dt,fe){var te=E.quoteChar||'"';return E.newline||(E.newline=this.guessLineEndings(Ie,te)),le=!1,E.delimiter?Ye(E.delimiter)&&(E.delimiter=E.delimiter(Ie),Y.meta.delimiter=E.delimiter):((te=((Le,St,Ke,de,Ge)=>{var pn,ot,et,Sn;Ge=Ge||[",","\t","|",";",ue.RECORD_SEP,ue.UNIT_SEP];for(var Ii=0;Ii<Ge.length;Ii++){for(var so,ao=Ge[Ii],Ln=0,lo=0,kn=0,Cr=(et=void 0,new dt({comments:de,delimiter:ao,newline:St,preview:10}).parse(Le)),Wo=0;Wo<Cr.data.length;Wo++)Ke&&rt(Cr.data[Wo])?kn++:(lo+=so=Cr.data[Wo].length,void 0===et?et=so:0<so&&(Ln+=Math.abs(so-et),et=so));0<Cr.data.length&&(lo/=Cr.data.length-kn),(void 0===ot||Ln<=ot)&&(void 0===Sn||Sn<lo)&&1.99<lo&&(ot=Ln,pn=ao,Sn=lo)}return{successful:!!(E.delimiter=pn),bestDelimiter:pn}})(Ie,E.newline,E.skipEmptyLines,E.comments,E.delimitersToGuess)).successful?E.delimiter=te.bestDelimiter:(le=!0,E.delimiter=ue.DefaultDelimiter),Y.meta.delimiter=E.delimiter),te=yn(E),E.preview&&E.header&&te.preview++,S=Ie,M=new dt(te),Y=M.parse(S,Dt,fe),Je(),re?{meta:{paused:!0}}:Y||{meta:{paused:!1}}},this.paused=function(){return re},this.pause=function(){re=!0,M.abort(),S=Ye(E.chunk)?"":S.substring(M.getCharIndex())},this.resume=function(){T.streamer._halted?(re=!1,T.streamer.parseChunk(S,!0)):setTimeout(T.resume,3)},this.aborted=function(){return ee},this.abort=function(){ee=!0,M.abort(),Y.meta.aborted=!0,Ye(E.complete)&&E.complete(Y),S=""},this.guessLineEndings=function(Le,te){Le=Le.substring(0,1048576),te=new RegExp(er(te)+"([^]*?)"+er(te),"gm");var fe=(Le=Le.replace(te,"")).split("\r");if(Le=1<(te=Le.split("\n")).length&&te[0].length<fe[0].length,1===fe.length||Le)return"\n";for(var St=0,Ke=0;Ke<fe.length;Ke++)"\n"===fe[Ke][0]&&St++;return St>=fe.length/2?"\r\n":"\r"}}function er(E){return E.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function dt(E){var S=(E=E||{}).delimiter,M=E.newline,le=E.comments,oe=E.step,Ne=E.preview,wt=E.fastMode,Et=null,N=!1,T=null==E.quoteChar?'"':E.quoteChar,F=T;if(void 0!==E.escapeChar&&(F=E.escapeChar),("string"!=typeof S||-1<ue.BAD_DELIMITERS.indexOf(S))&&(S=","),le===S)throw new Error("Comment character same as delimiter");!0===le?le="#":("string"!=typeof le||-1<ue.BAD_DELIMITERS.indexOf(le))&&(le=!1),"\n"!==M&&"\r"!==M&&"\r\n"!==M&&(M="\n");var U=0,re=!1;this.parse=function(ee,ye,Y){if("string"!=typeof ee)throw new Error("Input must be a string");var rt=ee.length,Je=S.length,cn=M.length,nn=le.length,Ie=Ye(oe),Dt=[],fe=[],te=[],Le=U=0;if(!ee)return Ln();if(wt||!1!==wt&&-1===ee.indexOf(T)){for(var St=ee.split(M),Ke=0;Ke<St.length;Ke++){if(U+=(te=St[Ke]).length,Ke!==St.length-1)U+=M.length;else if(Y)return Ln();if(!le||te.substring(0,nn)!==le){if(Ie){if(Dt=[],Sn(te.split(S)),lo(),re)return Ln()}else Sn(te.split(S));if(Ne&&Ne<=Ke)return Dt=Dt.slice(0,Ne),Ln(!0)}}return Ln()}for(var de=ee.indexOf(S,U),Ge=ee.indexOf(M,U),pn=new RegExp(er(F)+er(T),"g"),ot=ee.indexOf(T,U);;)if(ee[U]===T)for(ot=U,U++;;){if(-1===(ot=ee.indexOf(T,ot+1)))return Y||fe.push({type:"Quotes",code:"MissingQuotes",message:"Quoted field unterminated",row:Dt.length,index:U}),so();if(ot===rt-1)return so(ee.substring(U,ot).replace(pn,T));if(T===F&&ee[ot+1]===F)ot++;else if(T===F||0===ot||ee[ot-1]!==F){-1!==de&&de<ot+1&&(de=ee.indexOf(S,ot+1));var et=Ii(-1===(Ge=-1!==Ge&&Ge<ot+1?ee.indexOf(M,ot+1):Ge)?de:Math.min(de,Ge));if(ee.substr(ot+1+et,Je)===S){te.push(ee.substring(U,ot).replace(pn,T)),ee[U=ot+1+et+Je]!==T&&(ot=ee.indexOf(T,U)),de=ee.indexOf(S,U),Ge=ee.indexOf(M,U);break}if(et=Ii(Ge),ee.substring(ot+1+et,ot+1+et+cn)===M){if(te.push(ee.substring(U,ot).replace(pn,T)),ao(ot+1+et+cn),de=ee.indexOf(S,U),ot=ee.indexOf(T,U),Ie&&(lo(),re))return Ln();if(Ne&&Dt.length>=Ne)return Ln(!0);break}fe.push({type:"Quotes",code:"InvalidQuotes",message:"Trailing quote on quoted field is malformed",row:Dt.length,index:U}),ot++}}else if(le&&0===te.length&&ee.substring(U,U+nn)===le){if(-1===Ge)return Ln();Ge=ee.indexOf(M,U=Ge+cn),de=ee.indexOf(S,U)}else if(-1!==de&&(de<Ge||-1===Ge))te.push(ee.substring(U,de)),de=ee.indexOf(S,U=de+Je);else{if(-1===Ge)break;if(te.push(ee.substring(U,Ge)),ao(Ge+cn),Ie&&(lo(),re))return Ln();if(Ne&&Dt.length>=Ne)return Ln(!0)}return so();function Sn(kn){Dt.push(kn),Le=U}function Ii(kn){return-1!==kn&&(kn=ee.substring(ot+1,kn))&&""===kn.trim()?kn.length:0}function so(kn){return Y||(void 0===kn&&(kn=ee.substring(U)),te.push(kn),U=rt,Sn(te),Ie&&lo()),Ln()}function ao(kn){U=kn,Sn(te),te=[],Ge=ee.indexOf(M,U)}function Ln(kn){if(E.header&&!ye&&Dt.length&&!N){var Cr=Dt[0],Wo=Object.create(null),mc=new Set(Cr);let Oa=!1;for(let qr=0;qr<Cr.length;qr++){let xr=Cr[qr];if(Wo[xr=Ye(E.transformHeader)?E.transformHeader(xr,qr):xr]){let Is,La=Wo[xr];for(;Is=xr+"_"+La,La++,mc.has(Is););mc.add(Is),Cr[qr]=Is,Wo[xr]++,Oa=!0,(Et=null===Et?{}:Et)[Is]=xr}else Wo[xr]=1,Cr[qr]=xr;mc.add(xr)}Oa&&console.warn("Duplicate headers found and renamed."),N=!0}return{data:Dt,errors:fe,meta:{delimiter:S,linebreak:M,aborted:re,truncated:!!kn,cursor:Le+(ye||0),renamedHeaders:Et}}}function lo(){oe(Ln()),Dt=[],fe=[]}},this.abort=function(){re=!0},this.getCharIndex=function(){return U}}function Xt(E){var S=E.data,M=ut[S.workerId],le=!1;if(S.error)M.userError(S.error,S.file);else if(S.results&&S.results.data){var oe={abort:function(){le=!0,vn(S.workerId,{data:[],errors:[],meta:{aborted:!0}})},pause:On,resume:On};if(Ye(M.userStep)){for(var Ne=0;Ne<S.results.data.length&&(M.userStep({data:S.results.data[Ne],errors:S.results.errors,meta:S.results.meta},oe),!le);Ne++);delete S.results}else Ye(M.userChunk)&&(M.userChunk(S.results,oe,S.file),delete S.results)}S.finished&&!le&&vn(S.workerId,S.results)}function vn(E,S){var M=ut[E];Ye(M.userComplete)&&M.userComplete(S),M.terminate(),delete ut[E]}function On(){throw new Error("Not implemented.")}function yn(E){if("object"!=typeof E||null===E)return E;var S,M=Array.isArray(E)?[]:{};for(S in E)M[S]=yn(E[S]);return M}function tn(E,S){return function(){E.apply(S,arguments)}}function Ye(E){return"function"==typeof E}return ue.parse=function(E,S){var le,M=(S=S||{}).dynamicTyping||!1;if(Ye(M)&&(S.dynamicTypingFunction=M,M={}),S.dynamicTyping=M,S.transform=!!Ye(S.transform)&&S.transform,!S.worker||!ue.WORKERS_SUPPORTED)return M=null,"string"==typeof E?(E=65279!==(le=E).charCodeAt(0)?le:le.slice(1),M=new(S.download?Ir:Xn)(S)):!0===E.readable&&Ye(E.read)&&Ye(E.on)?M=new lr(S):(ie.File&&E instanceof File||E instanceof Object)&&(M=new Kn(S)),M.stream(E);(M=(()=>{var le,oe,Ne;return!!ue.WORKERS_SUPPORTED&&(oe=ie.URL||ie.webkitURL||null,Ne=ke.toString(),le=ue.BLOB_URL||(ue.BLOB_URL=oe.createObjectURL(new Blob(["var global = (function() { if (typeof self !== 'undefined') { return self; } if (typeof window !== 'undefined') { return window; } if (typeof global !== 'undefined') { return global; } return {}; })(); global.IS_PAPA_WORKER=true; ","(",Ne,")();"],{type:"text/javascript"}))),(le=new ie.Worker(le)).onmessage=Xt,le.id=At++,ut[le.id]=le)})()).userStep=S.step,M.userChunk=S.chunk,M.userComplete=S.complete,M.userError=S.error,S.step=Ye(S.step),S.chunk=Ye(S.chunk),S.complete=Ye(S.complete),S.error=Ye(S.error),delete S.worker,M.postMessage({input:E,config:S,workerId:M.id})},ue.unparse=function(E,S){var M=!1,le=!0,oe=",",Ne="\r\n",wt='"',Et=wt+wt,N=!1,T=null,F=!1,U=((()=>{if("object"==typeof S){if("string"!=typeof S.delimiter||ue.BAD_DELIMITERS.filter(function(ye){return-1!==S.delimiter.indexOf(ye)}).length||(oe=S.delimiter),"boolean"!=typeof S.quotes&&"function"!=typeof S.quotes&&!Array.isArray(S.quotes)||(M=S.quotes),"boolean"!=typeof S.skipEmptyLines&&"string"!=typeof S.skipEmptyLines||(N=S.skipEmptyLines),"string"==typeof S.newline&&(Ne=S.newline),"string"==typeof S.quoteChar&&(wt=S.quoteChar),"boolean"==typeof S.header&&(le=S.header),Array.isArray(S.columns)){if(0===S.columns.length)throw new Error("Option columns is empty");T=S.columns}void 0!==S.escapeChar&&(Et=S.escapeChar+wt),S.escapeFormulae instanceof RegExp?F=S.escapeFormulae:"boolean"==typeof S.escapeFormulae&&S.escapeFormulae&&(F=/^[=+\-@\t\r].*$/)}})(),new RegExp(er(wt),"g"));if("string"==typeof E&&(E=JSON.parse(E)),Array.isArray(E)){if(!E.length||Array.isArray(E[0]))return re(null,E,N);if("object"==typeof E[0])return re(T||Object.keys(E[0]),E,N)}else if("object"==typeof E)return"string"==typeof E.data&&(E.data=JSON.parse(E.data)),Array.isArray(E.data)&&(E.fields||(E.fields=E.meta&&E.meta.fields||T),E.fields||(E.fields=Array.isArray(E.data[0])?E.fields:"object"==typeof E.data[0]?Object.keys(E.data[0]):[]),Array.isArray(E.data[0])||"object"==typeof E.data[0]||(E.data=[E.data])),re(E.fields||[],E.data||[],N);throw new Error("Unable to serialize unrecognized input");function re(ye,Y,rt){var Je="",cn=("string"==typeof ye&&(ye=JSON.parse(ye)),"string"==typeof Y&&(Y=JSON.parse(Y)),Array.isArray(ye)&&0<ye.length),nn=!Array.isArray(Y[0]);if(cn&&le){for(var Ie=0;Ie<ye.length;Ie++)0<Ie&&(Je+=oe),Je+=ee(ye[Ie],Ie);0<Y.length&&(Je+=Ne)}for(var Dt=0;Dt<Y.length;Dt++){var fe=(cn?ye:Y[Dt]).length,te=!1,Le=cn?0===Object.keys(Y[Dt]).length:0===Y[Dt].length;if(rt&&!cn&&(te="greedy"===rt?""===Y[Dt].join("").trim():1===Y[Dt].length&&0===Y[Dt][0].length),"greedy"===rt&&cn){for(var St=[],Ke=0;Ke<fe;Ke++)St.push(Y[Dt][nn?ye[Ke]:Ke]);te=""===St.join("").trim()}if(!te){for(var Ge=0;Ge<fe;Ge++)0<Ge&&!Le&&(Je+=oe),Je+=ee(Y[Dt][cn&&nn?ye[Ge]:Ge],Ge);Dt<Y.length-1&&(!rt||0<fe&&!Le)&&(Je+=Ne)}}return Je}function ee(ye,Y){var rt,Je;return null==ye?"":ye.constructor===Date?JSON.stringify(ye).slice(1,25):(Je=!1,F&&"string"==typeof ye&&F.test(ye)&&(ye="'"+ye,Je=!0),rt=ye.toString().replace(U,Et),(Je=Je||!0===M||"function"==typeof M&&M(ye,Y)||Array.isArray(M)&&M[Y]||((cn,nn)=>{for(var Ie=0;Ie<nn.length;Ie++)if(-1<cn.indexOf(nn[Ie]))return!0;return!1})(rt,ue.BAD_DELIMITERS)||-1<rt.indexOf(oe)||" "===rt.charAt(0)||" "===rt.charAt(rt.length-1))?wt+rt+wt:rt)}},ue.RECORD_SEP="\x1e",ue.UNIT_SEP="\x1f",ue.BYTE_ORDER_MARK="\ufeff",ue.BAD_DELIMITERS=["\r","\n",'"',ue.BYTE_ORDER_MARK],ue.WORKERS_SUPPORTED=!O&&!!ie.Worker,ue.NODE_STREAM_INPUT=1,ue.LocalChunkSize=10485760,ue.RemoteChunkSize=5242880,ue.DefaultDelimiter=",",ue.Parser=dt,ue.ParserHandle=Zn,ue.NetworkStreamer=Ir,ue.FileStreamer=Kn,ue.StringStreamer=Xn,ue.ReadableStreamStreamer=lr,ie.jQuery&&((X=ie.jQuery).fn.parse=function(E){var S=E.config||{},M=[];return this.each(function(Ne){if("INPUT"!==X(this).prop("tagName").toUpperCase()||"file"!==X(this).attr("type").toLowerCase()||!ie.FileReader||!this.files||0===this.files.length)return!0;for(var wt=0;wt<this.files.length;wt++)M.push({file:this.files[wt],inputElem:this,instanceConfig:X.extend({},S)})}),le(),this;function le(){if(0===M.length)Ye(E.complete)&&E.complete();else{var wt,Et,N,T=M[0];if(Ye(E.before)){var F=E.before(T.file,T.inputElem);if("object"==typeof F){if("abort"===F.action)return wt=T.file,Et=T.inputElem,N=F.reason,void(Ye(E.error)&&E.error({name:"AbortError"},wt,Et,N));if("skip"===F.action)return void oe();"object"==typeof F.config&&(T.instanceConfig=X.extend(T.instanceConfig,F.config))}else if("skip"===F)return void oe()}var U=T.instanceConfig.complete;T.instanceConfig.complete=function(re){Ye(U)&&U(re,T.file,T.inputElem),oe()},ue.parse(T.file,T.instanceConfig)}}function oe(){M.splice(0,1),le()}}),Ve&&(ie.onmessage=function(E){E=E.data,void 0===ue.WORKER_ID&&E&&(ue.WORKER_ID=E.workerId),"string"==typeof E.input?ie.postMessage({workerId:ue.WORKER_ID,results:ue.parse(E.input,E.config),finished:!0}):(ie.File&&E.input instanceof File||E.input instanceof Object)&&(E=ue.parse(E.input,E.config))&&ie.postMessage({workerId:ue.WORKER_ID,results:E,finished:!0})}),(Ir.prototype=Object.create(ln.prototype)).constructor=Ir,(Kn.prototype=Object.create(ln.prototype)).constructor=Kn,(Xn.prototype=Object.create(Xn.prototype)).constructor=Xn,(lr.prototype=Object.create(ln.prototype)).constructor=lr,ue},void 0!==(Re=W.apply(tt,[]))&&(we.exports=Re)},293:we=>{function tt(ae,Re,ke,ie,X,O,Ve){try{var ut=ae[O](Ve),At=ut.value}catch(ue){return void ke(ue)}ut.done?Re(At):Promise.resolve(At).then(ie,X)}we.exports=function W(ae){return function(){var Re=this,ke=arguments;return new Promise(function(ie,X){var O=ae.apply(Re,ke);function Ve(At){tt(O,ie,X,Ve,ut,"next",At)}function ut(At){tt(O,ie,X,Ve,ut,"throw",At)}Ve(void 0)})}},we.exports.__esModule=!0,we.exports.default=we.exports},388:we=>{"use strict";we.exports=tt=>{const W={};return typeof WorkerGlobalScope<"u"?W.type="webworker":"object"==typeof document?W.type="browser":"object"==typeof process&&(W.type="node"),typeof tt>"u"?W:W[tt]}},422:we=>{"use strict";we.exports={TESSERACT_ONLY:0,LSTM_ONLY:1,TESSERACT_LSTM_COMBINED:2,DEFAULT:3}},459:(we,tt,W)=>{"use strict";W(91);const ae=W(162),Re=W(853),ke=W(513),ie=W(686),X=W(422),O=W(29),{setLogging:Ve}=W(515);we.exports={languages:ie,OEM:X,PSM:O,createScheduler:ae,createWorker:Re,setLogging:Ve,...ke}},513:(we,tt,W)=>{"use strict";var ae=W(293).default;const Re=W(853);we.exports={recognize:function(){var X=ae(function*(O,Ve,ut){const At=yield Re(Ve,1,ut);return At.recognize(O).finally(ae(function*(){yield At.terminate()}))});return function(Ve,ut,At){return X.apply(this,arguments)}}(),detect:function(){var X=ae(function*(O,Ve){const ut=yield Re("osd",0,Ve);return ut.detect(O).finally(ae(function*(){yield ut.terminate()}))});return function(Ve,ut){return X.apply(this,arguments)}}()}},515:function(we,tt){"use strict";let W=!1;tt.logging=W,tt.setLogging=ae=>{W=ae},tt.log=(...ae)=>W?console.log.apply(this,ae):null},520:(we,tt,W)=>{"use strict";const ae=W(125).rE,Re=W(732);we.exports={...Re,workerPath:`https://cdn.jsdelivr.net/npm/tesseract.js@v${ae}/dist/worker.min.js`}},596:(we,tt,W)=>{"use strict";const ae=W(668);let Re=0;we.exports=({id:ke,action:ie,payload:X={}})=>{let O=ke;return typeof O>"u"&&(O=ae("Job",Re),Re+=1),{id:O,action:ie,payload:X}}},668:we=>{"use strict";we.exports=(tt,W)=>`${tt}-${W}-${Math.random().toString(16).slice(3,8)}`},686:we=>{"use strict";we.exports={AFR:"afr",AMH:"amh",ARA:"ara",ASM:"asm",AZE:"aze",AZE_CYRL:"aze_cyrl",BEL:"bel",BEN:"ben",BOD:"bod",BOS:"bos",BUL:"bul",CAT:"cat",CEB:"ceb",CES:"ces",CHI_SIM:"chi_sim",CHI_TRA:"chi_tra",CHR:"chr",CYM:"cym",DAN:"dan",DEU:"deu",DZO:"dzo",ELL:"ell",ENG:"eng",ENM:"enm",EPO:"epo",EST:"est",EUS:"eus",FAS:"fas",FIN:"fin",FRA:"fra",FRK:"frk",FRM:"frm",GLE:"gle",GLG:"glg",GRC:"grc",GUJ:"guj",HAT:"hat",HEB:"heb",HIN:"hin",HRV:"hrv",HUN:"hun",IKU:"iku",IND:"ind",ISL:"isl",ITA:"ita",ITA_OLD:"ita_old",JAV:"jav",JPN:"jpn",KAN:"kan",KAT:"kat",KAT_OLD:"kat_old",KAZ:"kaz",KHM:"khm",KIR:"kir",KOR:"kor",KUR:"kur",LAO:"lao",LAT:"lat",LAV:"lav",LIT:"lit",MAL:"mal",MAR:"mar",MKD:"mkd",MLT:"mlt",MSA:"msa",MYA:"mya",NEP:"nep",NLD:"nld",NOR:"nor",ORI:"ori",PAN:"pan",POL:"pol",POR:"por",PUS:"pus",RON:"ron",RUS:"rus",SAN:"san",SIN:"sin",SLK:"slk",SLV:"slv",SPA:"spa",SPA_OLD:"spa_old",SQI:"sqi",SRP:"srp",SRP_LATN:"srp_latn",SWA:"swa",SWE:"swe",SYR:"syr",TAM:"tam",TEL:"tel",TGK:"tgk",TGL:"tgl",THA:"tha",TIR:"tir",TUR:"tur",UIG:"uig",UKR:"ukr",URD:"urd",UZB:"uzb",UZB_CYRL:"uzb_cyrl",VIE:"vie",YID:"yid"}},732:we=>{"use strict";we.exports={workerBlobURL:!0,logger:()=>{}}},805:we=>{"use strict";we.exports=(tt,W)=>{tt.onmessage=({data:ae})=>{W(ae)}}},833:(we,tt,W)=>{"use strict";const ae=W(520),Re=W(256),ke=W(988),ie=W(805),X=W(23),O=W(7);we.exports={defaultOptions:ae,spawnWorker:Re,terminateWorker:ke,onMessage:ie,send:X,loadImage:O}},853:(we,tt,W)=>{"use strict";var ae=W(293).default;const Re=W(173),ke=W(596),{log:ie}=W(515),X=W(668),O=W(422),{defaultOptions:Ve,spawnWorker:ut,terminateWorker:At,onMessage:ue,loadImage:ln,send:Ir}=W(833);let Kn=0;we.exports=ae(function*(Xn="eng",lr=O.LSTM_ONLY,Zn={},er={}){const dt=X("Worker",Kn),{logger:Xt,errorHandler:vn,...On}=Re({...Ve,...Zn}),yn={},tn="string"==typeof Xn?Xn.split("+"):Xn;let Ye=lr,E=er;const S=[O.DEFAULT,O.LSTM_ONLY].includes(lr)&&!On.legacyCore;let M,le;const oe=new Promise((fe,te)=>{le=fe,M=te});let wt=ut(On);wt.onerror=fe=>{M(fe.message)},Kn+=1;const Et=({id:fe,action:te,payload:Le})=>new Promise((St,Ke)=>{ie(`[${dt}]: Start ${fe}, action=${te}`),yn[`${te}-${fe}`]={resolve:St,reject:Ke},Ir(wt,{workerId:dt,jobId:fe,action:te,payload:Le})}),ye=(fe,te)=>Et(ke({id:te,action:"loadLanguage",payload:{langs:fe,options:{langPath:On.langPath,dataPath:On.dataPath,cachePath:On.cachePath,cacheMethod:On.cacheMethod,gzip:On.gzip,lstmOnly:[O.DEFAULT,O.LSTM_ONLY].includes(Ye)&&!On.legacyLang}}})),Y=(fe,te,Le,St)=>Et(ke({id:St,action:"initialize",payload:{langs:fe,oem:te,config:Le}})),cn=function(){var fe=ae(function*(te,Le={},St={text:!0},Ke){return Et(ke({id:Ke,action:"recognize",payload:{image:yield ln(te),options:Le,output:St}}))});return function(Le){return fe.apply(this,arguments)}}(),nn=function(){var fe=ae(function*(te,Le){if(S)throw Error("`worker.detect` requires Legacy model, which was not loaded.");return Et(ke({id:Le,action:"detect",payload:{image:yield ln(te)}}))});return function(Le,St){return fe.apply(this,arguments)}}(),Ie=function(){var fe=ae(function*(){return null!==wt&&(At(wt),wt=null),Promise.resolve()});return function(){return fe.apply(this,arguments)}}();ue(wt,({workerId:fe,jobId:te,status:Le,action:St,data:Ke})=>{const de=`${St}-${te}`;if("resolve"===Le)ie(`[${fe}]: Complete ${te}`),yn[de].resolve({jobId:te,data:Ke}),delete yn[de];else if("reject"===Le){if(yn[de].reject(Ke),delete yn[de],"load"===St&&M(Ke),!vn)throw Error(Ke);vn(Ke)}else"progress"===Le&&Xt({...Ke,userJobId:te})});const Dt={id:dt,worker:wt,load:()=>console.warn("`load` is depreciated and should be removed from code (workers now come pre-loaded)"),writeText:(fe,te,Le)=>Et(ke({id:Le,action:"FS",payload:{method:"writeFile",args:[fe,te]}})),readText:(fe,te)=>Et(ke({id:te,action:"FS",payload:{method:"readFile",args:[fe,{encoding:"utf8"}]}})),removeFile:(fe,te)=>Et(ke({id:te,action:"FS",payload:{method:"unlink",args:[fe]}})),FS:(fe,te,Le)=>Et(ke({id:Le,action:"FS",payload:{method:fe,args:te}})),reinitialize:(fe="eng",te,Le,St)=>{if(S&&[O.TESSERACT_ONLY,O.TESSERACT_LSTM_COMBINED].includes(te))throw Error("Legacy model requested but code missing.");const Ke=te||Ye;Ye=Ke;const de=Le||E;E=de;const pn=("string"==typeof fe?fe.split("+"):fe).filter(ot=>!tn.includes(ot));return tn.push(...pn),pn.length>0?ye(pn,St).then(()=>Y(fe,Ke,de,St)):Y(fe,Ke,de,St)},setParameters:(fe={},te)=>Et(ke({id:te,action:"setParameters",payload:{params:fe}})),recognize:cn,detect:nn,terminate:Ie};return Et(ke({id:undefined,action:"load",payload:{options:{lstmOnly:S,corePath:On.corePath,logging:On.logging}}})).then(()=>ye(Xn)).then(()=>Y(Xn,lr,er)).then(()=>le(Dt)).catch(()=>{}),oe})},988:we=>{"use strict";we.exports=tt=>{tt.terminate()}}},we=>{we(we.s=154)}]);